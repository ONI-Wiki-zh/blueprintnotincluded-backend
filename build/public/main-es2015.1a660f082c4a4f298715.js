(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+U4B":function(e,t,i){var n;n=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}return i.m=e,i.c=t,i.p="",i(0)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),r=i(3),s=i(8),o=i(15);function a(e,t,i){var o=null,a=function(e,t){i&&i(e,t),o&&o.visit(e,t)},l="function"==typeof i?a:null,u=!1;if(t){var c="boolean"==typeof t.attachComment&&t.attachComment;((u="boolean"==typeof t.comment&&t.comment)||c)&&((o=new n.CommentHandler).attach=c,t.comment=!0,l=a)}var h,d=!1;t&&"string"==typeof t.sourceType&&(d="module"===t.sourceType),h=t&&"boolean"==typeof t.jsx&&t.jsx?new r.JSXParser(e,t,l):new s.Parser(e,t,l);var p=d?h.parseModule():h.parseScript();return u&&o&&(p.comments=o.comments),h.config.tokens&&(p.tokens=h.tokens),h.config.tolerant&&(p.errors=h.errorHandler.errors),p}t.parse=a,t.parseModule=function(e,t,i){var n=t||{};return n.sourceType="module",a(e,n,i)},t.parseScript=function(e,t,i){var n=t||{};return n.sourceType="script",a(e,n,i)},t.tokenize=function(e,t,i){var n,r=new o.Tokenizer(e,t);n=[];try{for(;;){var s=r.getNextToken();if(!s)break;i&&(s=i(s)),n.push(s)}}catch(a){r.errorHandler.tolerate(a)}return r.errorHandler.tolerant&&(n.errors=r.errors()),n};var l=i(2);t.Syntax=l.Syntax,t.version="4.0.1"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=function(){function e(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return e.prototype.insertInnerComments=function(e,t){if(e.type===n.Syntax.BlockStatement&&0===e.body.length){for(var i=[],r=this.leading.length-1;r>=0;--r){var s=this.leading[r];t.end.offset>=s.start&&(i.unshift(s.comment),this.leading.splice(r,1),this.trailing.splice(r,1))}i.length&&(e.innerComments=i)}},e.prototype.findTrailingComments=function(e){var t=[];if(this.trailing.length>0){for(var i=this.trailing.length-1;i>=0;--i){var n=this.trailing[i];n.start>=e.end.offset&&t.unshift(n.comment)}return this.trailing.length=0,t}var r=this.stack[this.stack.length-1];if(r&&r.node.trailingComments){var s=r.node.trailingComments[0];s&&s.range[0]>=e.end.offset&&(t=r.node.trailingComments,delete r.node.trailingComments)}return t},e.prototype.findLeadingComments=function(e){for(var t,i=[];this.stack.length>0&&(s=this.stack[this.stack.length-1])&&s.start>=e.start.offset;)t=s.node,this.stack.pop();if(t){for(var n=(t.leadingComments?t.leadingComments.length:0)-1;n>=0;--n){var r=t.leadingComments[n];r.range[1]<=e.start.offset&&(i.unshift(r),t.leadingComments.splice(n,1))}return t.leadingComments&&0===t.leadingComments.length&&delete t.leadingComments,i}for(n=this.leading.length-1;n>=0;--n){var s;(s=this.leading[n]).start<=e.start.offset&&(i.unshift(s.comment),this.leading.splice(n,1))}return i},e.prototype.visitNode=function(e,t){if(!(e.type===n.Syntax.Program&&e.body.length>0)){this.insertInnerComments(e,t);var i=this.findTrailingComments(t),r=this.findLeadingComments(t);r.length>0&&(e.leadingComments=r),i.length>0&&(e.trailingComments=i),this.stack.push({node:e,start:t.start.offset})}},e.prototype.visitComment=function(e,t){var i="L"===e.type[0]?"Line":"Block",n={type:i,value:e.value};if(e.range&&(n.range=e.range),e.loc&&(n.loc=e.loc),this.comments.push(n),this.attach){var r={comment:{type:i,value:e.value,range:[t.start.offset,t.end.offset]},start:t.start.offset};e.loc&&(r.comment.loc=e.loc),e.type=i,this.leading.push(r),this.trailing.push(r)}},e.prototype.visit=function(e,t){"LineComment"===e.type||"BlockComment"===e.type?this.visitComment(e,t):this.attach&&this.visitNode(e,t)},e}();t.CommentHandler=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var s=i(4),o=i(5),a=i(6),l=i(7),u=i(8),c=i(13),h=i(14);function d(e){var t;switch(e.type){case a.JSXSyntax.JSXIdentifier:t=e.name;break;case a.JSXSyntax.JSXNamespacedName:var i=e;t=d(i.namespace)+":"+d(i.name);break;case a.JSXSyntax.JSXMemberExpression:var n=e;t=d(n.object)+"."+d(n.property)}return t}c.TokenName[100]="JSXIdentifier",c.TokenName[101]="JSXText";var p=function(e){function t(t,i,n){return e.call(this,t,i,n)||this}return r(t,e),t.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():e.prototype.parsePrimaryExpression.call(this)},t.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},t.prototype.finishJSX=function(){this.nextToken()},t.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},t.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.scanXHTMLEntity=function(e){for(var t="&",i=!0,n=!1,r=!1,o=!1;!this.scanner.eof()&&i&&!n;){var a=this.scanner.source[this.scanner.index];if(a===e)break;if(n=";"===a,t+=a,++this.scanner.index,!n)switch(t.length){case 2:r="#"===a;break;case 3:r&&(i=(o="x"===a)||s.Character.isDecimalDigit(a.charCodeAt(0)),r=r&&!o);break;default:i=(i=i&&!(r&&!s.Character.isDecimalDigit(a.charCodeAt(0))))&&!(o&&!s.Character.isHexDigit(a.charCodeAt(0)))}}if(i&&n&&t.length>2){var l=t.substr(1,t.length-2);r&&l.length>1?t=String.fromCharCode(parseInt(l.substr(1),10)):o&&l.length>2?t=String.fromCharCode(parseInt("0"+l.substr(1),16)):r||o||!h.XHTMLEntities[l]||(t=h.XHTMLEntities[l])}return t},t.prototype.lexJSX=function(){var e=this.scanner.source.charCodeAt(this.scanner.index);if(60===e||62===e||47===e||58===e||61===e||123===e||125===e)return{type:7,value:r=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(34===e||39===e){for(var t=this.scanner.index,i=this.scanner.source[this.scanner.index++],n="";!this.scanner.eof()&&(l=this.scanner.source[this.scanner.index++])!==i;)n+="&"===l?this.scanXHTMLEntity(i):l;return{type:8,value:n,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(46===e){var r,o=this.scanner.source.charCodeAt(this.scanner.index+1),a=this.scanner.source.charCodeAt(this.scanner.index+2);return t=this.scanner.index,this.scanner.index+=(r=46===o&&46===a?"...":".").length,{type:7,value:r,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(96===e)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(s.Character.isIdentifierStart(e)&&92!==e){for(t=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var l=this.scanner.source.charCodeAt(this.scanner.index);if(s.Character.isIdentifierPart(l)&&92!==l)++this.scanner.index;else{if(45!==l)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(t,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}return this.scanner.lex()},t.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var e=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(e)),e},t.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var e=this.scanner.index,t="";!this.scanner.eof();){var i=this.scanner.source[this.scanner.index];if("{"===i||"<"===i)break;++this.scanner.index,t+=i,s.Character.isLineTerminator(i.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===i&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var n={type:101,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index};return t.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(n)),n},t.prototype.peekJSXToken=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.lexJSX();return this.scanner.restoreState(e),t},t.prototype.expectJSX=function(e){var t=this.nextJSXToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},t.prototype.matchJSX=function(e){var t=this.peekJSXToken();return 7===t.type&&t.value===e},t.prototype.parseJSXIdentifier=function(){var e=this.createJSXNode(),t=this.nextJSXToken();return 100!==t.type&&this.throwUnexpectedToken(t),this.finalize(e,new o.JSXIdentifier(t.value))},t.prototype.parseJSXElementName=function(){var e=this.createJSXNode(),t=this.parseJSXIdentifier();if(this.matchJSX(":")){var i=t;this.expectJSX(":");var n=this.parseJSXIdentifier();t=this.finalize(e,new o.JSXNamespacedName(i,n))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var r=t;this.expectJSX(".");var s=this.parseJSXIdentifier();t=this.finalize(e,new o.JSXMemberExpression(r,s))}return t},t.prototype.parseJSXAttributeName=function(){var e,t=this.createJSXNode(),i=this.parseJSXIdentifier();if(this.matchJSX(":")){var n=i;this.expectJSX(":");var r=this.parseJSXIdentifier();e=this.finalize(t,new o.JSXNamespacedName(n,r))}else e=i;return e},t.prototype.parseJSXStringLiteralAttribute=function(){var e=this.createJSXNode(),t=this.nextJSXToken();8!==t.type&&this.throwUnexpectedToken(t);var i=this.getTokenRaw(t);return this.finalize(e,new l.Literal(t.value,i))},t.prototype.parseJSXExpressionAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new o.JSXExpressionContainer(t))},t.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},t.prototype.parseJSXNameValueAttribute=function(){var e=this.createJSXNode(),t=this.parseJSXAttributeName(),i=null;return this.matchJSX("=")&&(this.expectJSX("="),i=this.parseJSXAttributeValue()),this.finalize(e,new o.JSXAttribute(t,i))},t.prototype.parseJSXSpreadAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new o.JSXSpreadAttribute(t))},t.prototype.parseJSXAttributes=function(){for(var e=[];!this.matchJSX("/")&&!this.matchJSX(">");){var t=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();e.push(t)}return e},t.prototype.parseJSXOpeningElement=function(){var e=this.createJSXNode();this.expectJSX("<");var t=this.parseJSXElementName(),i=this.parseJSXAttributes(),n=this.matchJSX("/");return n&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new o.JSXOpeningElement(t,n,i))},t.prototype.parseJSXBoundaryElement=function(){var e=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var t=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(e,new o.JSXClosingElement(t))}var i=this.parseJSXElementName(),n=this.parseJSXAttributes(),r=this.matchJSX("/");return r&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new o.JSXOpeningElement(i,r,n))},t.prototype.parseJSXEmptyExpression=function(){var e=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(e,new o.JSXEmptyExpression)},t.prototype.parseJSXExpressionContainer=function(){var e,t=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(e=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),e=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(t,new o.JSXExpressionContainer(e))},t.prototype.parseJSXChildren=function(){for(var e=[];!this.scanner.eof();){var t=this.createJSXChildNode(),i=this.nextJSXText();if(i.start<i.end){var n=this.getTokenRaw(i),r=this.finalize(t,new o.JSXText(i.value,n));e.push(r)}if("{"!==this.scanner.source[this.scanner.index])break;var s=this.parseJSXExpressionContainer();e.push(s)}return e},t.prototype.parseComplexJSXElement=function(e){for(var t=[];!this.scanner.eof();){e.children=e.children.concat(this.parseJSXChildren());var i=this.createJSXChildNode(),n=this.parseJSXBoundaryElement();if(n.type===a.JSXSyntax.JSXOpeningElement){var r=n;if(r.selfClosing){var s=this.finalize(i,new o.JSXElement(r,[],null));e.children.push(s)}else t.push(e),e={node:i,opening:r,closing:null,children:[]}}if(n.type===a.JSXSyntax.JSXClosingElement){e.closing=n;var l=d(e.opening.name);if(l!==d(e.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",l),!(t.length>0))break;s=this.finalize(e.node,new o.JSXElement(e.opening,e.children,e.closing)),(e=t[t.length-1]).children.push(s),t.pop()}}return e},t.prototype.parseJSXElement=function(){var e=this.createJSXNode(),t=this.parseJSXOpeningElement(),i=[],n=null;if(!t.selfClosing){var r=this.parseComplexJSXElement({node:e,opening:t,closing:n,children:i});i=r.children,n=r.closing}return this.finalize(e,new o.JSXElement(t,i,n))},t.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var e=this.parseJSXElement();return this.finishJSX(),e},t.prototype.isStartOfExpression=function(){return e.prototype.isStartOfExpression.call(this)||this.match("<")},t}(u.Parser);t.JSXParser=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};t.Character={fromCodePoint:function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))},isWhiteSpace:function(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0},isLineTerminator:function(e){return 10===e||13===e||8232===e||8233===e},isIdentifierStart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&i.NonAsciiIdentifierStart.test(t.Character.fromCodePoint(e))},isIdentifierPart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&i.NonAsciiIdentifierPart.test(t.Character.fromCodePoint(e))},isDecimalDigit:function(e){return e>=48&&e<=57},isHexDigit:function(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102},isOctalDigit:function(e){return e>=48&&e<=55}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(6);t.JSXClosingElement=function(e){this.type=n.JSXSyntax.JSXClosingElement,this.name=e},t.JSXElement=function(e,t,i){this.type=n.JSXSyntax.JSXElement,this.openingElement=e,this.children=t,this.closingElement=i},t.JSXEmptyExpression=function(){this.type=n.JSXSyntax.JSXEmptyExpression},t.JSXExpressionContainer=function(e){this.type=n.JSXSyntax.JSXExpressionContainer,this.expression=e},t.JSXIdentifier=function(e){this.type=n.JSXSyntax.JSXIdentifier,this.name=e},t.JSXMemberExpression=function(e,t){this.type=n.JSXSyntax.JSXMemberExpression,this.object=e,this.property=t},t.JSXAttribute=function(e,t){this.type=n.JSXSyntax.JSXAttribute,this.name=e,this.value=t},t.JSXNamespacedName=function(e,t){this.type=n.JSXSyntax.JSXNamespacedName,this.namespace=e,this.name=t},t.JSXOpeningElement=function(e,t,i){this.type=n.JSXSyntax.JSXOpeningElement,this.name=e,this.selfClosing=t,this.attributes=i},t.JSXSpreadAttribute=function(e){this.type=n.JSXSyntax.JSXSpreadAttribute,this.argument=e},t.JSXText=function(e,t){this.type=n.JSXSyntax.JSXText,this.value=e,this.raw=t}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2);t.ArrayExpression=function(e){this.type=n.Syntax.ArrayExpression,this.elements=e},t.ArrayPattern=function(e){this.type=n.Syntax.ArrayPattern,this.elements=e},t.ArrowFunctionExpression=function(e,t,i){this.type=n.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=i,this.async=!1},t.AssignmentExpression=function(e,t,i){this.type=n.Syntax.AssignmentExpression,this.operator=e,this.left=t,this.right=i},t.AssignmentPattern=function(e,t){this.type=n.Syntax.AssignmentPattern,this.left=e,this.right=t},t.AsyncArrowFunctionExpression=function(e,t,i){this.type=n.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=i,this.async=!0},t.AsyncFunctionDeclaration=function(e,t,i){this.type=n.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=i,this.generator=!1,this.expression=!1,this.async=!0},t.AsyncFunctionExpression=function(e,t,i){this.type=n.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=i,this.generator=!1,this.expression=!1,this.async=!0},t.AwaitExpression=function(e){this.type=n.Syntax.AwaitExpression,this.argument=e},t.BinaryExpression=function(e,t,i){this.type="||"===e||"&&"===e?n.Syntax.LogicalExpression:n.Syntax.BinaryExpression,this.operator=e,this.left=t,this.right=i},t.BlockStatement=function(e){this.type=n.Syntax.BlockStatement,this.body=e},t.BreakStatement=function(e){this.type=n.Syntax.BreakStatement,this.label=e},t.CallExpression=function(e,t){this.type=n.Syntax.CallExpression,this.callee=e,this.arguments=t},t.CatchClause=function(e,t){this.type=n.Syntax.CatchClause,this.param=e,this.body=t},t.ClassBody=function(e){this.type=n.Syntax.ClassBody,this.body=e},t.ClassDeclaration=function(e,t,i){this.type=n.Syntax.ClassDeclaration,this.id=e,this.superClass=t,this.body=i},t.ClassExpression=function(e,t,i){this.type=n.Syntax.ClassExpression,this.id=e,this.superClass=t,this.body=i},t.ComputedMemberExpression=function(e,t){this.type=n.Syntax.MemberExpression,this.computed=!0,this.object=e,this.property=t},t.ConditionalExpression=function(e,t,i){this.type=n.Syntax.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=i},t.ContinueStatement=function(e){this.type=n.Syntax.ContinueStatement,this.label=e},t.DebuggerStatement=function(){this.type=n.Syntax.DebuggerStatement},t.Directive=function(e,t){this.type=n.Syntax.ExpressionStatement,this.expression=e,this.directive=t},t.DoWhileStatement=function(e,t){this.type=n.Syntax.DoWhileStatement,this.body=e,this.test=t},t.EmptyStatement=function(){this.type=n.Syntax.EmptyStatement},t.ExportAllDeclaration=function(e){this.type=n.Syntax.ExportAllDeclaration,this.source=e},t.ExportDefaultDeclaration=function(e){this.type=n.Syntax.ExportDefaultDeclaration,this.declaration=e},t.ExportNamedDeclaration=function(e,t,i){this.type=n.Syntax.ExportNamedDeclaration,this.declaration=e,this.specifiers=t,this.source=i},t.ExportSpecifier=function(e,t){this.type=n.Syntax.ExportSpecifier,this.exported=t,this.local=e},t.ExpressionStatement=function(e){this.type=n.Syntax.ExpressionStatement,this.expression=e},t.ForInStatement=function(e,t,i){this.type=n.Syntax.ForInStatement,this.left=e,this.right=t,this.body=i,this.each=!1},t.ForOfStatement=function(e,t,i){this.type=n.Syntax.ForOfStatement,this.left=e,this.right=t,this.body=i},t.ForStatement=function(e,t,i,r){this.type=n.Syntax.ForStatement,this.init=e,this.test=t,this.update=i,this.body=r},t.FunctionDeclaration=function(e,t,i,r){this.type=n.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=i,this.generator=r,this.expression=!1,this.async=!1},t.FunctionExpression=function(e,t,i,r){this.type=n.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=i,this.generator=r,this.expression=!1,this.async=!1},t.Identifier=function(e){this.type=n.Syntax.Identifier,this.name=e},t.IfStatement=function(e,t,i){this.type=n.Syntax.IfStatement,this.test=e,this.consequent=t,this.alternate=i},t.ImportDeclaration=function(e,t){this.type=n.Syntax.ImportDeclaration,this.specifiers=e,this.source=t},t.ImportDefaultSpecifier=function(e){this.type=n.Syntax.ImportDefaultSpecifier,this.local=e},t.ImportNamespaceSpecifier=function(e){this.type=n.Syntax.ImportNamespaceSpecifier,this.local=e},t.ImportSpecifier=function(e,t){this.type=n.Syntax.ImportSpecifier,this.local=e,this.imported=t},t.LabeledStatement=function(e,t){this.type=n.Syntax.LabeledStatement,this.label=e,this.body=t},t.Literal=function(e,t){this.type=n.Syntax.Literal,this.value=e,this.raw=t},t.MetaProperty=function(e,t){this.type=n.Syntax.MetaProperty,this.meta=e,this.property=t},t.MethodDefinition=function(e,t,i,r,s){this.type=n.Syntax.MethodDefinition,this.key=e,this.computed=t,this.value=i,this.kind=r,this.static=s},t.Module=function(e){this.type=n.Syntax.Program,this.body=e,this.sourceType="module"},t.NewExpression=function(e,t){this.type=n.Syntax.NewExpression,this.callee=e,this.arguments=t},t.ObjectExpression=function(e){this.type=n.Syntax.ObjectExpression,this.properties=e},t.ObjectPattern=function(e){this.type=n.Syntax.ObjectPattern,this.properties=e},t.Property=function(e,t,i,r,s,o){this.type=n.Syntax.Property,this.key=t,this.computed=i,this.value=r,this.kind=e,this.method=s,this.shorthand=o},t.RegexLiteral=function(e,t,i,r){this.type=n.Syntax.Literal,this.value=e,this.raw=t,this.regex={pattern:i,flags:r}},t.RestElement=function(e){this.type=n.Syntax.RestElement,this.argument=e},t.ReturnStatement=function(e){this.type=n.Syntax.ReturnStatement,this.argument=e},t.Script=function(e){this.type=n.Syntax.Program,this.body=e,this.sourceType="script"},t.SequenceExpression=function(e){this.type=n.Syntax.SequenceExpression,this.expressions=e},t.SpreadElement=function(e){this.type=n.Syntax.SpreadElement,this.argument=e},t.StaticMemberExpression=function(e,t){this.type=n.Syntax.MemberExpression,this.computed=!1,this.object=e,this.property=t},t.Super=function(){this.type=n.Syntax.Super},t.SwitchCase=function(e,t){this.type=n.Syntax.SwitchCase,this.test=e,this.consequent=t},t.SwitchStatement=function(e,t){this.type=n.Syntax.SwitchStatement,this.discriminant=e,this.cases=t},t.TaggedTemplateExpression=function(e,t){this.type=n.Syntax.TaggedTemplateExpression,this.tag=e,this.quasi=t},t.TemplateElement=function(e,t){this.type=n.Syntax.TemplateElement,this.value=e,this.tail=t},t.TemplateLiteral=function(e,t){this.type=n.Syntax.TemplateLiteral,this.quasis=e,this.expressions=t},t.ThisExpression=function(){this.type=n.Syntax.ThisExpression},t.ThrowStatement=function(e){this.type=n.Syntax.ThrowStatement,this.argument=e},t.TryStatement=function(e,t,i){this.type=n.Syntax.TryStatement,this.block=e,this.handler=t,this.finalizer=i},t.UnaryExpression=function(e,t){this.type=n.Syntax.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0},t.UpdateExpression=function(e,t,i){this.type=n.Syntax.UpdateExpression,this.operator=e,this.argument=t,this.prefix=i},t.VariableDeclaration=function(e,t){this.type=n.Syntax.VariableDeclaration,this.declarations=e,this.kind=t},t.VariableDeclarator=function(e,t){this.type=n.Syntax.VariableDeclarator,this.id=e,this.init=t},t.WhileStatement=function(e,t){this.type=n.Syntax.WhileStatement,this.test=e,this.body=t},t.WithStatement=function(e,t){this.type=n.Syntax.WithStatement,this.object=e,this.body=t},t.YieldExpression=function(e,t){this.type=n.Syntax.YieldExpression,this.argument=e,this.delegate=t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(9),r=i(10),s=i(11),o=i(7),a=i(12),l=i(2),u=i(13),c=function(){function e(e,t,i){void 0===t&&(t={}),this.config={range:"boolean"==typeof t.range&&t.range,loc:"boolean"==typeof t.loc&&t.loc,source:null,tokens:"boolean"==typeof t.tokens&&t.tokens,comment:"boolean"==typeof t.comment&&t.comment,tolerant:"boolean"==typeof t.tolerant&&t.tolerant},this.config.loc&&t.source&&null!==t.source&&(this.config.source=String(t.source)),this.delegate=i,this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new a.Scanner(e,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return e.prototype.throwError=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var r=Array.prototype.slice.call(arguments,1),s=e.replace(/%(\d)/g,(function(e,t){return n.assert(t<r.length,"Message reference must be in range"),r[t]})),o=this.lastMarker.index,a=this.lastMarker.line,l=this.lastMarker.column+1;throw this.errorHandler.createError(o,a,l,s)},e.prototype.tolerateError=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var r=Array.prototype.slice.call(arguments,1),s=e.replace(/%(\d)/g,(function(e,t){return n.assert(t<r.length,"Message reference must be in range"),r[t]})),o=this.lastMarker.index,a=this.scanner.lineNumber,l=this.lastMarker.column+1;this.errorHandler.tolerateError(o,a,l,s)},e.prototype.unexpectedTokenError=function(e,t){var i,n=t||s.Messages.UnexpectedToken;return e?(t||(n=2===e.type?s.Messages.UnexpectedEOS:3===e.type?s.Messages.UnexpectedIdentifier:6===e.type?s.Messages.UnexpectedNumber:8===e.type?s.Messages.UnexpectedString:10===e.type?s.Messages.UnexpectedTemplate:s.Messages.UnexpectedToken,4===e.type&&(this.scanner.isFutureReservedWord(e.value)?n=s.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(e.value)&&(n=s.Messages.StrictReservedWord))),i=e.value):i="ILLEGAL",n=n.replace("%0",i),e&&"number"==typeof e.lineNumber?this.errorHandler.createError(e.start,e.lineNumber,e.start-(this.lastMarker.index-this.lastMarker.column)+1,n):this.errorHandler.createError(this.lastMarker.index,this.lastMarker.line,this.lastMarker.column+1,n)},e.prototype.throwUnexpectedToken=function(e,t){throw this.unexpectedTokenError(e,t)},e.prototype.tolerateUnexpectedToken=function(e,t){this.errorHandler.tolerate(this.unexpectedTokenError(e,t))},e.prototype.collectComments=function(){if(this.config.comment){var e=this.scanner.scanComments();if(e.length>0&&this.delegate)for(var t=0;t<e.length;++t){var i=e[t],n=void 0;n={type:i.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(i.slice[0],i.slice[1])},this.config.range&&(n.range=i.range),this.config.loc&&(n.loc=i.loc),this.delegate(n,{start:{line:i.loc.start.line,column:i.loc.start.column,offset:i.range[0]},end:{line:i.loc.end.line,column:i.loc.end.column,offset:i.range[1]}})}}else this.scanner.scanComments()},e.prototype.getTokenRaw=function(e){return this.scanner.source.slice(e.start,e.end)},e.prototype.convertToken=function(e){var t={type:u.TokenName[e.type],value:this.getTokenRaw(e)};return this.config.range&&(t.range=[e.start,e.end]),this.config.loc&&(t.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),9===e.type&&(t.regex={pattern:e.pattern,flags:e.flags}),t},e.prototype.nextToken=function(){var e=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var t=this.scanner.lex();return this.hasLineTerminator=e.lineNumber!==t.lineNumber,t&&this.context.strict&&3===t.type&&this.scanner.isStrictModeReservedWord(t.value)&&(t.type=4),this.lookahead=t,this.config.tokens&&2!==t.type&&this.tokens.push(this.convertToken(t)),e},e.prototype.nextRegexToken=function(){this.collectComments();var e=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(e))),this.lookahead=e,this.nextToken(),e},e.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},e.prototype.startNode=function(e,t){void 0===t&&(t=0);var i=e.start-e.lineStart,n=e.lineNumber;return i<0&&(i+=t,n--),{index:e.start,line:n,column:i}},e.prototype.finalize=function(e,t){return this.config.range&&(t.range=[e.index,this.lastMarker.index]),this.config.loc&&(t.loc={start:{line:e.line,column:e.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(t.loc.source=this.config.source)),this.delegate&&this.delegate(t,{start:{line:e.line,column:e.column,offset:e.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}}),t},e.prototype.expect=function(e){var t=this.nextToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var e=this.lookahead;7===e.type&&","===e.value?this.nextToken():7===e.type&&";"===e.value?(this.nextToken(),this.tolerateUnexpectedToken(e)):this.tolerateUnexpectedToken(e,s.Messages.UnexpectedToken)}else this.expect(",")},e.prototype.expectKeyword=function(e){var t=this.nextToken();4===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.match=function(e){return 7===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchKeyword=function(e){return 4===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchContextualKeyword=function(e){return 3===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchAssign=function(){if(7!==this.lookahead.type)return!1;var e=this.lookahead.value;return"="===e||"*="===e||"**="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e},e.prototype.isolateCoverGrammar=function(e){var t=this.context.isBindingElement,i=this.context.isAssignmentTarget,n=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var r=e.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=t,this.context.isAssignmentTarget=i,this.context.firstCoverInitializedNameError=n,r},e.prototype.inheritCoverGrammar=function(e){var t=this.context.isBindingElement,i=this.context.isAssignmentTarget,n=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var r=e.call(this);return this.context.isBindingElement=this.context.isBindingElement&&t,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&i,this.context.firstCoverInitializedNameError=n||this.context.firstCoverInitializedNameError,r},e.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},e.prototype.parsePrimaryExpression=function(){var e,t,i,n=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead),e=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(n,new o.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,s.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),i=this.getTokenRaw(t),e=this.finalize(n,new o.Literal(t.value,i));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),i=this.getTokenRaw(t),e=this.finalize(n,new o.Literal("true"===t.value,i));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),i=this.getTokenRaw(t),e=this.finalize(n,new o.Literal(null,i));break;case 10:e=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,e=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":e=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":e=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,t=this.nextRegexToken(),i=this.getTokenRaw(t),e=this.finalize(n,new o.RegexLiteral(t.regex,i,t.pattern,t.flags));break;default:e=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?e=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?e=this.finalize(n,new o.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?e=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),e=this.finalize(n,new o.ThisExpression)):e=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:e=this.throwUnexpectedToken(this.nextToken())}return e},e.prototype.parseSpreadElement=function(){var e=this.createNode();this.expect("...");var t=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(e,new o.SpreadElement(t))},e.prototype.parseArrayInitializer=function(){var e=this.createNode(),t=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),t.push(null);else if(this.match("...")){var i=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),t.push(i)}else t.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(e,new o.ArrayExpression(t))},e.prototype.parsePropertyMethod=function(e){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var t=this.context.strict,i=this.context.allowStrictDirective;this.context.allowStrictDirective=e.simple;var n=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&e.firstRestricted&&this.tolerateUnexpectedToken(e.firstRestricted,e.message),this.context.strict&&e.stricted&&this.tolerateUnexpectedToken(e.stricted,e.message),this.context.strict=t,this.context.allowStrictDirective=i,n},e.prototype.parsePropertyMethodFunction=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var i=this.parseFormalParameters(),n=this.parsePropertyMethod(i);return this.context.allowYield=t,this.finalize(e,new o.FunctionExpression(null,i.params,n,!1))},e.prototype.parsePropertyMethodAsyncFunction=function(){var e=this.createNode(),t=this.context.allowYield,i=this.context.await;this.context.allowYield=!1,this.context.await=!0;var n=this.parseFormalParameters(),r=this.parsePropertyMethod(n);return this.context.allowYield=t,this.context.await=i,this.finalize(e,new o.AsyncFunctionExpression(null,n.params,r))},e.prototype.parseObjectPropertyKey=function(){var e,t=this.createNode(),i=this.nextToken();switch(i.type){case 8:case 6:this.context.strict&&i.octal&&this.tolerateUnexpectedToken(i,s.Messages.StrictOctalLiteral);var n=this.getTokenRaw(i);e=this.finalize(t,new o.Literal(i.value,n));break;case 3:case 1:case 5:case 4:e=this.finalize(t,new o.Identifier(i.value));break;case 7:"["===i.value?(e=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):e=this.throwUnexpectedToken(i);break;default:e=this.throwUnexpectedToken(i)}return e},e.prototype.isPropertyKey=function(e,t){return e.type===l.Syntax.Identifier&&e.name===t||e.type===l.Syntax.Literal&&e.value===t},e.prototype.parseObjectProperty=function(e){var t,i=this.createNode(),n=this.lookahead,r=null,a=null,l=!1,u=!1,c=!1,h=!1;if(3===n.type){var d=n.value;this.nextToken(),l=this.match("["),r=(h=!(this.hasLineTerminator||"async"!==d||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(i,new o.Identifier(d))}else this.match("*")?this.nextToken():(l=this.match("["),r=this.parseObjectPropertyKey());var p=this.qualifiedPropertyName(this.lookahead);if(3===n.type&&!h&&"get"===n.value&&p)t="get",l=this.match("["),r=this.parseObjectPropertyKey(),this.context.allowYield=!1,a=this.parseGetterMethod();else if(3===n.type&&!h&&"set"===n.value&&p)t="set",l=this.match("["),r=this.parseObjectPropertyKey(),a=this.parseSetterMethod();else if(7===n.type&&"*"===n.value&&p)t="init",l=this.match("["),r=this.parseObjectPropertyKey(),a=this.parseGeneratorMethod(),u=!0;else if(r||this.throwUnexpectedToken(this.lookahead),t="init",this.match(":")&&!h)!l&&this.isPropertyKey(r,"__proto__")&&(e.value&&this.tolerateError(s.Messages.DuplicateProtoProperty),e.value=!0),this.nextToken(),a=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))a=h?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),u=!0;else if(3===n.type)if(d=this.finalize(i,new o.Identifier(n.value)),this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),c=!0;var f=this.isolateCoverGrammar(this.parseAssignmentExpression);a=this.finalize(i,new o.AssignmentPattern(d,f))}else c=!0,a=d;else this.throwUnexpectedToken(this.nextToken());return this.finalize(i,new o.Property(t,r,l,a,u,c))},e.prototype.parseObjectInitializer=function(){var e=this.createNode();this.expect("{");for(var t=[],i={value:!1};!this.match("}");)t.push(this.parseObjectProperty(i)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(e,new o.ObjectExpression(t))},e.prototype.parseTemplateHead=function(){n.assert(this.lookahead.head,"Template literal must start with a template head");var e=this.createNode(),t=this.nextToken();return this.finalize(e,new o.TemplateElement({raw:t.value,cooked:t.cooked},t.tail))},e.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var e=this.createNode(),t=this.nextToken();return this.finalize(e,new o.TemplateElement({raw:t.value,cooked:t.cooked},t.tail))},e.prototype.parseTemplateLiteral=function(){var e=this.createNode(),t=[],i=[],n=this.parseTemplateHead();for(i.push(n);!n.tail;)t.push(this.parseExpression()),n=this.parseTemplateElement(),i.push(n);return this.finalize(e,new o.TemplateLiteral(i,t))},e.prototype.reinterpretExpressionAsPattern=function(e){switch(e.type){case l.Syntax.Identifier:case l.Syntax.MemberExpression:case l.Syntax.RestElement:case l.Syntax.AssignmentPattern:break;case l.Syntax.SpreadElement:e.type=l.Syntax.RestElement,this.reinterpretExpressionAsPattern(e.argument);break;case l.Syntax.ArrayExpression:e.type=l.Syntax.ArrayPattern;for(var t=0;t<e.elements.length;t++)null!==e.elements[t]&&this.reinterpretExpressionAsPattern(e.elements[t]);break;case l.Syntax.ObjectExpression:for(e.type=l.Syntax.ObjectPattern,t=0;t<e.properties.length;t++)this.reinterpretExpressionAsPattern(e.properties[t].value);break;case l.Syntax.AssignmentExpression:e.type=l.Syntax.AssignmentPattern,delete e.operator,this.reinterpretExpressionAsPattern(e.left)}},e.prototype.parseGroupExpression=function(){var e;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),e={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var t=this.lookahead,i=[];if(this.match("..."))e=this.parseRestElement(i),this.expect(")"),this.match("=>")||this.expect("=>"),e={type:"ArrowParameterPlaceHolder",params:[e],async:!1};else{var n=!1;if(this.context.isBindingElement=!0,e=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var r=[];for(this.context.isAssignmentTarget=!1,r.push(e);2!==this.lookahead.type&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var s=0;s<r.length;s++)this.reinterpretExpressionAsPattern(r[s]);n=!0,e={type:"ArrowParameterPlaceHolder",params:r,async:!1}}else if(this.match("...")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),r.push(this.parseRestElement(i)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1,s=0;s<r.length;s++)this.reinterpretExpressionAsPattern(r[s]);n=!0,e={type:"ArrowParameterPlaceHolder",params:r,async:!1}}else r.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(n)break}n||(e=this.finalize(this.startNode(t),new o.SequenceExpression(r)))}if(!n){if(this.expect(")"),this.match("=>")&&(e.type===l.Syntax.Identifier&&"yield"===e.name&&(n=!0,e={type:"ArrowParameterPlaceHolder",params:[e],async:!1}),!n)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),e.type===l.Syntax.SequenceExpression)for(s=0;s<e.expressions.length;s++)this.reinterpretExpressionAsPattern(e.expressions[s]);else this.reinterpretExpressionAsPattern(e);e={type:"ArrowParameterPlaceHolder",params:e.type===l.Syntax.SequenceExpression?e.expressions:[e],async:!1}}this.context.isBindingElement=!1}}}return e},e.prototype.parseArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.isIdentifierName=function(e){return 3===e.type||4===e.type||1===e.type||5===e.type},e.prototype.parseIdentifierName=function(){var e=this.createNode(),t=this.nextToken();return this.isIdentifierName(t)||this.throwUnexpectedToken(t),this.finalize(e,new o.Identifier(t.value))},e.prototype.parseNewExpression=function(){var e,t=this.createNode(),i=this.parseIdentifierName();if(n.assert("new"===i.name,"New expression must start with `new`"),this.match("."))if(this.nextToken(),3===this.lookahead.type&&this.context.inFunctionBody&&"target"===this.lookahead.value){var r=this.parseIdentifierName();e=new o.MetaProperty(i,r)}else this.throwUnexpectedToken(this.lookahead);else{var s=this.isolateCoverGrammar(this.parseLeftHandSideExpression),a=this.match("(")?this.parseArguments():[];e=new o.NewExpression(s,a),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(t,e)},e.prototype.parseAsyncArgument=function(){var e=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,e},e.prototype.parseAsyncArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.parseLeftHandSideExpressionAllowCall=function(){var e,t=this.lookahead,i=this.matchContextualKeyword("async"),n=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(e=this.createNode(),this.nextToken(),e=this.finalize(e,new o.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):e=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var r=this.parseIdentifierName();e=this.finalize(this.startNode(t),new o.StaticMemberExpression(e,r))}else if(this.match("(")){var s=i&&t.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var a=s?this.parseAsyncArguments():this.parseArguments();if(e=this.finalize(this.startNode(t),new o.CallExpression(e,a)),s&&this.match("=>")){for(var l=0;l<a.length;++l)this.reinterpretExpressionAsPattern(a[l]);e={type:"ArrowParameterPlaceHolder",params:a,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),r=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),e=this.finalize(this.startNode(t),new o.ComputedMemberExpression(e,r));else{if(10!==this.lookahead.type||!this.lookahead.head)break;var u=this.parseTemplateLiteral();e=this.finalize(this.startNode(t),new o.TaggedTemplateExpression(e,u))}return this.context.allowIn=n,e},e.prototype.parseSuper=function(){var e=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(e,new o.Super)},e.prototype.parseLeftHandSideExpression=function(){n.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var e=this.startNode(this.lookahead),t=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var i=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),t=this.finalize(e,new o.ComputedMemberExpression(t,i))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),i=this.parseIdentifierName(),t=this.finalize(e,new o.StaticMemberExpression(t,i));else{if(10!==this.lookahead.type||!this.lookahead.head)break;var r=this.parseTemplateLiteral();t=this.finalize(e,new o.TaggedTemplateExpression(t,r))}return t},e.prototype.parseUpdateExpression=function(){var e,t=this.lookahead;if(this.match("++")||this.match("--")){var i=this.startNode(t),n=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&e.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(s.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),e=this.finalize(i,new o.UpdateExpression(n.value,e,a=!0)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(e=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&7===this.lookahead.type&&(this.match("++")||this.match("--"))){this.context.strict&&e.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(s.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var r=this.nextToken().value,a=!1;e=this.finalize(this.startNode(t),new o.UpdateExpression(r,e,a))}return e},e.prototype.parseAwaitExpression=function(){var e=this.createNode();this.nextToken();var t=this.parseUnaryExpression();return this.finalize(e,new o.AwaitExpression(t))},e.prototype.parseUnaryExpression=function(){var e;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var t=this.startNode(this.lookahead),i=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),e=this.finalize(t,new o.UnaryExpression(i.value,e)),this.context.strict&&"delete"===e.operator&&e.argument.type===l.Syntax.Identifier&&this.tolerateError(s.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else e=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return e},e.prototype.parseExponentiationExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseUnaryExpression);if(t.type!==l.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var i=t,n=this.isolateCoverGrammar(this.parseExponentiationExpression);t=this.finalize(this.startNode(e),new o.BinaryExpression("**",i,n))}return t},e.prototype.binaryPrecedence=function(e){var t=e.value;return 7===e.type?this.operatorPrecedence[t]||0:4===e.type&&("instanceof"===t||this.context.allowIn&&"in"===t)?7:0},e.prototype.parseBinaryExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseExponentiationExpression),i=this.lookahead,n=this.binaryPrecedence(i);if(n>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var r=[e,this.lookahead],s=t,a=this.isolateCoverGrammar(this.parseExponentiationExpression),l=[s,i.value,a],u=[n];!((n=this.binaryPrecedence(this.lookahead))<=0);){for(;l.length>2&&n<=u[u.length-1];){a=l.pop();var c=l.pop();u.pop(),s=l.pop(),r.pop();var h=this.startNode(r[r.length-1]);l.push(this.finalize(h,new o.BinaryExpression(c,s,a)))}l.push(this.nextToken().value),u.push(n),r.push(this.lookahead),l.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var d=l.length-1;t=l[d];for(var p=r.pop();d>1;){var f=r.pop();h=this.startNode(f,p&&p.lineStart),t=this.finalize(h,new o.BinaryExpression(c=l[d-1],l[d-2],t)),d-=2,p=f}}return t},e.prototype.parseConditionalExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var i=this.context.allowIn;this.context.allowIn=!0;var n=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=i,this.expect(":");var r=this.isolateCoverGrammar(this.parseAssignmentExpression);t=this.finalize(this.startNode(e),new o.ConditionalExpression(t,n,r)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return t},e.prototype.checkPatternParam=function(e,t){switch(t.type){case l.Syntax.Identifier:this.validateParam(e,t,t.name);break;case l.Syntax.RestElement:this.checkPatternParam(e,t.argument);break;case l.Syntax.AssignmentPattern:this.checkPatternParam(e,t.left);break;case l.Syntax.ArrayPattern:for(var i=0;i<t.elements.length;i++)null!==t.elements[i]&&this.checkPatternParam(e,t.elements[i]);break;case l.Syntax.ObjectPattern:for(i=0;i<t.properties.length;i++)this.checkPatternParam(e,t.properties[i].value)}e.simple=e.simple&&t instanceof o.Identifier},e.prototype.reinterpretAsCoverFormalsList=function(e){var t,i=[e],n=!1;switch(e.type){case l.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":i=e.params,n=e.async;break;default:return null}t={simple:!0,paramSet:{}};for(var r=0;r<i.length;++r)(o=i[r]).type===l.Syntax.AssignmentPattern?o.right.type===l.Syntax.YieldExpression&&(o.right.argument&&this.throwUnexpectedToken(this.lookahead),o.right.type=l.Syntax.Identifier,o.right.name="yield",delete o.right.argument,delete o.right.delegate):n&&o.type===l.Syntax.Identifier&&"await"===o.name&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(t,o),i[r]=o;if(this.context.strict||!this.context.allowYield)for(r=0;r<i.length;++r){var o;(o=i[r]).type===l.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}return t.message===s.Messages.StrictParamDupe&&this.throwUnexpectedToken(this.context.strict?t.stricted:t.firstRestricted,t.message),{simple:t.simple,params:i,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.parseAssignmentExpression=function(){var e;if(!this.context.allowYield&&this.matchKeyword("yield"))e=this.parseYieldExpression();else{var t=this.lookahead,i=t;if(e=this.parseConditionalExpression(),3===i.type&&i.lineNumber===this.lookahead.lineNumber&&"async"===i.value&&(3===this.lookahead.type||this.matchKeyword("yield"))){var n=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(n),e={type:"ArrowParameterPlaceHolder",params:[n],async:!0}}if("ArrowParameterPlaceHolder"===e.type||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var r=e.async,a=this.reinterpretAsCoverFormalsList(e);if(a){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var u=this.context.strict,c=this.context.allowStrictDirective;this.context.allowStrictDirective=a.simple;var h=this.context.allowYield,d=this.context.await;this.context.allowYield=!0,this.context.await=r;var p=this.startNode(t);this.expect("=>");var f=void 0;if(this.match("{")){var m=this.context.allowIn;this.context.allowIn=!0,f=this.parseFunctionSourceElements(),this.context.allowIn=m}else f=this.isolateCoverGrammar(this.parseAssignmentExpression);var g=f.type!==l.Syntax.BlockStatement;this.context.strict&&a.firstRestricted&&this.throwUnexpectedToken(a.firstRestricted,a.message),this.context.strict&&a.stricted&&this.tolerateUnexpectedToken(a.stricted,a.message),e=this.finalize(p,r?new o.AsyncArrowFunctionExpression(a.params,f,g):new o.ArrowFunctionExpression(a.params,f,g)),this.context.strict=u,this.context.allowStrictDirective=c,this.context.allowYield=h,this.context.await=d}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.strict&&e.type===l.Syntax.Identifier){var y=e;this.scanner.isRestrictedWord(y.name)&&this.tolerateUnexpectedToken(i,s.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(y.name)&&this.tolerateUnexpectedToken(i,s.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(e):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var v=(i=this.nextToken()).value,b=this.isolateCoverGrammar(this.parseAssignmentExpression);e=this.finalize(this.startNode(t),new o.AssignmentExpression(v,e,b)),this.context.firstCoverInitializedNameError=null}}return e},e.prototype.parseExpression=function(){var e=this.lookahead,t=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var i=[];for(i.push(t);2!==this.lookahead.type&&this.match(",");)this.nextToken(),i.push(this.isolateCoverGrammar(this.parseAssignmentExpression));t=this.finalize(this.startNode(e),new o.SequenceExpression(i))}return t},e.prototype.parseStatementListItem=function(){var e;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,4===this.lookahead.type)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalExportDeclaration),e=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalImportDeclaration),e=this.parseImportDeclaration();break;case"const":e=this.parseLexicalDeclaration({inFor:!1});break;case"function":e=this.parseFunctionDeclaration();break;case"class":e=this.parseClassDeclaration();break;case"let":e=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:e=this.parseStatement()}else e=this.parseStatement();return e},e.prototype.parseBlock=function(){var e=this.createNode();this.expect("{");for(var t=[];!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.finalize(e,new o.BlockStatement(t))},e.prototype.parseLexicalBinding=function(e,t){var i=this.createNode(),n=this.parsePattern([],e);this.context.strict&&n.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(s.Messages.StrictVarName);var r=null;return"const"===e?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),r=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(s.Messages.DeclarationMissingInitializer,"const")):(!t.inFor&&n.type!==l.Syntax.Identifier||this.match("="))&&(this.expect("="),r=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(i,new o.VariableDeclarator(n,r))},e.prototype.parseBindingList=function(e,t){for(var i=[this.parseLexicalBinding(e,t)];this.match(",");)this.nextToken(),i.push(this.parseLexicalBinding(e,t));return i},e.prototype.isLexicalDeclaration=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.scanner.lex();return this.scanner.restoreState(e),3===t.type||7===t.type&&"["===t.value||7===t.type&&"{"===t.value||4===t.type&&"let"===t.value||4===t.type&&"yield"===t.value},e.prototype.parseLexicalDeclaration=function(e){var t=this.createNode(),i=this.nextToken().value;n.assert("let"===i||"const"===i,"Lexical declaration must be either let or const");var r=this.parseBindingList(i,e);return this.consumeSemicolon(),this.finalize(t,new o.VariableDeclaration(r,i))},e.prototype.parseBindingRestElement=function(e,t){var i=this.createNode();this.expect("...");var n=this.parsePattern(e,t);return this.finalize(i,new o.RestElement(n))},e.prototype.parseArrayPattern=function(e,t){var i=this.createNode();this.expect("[");for(var n=[];!this.match("]");)if(this.match(","))this.nextToken(),n.push(null);else{if(this.match("...")){n.push(this.parseBindingRestElement(e,t));break}n.push(this.parsePatternWithDefault(e,t)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(i,new o.ArrayPattern(n))},e.prototype.parsePropertyPattern=function(e,t){var i,n,r=this.createNode(),s=!1,a=!1;if(3===this.lookahead.type){var l=this.lookahead;i=this.parseVariableIdentifier();var u=this.finalize(r,new o.Identifier(l.value));if(this.match("=")){e.push(l),a=!0,this.nextToken();var c=this.parseAssignmentExpression();n=this.finalize(this.startNode(l),new o.AssignmentPattern(u,c))}else this.match(":")?(this.expect(":"),n=this.parsePatternWithDefault(e,t)):(e.push(l),a=!0,n=u)}else s=this.match("["),i=this.parseObjectPropertyKey(),this.expect(":"),n=this.parsePatternWithDefault(e,t);return this.finalize(r,new o.Property("init",i,s,n,!1,a))},e.prototype.parseObjectPattern=function(e,t){var i=this.createNode(),n=[];for(this.expect("{");!this.match("}");)n.push(this.parsePropertyPattern(e,t)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(i,new o.ObjectPattern(n))},e.prototype.parsePattern=function(e,t){var i;return this.match("[")?i=this.parseArrayPattern(e,t):this.match("{")?i=this.parseObjectPattern(e,t):(!this.matchKeyword("let")||"const"!==t&&"let"!==t||this.tolerateUnexpectedToken(this.lookahead,s.Messages.LetInLexicalBinding),e.push(this.lookahead),i=this.parseVariableIdentifier(t)),i},e.prototype.parsePatternWithDefault=function(e,t){var i=this.lookahead,n=this.parsePattern(e,t);if(this.match("=")){this.nextToken();var r=this.context.allowYield;this.context.allowYield=!0;var s=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=r,n=this.finalize(this.startNode(i),new o.AssignmentPattern(n,s))}return n},e.prototype.parseVariableIdentifier=function(e){var t=this.createNode(),i=this.nextToken();return 4===i.type&&"yield"===i.value?this.context.strict?this.tolerateUnexpectedToken(i,s.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(i):3!==i.type?this.context.strict&&4===i.type&&this.scanner.isStrictModeReservedWord(i.value)?this.tolerateUnexpectedToken(i,s.Messages.StrictReservedWord):(this.context.strict||"let"!==i.value||"var"!==e)&&this.throwUnexpectedToken(i):(this.context.isModule||this.context.await)&&3===i.type&&"await"===i.value&&this.tolerateUnexpectedToken(i),this.finalize(t,new o.Identifier(i.value))},e.prototype.parseVariableDeclaration=function(e){var t=this.createNode(),i=this.parsePattern([],"var");this.context.strict&&i.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(i.name)&&this.tolerateError(s.Messages.StrictVarName);var n=null;return this.match("=")?(this.nextToken(),n=this.isolateCoverGrammar(this.parseAssignmentExpression)):i.type===l.Syntax.Identifier||e.inFor||this.expect("="),this.finalize(t,new o.VariableDeclarator(i,n))},e.prototype.parseVariableDeclarationList=function(e){var t={inFor:e.inFor},i=[];for(i.push(this.parseVariableDeclaration(t));this.match(",");)this.nextToken(),i.push(this.parseVariableDeclaration(t));return i},e.prototype.parseVariableStatement=function(){var e=this.createNode();this.expectKeyword("var");var t=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(e,new o.VariableDeclaration(t,"var"))},e.prototype.parseEmptyStatement=function(){var e=this.createNode();return this.expect(";"),this.finalize(e,new o.EmptyStatement)},e.prototype.parseExpressionStatement=function(){var e=this.createNode(),t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new o.ExpressionStatement(t))},e.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(s.Messages.StrictFunction),this.parseStatement()},e.prototype.parseIfStatement=function(){var e,t=this.createNode(),i=null;this.expectKeyword("if"),this.expect("(");var n=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(")"),e=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),i=this.parseIfClause())),this.finalize(t,new o.IfStatement(n,e,i))},e.prototype.parseDoWhileStatement=function(){var e=this.createNode();this.expectKeyword("do");var t=this.context.inIteration;this.context.inIteration=!0;var i=this.parseStatement();this.context.inIteration=t,this.expectKeyword("while"),this.expect("(");var n=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(e,new o.DoWhileStatement(i,n))},e.prototype.parseWhileStatement=function(){var e,t=this.createNode();this.expectKeyword("while"),this.expect("(");var i=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(")");var n=this.context.inIteration;this.context.inIteration=!0,e=this.parseStatement(),this.context.inIteration=n}return this.finalize(t,new o.WhileStatement(i,e))},e.prototype.parseForStatement=function(){var e,t,i,n=null,r=null,a=null,u=!0,c=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){n=this.createNode(),this.nextToken();var h=this.context.allowIn;this.context.allowIn=!1;var d=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=h,1===d.length&&this.matchKeyword("in")){var p=d[0];p.init&&(p.id.type===l.Syntax.ArrayPattern||p.id.type===l.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(s.Messages.ForInOfLoopInitializer,"for-in"),n=this.finalize(n,new o.VariableDeclaration(d,"var")),this.nextToken(),e=n,t=this.parseExpression(),n=null}else 1===d.length&&null===d[0].init&&this.matchContextualKeyword("of")?(n=this.finalize(n,new o.VariableDeclaration(d,"var")),this.nextToken(),e=n,t=this.parseAssignmentExpression(),n=null,u=!1):(n=this.finalize(n,new o.VariableDeclaration(d,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){n=this.createNode();var f=this.nextToken().value;this.context.strict||"in"!==this.lookahead.value?(h=this.context.allowIn,this.context.allowIn=!1,d=this.parseBindingList(f,{inFor:!0}),this.context.allowIn=h,1===d.length&&null===d[0].init&&this.matchKeyword("in")?(n=this.finalize(n,new o.VariableDeclaration(d,f)),this.nextToken(),e=n,t=this.parseExpression(),n=null):1===d.length&&null===d[0].init&&this.matchContextualKeyword("of")?(n=this.finalize(n,new o.VariableDeclaration(d,f)),this.nextToken(),e=n,t=this.parseAssignmentExpression(),n=null,u=!1):(this.consumeSemicolon(),n=this.finalize(n,new o.VariableDeclaration(d,f)))):(n=this.finalize(n,new o.Identifier(f)),this.nextToken(),e=n,t=this.parseExpression(),n=null)}else{var m=this.lookahead;if(h=this.context.allowIn,this.context.allowIn=!1,n=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=h,this.matchKeyword("in"))this.context.isAssignmentTarget&&n.type!==l.Syntax.AssignmentExpression||this.tolerateError(s.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(n),e=n,t=this.parseExpression(),n=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&n.type!==l.Syntax.AssignmentExpression||this.tolerateError(s.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(n),e=n,t=this.parseAssignmentExpression(),n=null,u=!1;else{if(this.match(",")){for(var g=[n];this.match(",");)this.nextToken(),g.push(this.isolateCoverGrammar(this.parseAssignmentExpression));n=this.finalize(this.startNode(m),new o.SequenceExpression(g))}this.expect(";")}}if(void 0===e&&(this.match(";")||(r=this.parseExpression()),this.expect(";"),this.match(")")||(a=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),i=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(")");var y=this.context.inIteration;this.context.inIteration=!0,i=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=y}return this.finalize(c,void 0===e?new o.ForStatement(n,r,a,i):u?new o.ForInStatement(e,t,i):new o.ForOfStatement(e,t,i))},e.prototype.parseContinueStatement=function(){var e=this.createNode();this.expectKeyword("continue");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var i=this.parseVariableIdentifier();t=i,Object.prototype.hasOwnProperty.call(this.context.labelSet,"$"+i.name)||this.throwError(s.Messages.UnknownLabel,i.name)}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.throwError(s.Messages.IllegalContinue),this.finalize(e,new o.ContinueStatement(t))},e.prototype.parseBreakStatement=function(){var e=this.createNode();this.expectKeyword("break");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var i=this.parseVariableIdentifier();Object.prototype.hasOwnProperty.call(this.context.labelSet,"$"+i.name)||this.throwError(s.Messages.UnknownLabel,i.name),t=i}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.context.inSwitch||this.throwError(s.Messages.IllegalBreak),this.finalize(e,new o.BreakStatement(t))},e.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(s.Messages.IllegalReturn);var e=this.createNode();this.expectKeyword("return");var t=(this.match(";")||this.match("}")||this.hasLineTerminator||2===this.lookahead.type)&&8!==this.lookahead.type&&10!==this.lookahead.type?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new o.ReturnStatement(t))},e.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(s.Messages.StrictModeWith);var e,t=this.createNode();this.expectKeyword("with"),this.expect("(");var i=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(")"),e=this.parseStatement()),this.finalize(t,new o.WithStatement(i,e))},e.prototype.parseSwitchCase=function(){var e,t=this.createNode();this.matchKeyword("default")?(this.nextToken(),e=null):(this.expectKeyword("case"),e=this.parseExpression()),this.expect(":");for(var i=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)i.push(this.parseStatementListItem());return this.finalize(t,new o.SwitchCase(e,i))},e.prototype.parseSwitchStatement=function(){var e=this.createNode();this.expectKeyword("switch"),this.expect("(");var t=this.parseExpression();this.expect(")");var i=this.context.inSwitch;this.context.inSwitch=!0;var n=[],r=!1;for(this.expect("{");!this.match("}");){var a=this.parseSwitchCase();null===a.test&&(r&&this.throwError(s.Messages.MultipleDefaultsInSwitch),r=!0),n.push(a)}return this.expect("}"),this.context.inSwitch=i,this.finalize(e,new o.SwitchStatement(t,n))},e.prototype.parseLabelledStatement=function(){var e,t=this.createNode(),i=this.parseExpression();if(i.type===l.Syntax.Identifier&&this.match(":")){this.nextToken();var n=i,r="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)&&this.throwError(s.Messages.Redeclaration,"Label",n.name),this.context.labelSet[r]=!0;var a=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),a=this.parseClassDeclaration();else if(this.matchKeyword("function")){var u=this.lookahead,c=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(u,s.Messages.StrictFunction):c.generator&&this.tolerateUnexpectedToken(u,s.Messages.GeneratorInLegacyContext),a=c}else a=this.parseStatement();delete this.context.labelSet[r],e=new o.LabeledStatement(n,a)}else this.consumeSemicolon(),e=new o.ExpressionStatement(i);return this.finalize(t,e)},e.prototype.parseThrowStatement=function(){var e=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(s.Messages.NewlineAfterThrow);var t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new o.ThrowStatement(t))},e.prototype.parseCatchClause=function(){var e=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var t=[],i=this.parsePattern(t),n={},r=0;r<t.length;r++){var a="$"+t[r].value;Object.prototype.hasOwnProperty.call(n,a)&&this.tolerateError(s.Messages.DuplicateBinding,t[r].value),n[a]=!0}this.context.strict&&i.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(i.name)&&this.tolerateError(s.Messages.StrictCatchVariable),this.expect(")");var u=this.parseBlock();return this.finalize(e,new o.CatchClause(i,u))},e.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},e.prototype.parseTryStatement=function(){var e=this.createNode();this.expectKeyword("try");var t=this.parseBlock(),i=this.matchKeyword("catch")?this.parseCatchClause():null,n=this.matchKeyword("finally")?this.parseFinallyClause():null;return i||n||this.throwError(s.Messages.NoCatchOrFinally),this.finalize(e,new o.TryStatement(t,i,n))},e.prototype.parseDebuggerStatement=function(){var e=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(e,new o.DebuggerStatement)},e.prototype.parseStatement=function(){var e;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:e=this.parseExpressionStatement();break;case 7:var t=this.lookahead.value;e="{"===t?this.parseBlock():"("===t?this.parseExpressionStatement():";"===t?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:e=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":e=this.parseBreakStatement();break;case"continue":e=this.parseContinueStatement();break;case"debugger":e=this.parseDebuggerStatement();break;case"do":e=this.parseDoWhileStatement();break;case"for":e=this.parseForStatement();break;case"function":e=this.parseFunctionDeclaration();break;case"if":e=this.parseIfStatement();break;case"return":e=this.parseReturnStatement();break;case"switch":e=this.parseSwitchStatement();break;case"throw":e=this.parseThrowStatement();break;case"try":e=this.parseTryStatement();break;case"var":e=this.parseVariableStatement();break;case"while":e=this.parseWhileStatement();break;case"with":e=this.parseWithStatement();break;default:e=this.parseExpressionStatement()}break;default:e=this.throwUnexpectedToken(this.lookahead)}return e},e.prototype.parseFunctionSourceElements=function(){var e=this.createNode();this.expect("{");var t=this.parseDirectivePrologues(),i=this.context.labelSet,n=this.context.inIteration,r=this.context.inSwitch,s=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;2!==this.lookahead.type&&!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=i,this.context.inIteration=n,this.context.inSwitch=r,this.context.inFunctionBody=s,this.finalize(e,new o.BlockStatement(t))},e.prototype.validateParam=function(e,t,i){var n="$"+i;this.context.strict?(this.scanner.isRestrictedWord(i)&&(e.stricted=t,e.message=s.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,n)&&(e.stricted=t,e.message=s.Messages.StrictParamDupe)):e.firstRestricted||(this.scanner.isRestrictedWord(i)?(e.firstRestricted=t,e.message=s.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(i)?(e.firstRestricted=t,e.message=s.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,n)&&(e.stricted=t,e.message=s.Messages.StrictParamDupe)),"function"==typeof Object.defineProperty?Object.defineProperty(e.paramSet,n,{value:!0,enumerable:!0,writable:!0,configurable:!0}):e.paramSet[n]=!0},e.prototype.parseRestElement=function(e){var t=this.createNode();this.expect("...");var i=this.parsePattern(e);return this.match("=")&&this.throwError(s.Messages.DefaultRestParameter),this.match(")")||this.throwError(s.Messages.ParameterAfterRestParameter),this.finalize(t,new o.RestElement(i))},e.prototype.parseFormalParameter=function(e){for(var t=[],i=this.match("...")?this.parseRestElement(t):this.parsePatternWithDefault(t),n=0;n<t.length;n++)this.validateParam(e,t[n],t[n].value);e.simple=e.simple&&i instanceof o.Identifier,e.params.push(i)},e.prototype.parseFormalParameters=function(e){var t;if(t={simple:!0,params:[],firstRestricted:e},this.expect("("),!this.match(")"))for(t.paramSet={};2!==this.lookahead.type&&(this.parseFormalParameter(t),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:t.simple,params:t.params,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.matchAsyncFunction=function(){var e=this.matchContextualKeyword("async");if(e){var t=this.scanner.saveState();this.scanner.scanComments();var i=this.scanner.lex();this.scanner.restoreState(t),e=t.lineNumber===i.lineNumber&&4===i.type&&"function"===i.value}return e},e.prototype.parseFunctionDeclaration=function(e){var t=this.createNode(),i=this.matchContextualKeyword("async");i&&this.nextToken(),this.expectKeyword("function");var n,r=!i&&this.match("*");r&&this.nextToken();var a=null,l=null;if(!e||!this.match("(")){var u=this.lookahead;a=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(u.value)&&this.tolerateUnexpectedToken(u,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(u.value)?(l=u,n=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(u.value)&&(l=u,n=s.Messages.StrictReservedWord)}var c=this.context.await,h=this.context.allowYield;this.context.await=i,this.context.allowYield=!r;var d=this.parseFormalParameters(l),p=d.params,f=d.stricted;l=d.firstRestricted,d.message&&(n=d.message);var m=this.context.strict,g=this.context.allowStrictDirective;this.context.allowStrictDirective=d.simple;var y=this.parseFunctionSourceElements();return this.context.strict&&l&&this.throwUnexpectedToken(l,n),this.context.strict&&f&&this.tolerateUnexpectedToken(f,n),this.context.strict=m,this.context.allowStrictDirective=g,this.context.await=c,this.context.allowYield=h,this.finalize(t,i?new o.AsyncFunctionDeclaration(a,p,y):new o.FunctionDeclaration(a,p,y,r))},e.prototype.parseFunctionExpression=function(){var e=this.createNode(),t=this.matchContextualKeyword("async");t&&this.nextToken(),this.expectKeyword("function");var i,n=!t&&this.match("*");n&&this.nextToken();var r,a=null,l=this.context.await,u=this.context.allowYield;if(this.context.await=t,this.context.allowYield=!n,!this.match("(")){var c=this.lookahead;a=this.context.strict||n||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(c.value)&&this.tolerateUnexpectedToken(c,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(c.value)?(r=c,i=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(c.value)&&(r=c,i=s.Messages.StrictReservedWord)}var h=this.parseFormalParameters(r),d=h.params,p=h.stricted;r=h.firstRestricted,h.message&&(i=h.message);var f=this.context.strict,m=this.context.allowStrictDirective;this.context.allowStrictDirective=h.simple;var g=this.parseFunctionSourceElements();return this.context.strict&&r&&this.throwUnexpectedToken(r,i),this.context.strict&&p&&this.tolerateUnexpectedToken(p,i),this.context.strict=f,this.context.allowStrictDirective=m,this.context.await=l,this.context.allowYield=u,this.finalize(e,t?new o.AsyncFunctionExpression(a,d,g):new o.FunctionExpression(a,d,g,n))},e.prototype.parseDirective=function(){var e=this.lookahead,t=this.createNode(),i=this.parseExpression(),n=i.type===l.Syntax.Literal?this.getTokenRaw(e).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(t,n?new o.Directive(i,n):new o.ExpressionStatement(i))},e.prototype.parseDirectivePrologues=function(){for(var e=null,t=[];;){var i=this.lookahead;if(8!==i.type)break;var n=this.parseDirective();t.push(n);var r=n.directive;if("string"!=typeof r)break;"use strict"===r?(this.context.strict=!0,e&&this.tolerateUnexpectedToken(e,s.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(i,s.Messages.IllegalLanguageModeDirective)):!e&&i.octal&&(e=i)}return t},e.prototype.qualifiedPropertyName=function(e){switch(e.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return"["===e.value}return!1},e.prototype.parseGetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var i=this.parseFormalParameters();i.params.length>0&&this.tolerateError(s.Messages.BadGetterArity);var n=this.parsePropertyMethod(i);return this.context.allowYield=t,this.finalize(e,new o.FunctionExpression(null,i.params,n,!1))},e.prototype.parseSetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var i=this.parseFormalParameters();1!==i.params.length?this.tolerateError(s.Messages.BadSetterArity):i.params[0]instanceof o.RestElement&&this.tolerateError(s.Messages.BadSetterRestParameter);var n=this.parsePropertyMethod(i);return this.context.allowYield=t,this.finalize(e,new o.FunctionExpression(null,i.params,n,!1))},e.prototype.parseGeneratorMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var i=this.parseFormalParameters();this.context.allowYield=!1;var n=this.parsePropertyMethod(i);return this.context.allowYield=t,this.finalize(e,new o.FunctionExpression(null,i.params,n,!0))},e.prototype.isStartOfExpression=function(){var e=!0,t=this.lookahead.value;switch(this.lookahead.type){case 7:e="["===t||"("===t||"{"===t||"+"===t||"-"===t||"!"===t||"~"===t||"++"===t||"--"===t||"/"===t||"/="===t;break;case 4:e="class"===t||"delete"===t||"function"===t||"let"===t||"new"===t||"super"===t||"this"===t||"typeof"===t||"void"===t||"yield"===t}return e},e.prototype.parseYieldExpression=function(){var e=this.createNode();this.expectKeyword("yield");var t=null,i=!1;if(!this.hasLineTerminator){var n=this.context.allowYield;this.context.allowYield=!1,(i=this.match("*"))?(this.nextToken(),t=this.parseAssignmentExpression()):this.isStartOfExpression()&&(t=this.parseAssignmentExpression()),this.context.allowYield=n}return this.finalize(e,new o.YieldExpression(t,i))},e.prototype.parseClassElement=function(e){var t=this.lookahead,i=this.createNode(),n="",r=null,a=null,l=!1,u=!1,c=!1,h=!1;if(this.match("*"))this.nextToken();else if(l=this.match("["),"static"===(r=this.parseObjectPropertyKey()).name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(t=this.lookahead,c=!0,l=this.match("["),this.match("*")?this.nextToken():r=this.parseObjectPropertyKey()),3===t.type&&!this.hasLineTerminator&&"async"===t.value){var d=this.lookahead.value;":"!==d&&"("!==d&&"*"!==d&&(h=!0,t=this.lookahead,r=this.parseObjectPropertyKey(),3===t.type&&"constructor"===t.value&&this.tolerateUnexpectedToken(t,s.Messages.ConstructorIsAsync))}var p=this.qualifiedPropertyName(this.lookahead);return 3===t.type?"get"===t.value&&p?(n="get",l=this.match("["),r=this.parseObjectPropertyKey(),this.context.allowYield=!1,a=this.parseGetterMethod()):"set"===t.value&&p&&(n="set",l=this.match("["),r=this.parseObjectPropertyKey(),a=this.parseSetterMethod()):7===t.type&&"*"===t.value&&p&&(n="init",l=this.match("["),r=this.parseObjectPropertyKey(),a=this.parseGeneratorMethod(),u=!0),!n&&r&&this.match("(")&&(n="init",a=h?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),u=!0),n||this.throwUnexpectedToken(this.lookahead),"init"===n&&(n="method"),l||(c&&this.isPropertyKey(r,"prototype")&&this.throwUnexpectedToken(t,s.Messages.StaticPrototype),!c&&this.isPropertyKey(r,"constructor")&&(("method"!==n||!u||a&&a.generator)&&this.throwUnexpectedToken(t,s.Messages.ConstructorSpecialMethod),e.value?this.throwUnexpectedToken(t,s.Messages.DuplicateConstructor):e.value=!0,n="constructor")),this.finalize(i,new o.MethodDefinition(r,l,a,n,c))},e.prototype.parseClassElementList=function(){var e=[],t={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():e.push(this.parseClassElement(t));return this.expect("}"),e},e.prototype.parseClassBody=function(){var e=this.createNode(),t=this.parseClassElementList();return this.finalize(e,new o.ClassBody(t))},e.prototype.parseClassDeclaration=function(e){var t=this.createNode(),i=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var n=e&&3!==this.lookahead.type?null:this.parseVariableIdentifier(),r=null;this.matchKeyword("extends")&&(this.nextToken(),r=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var s=this.parseClassBody();return this.context.strict=i,this.finalize(t,new o.ClassDeclaration(n,r,s))},e.prototype.parseClassExpression=function(){var e=this.createNode(),t=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var i=3===this.lookahead.type?this.parseVariableIdentifier():null,n=null;this.matchKeyword("extends")&&(this.nextToken(),n=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var r=this.parseClassBody();return this.context.strict=t,this.finalize(e,new o.ClassExpression(i,n,r))},e.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new o.Module(t))},e.prototype.parseScript=function(){for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new o.Script(t))},e.prototype.parseModuleSpecifier=function(){var e=this.createNode();8!==this.lookahead.type&&this.throwError(s.Messages.InvalidModuleSpecifier);var t=this.nextToken(),i=this.getTokenRaw(t);return this.finalize(e,new o.Literal(t.value,i))},e.prototype.parseImportSpecifier=function(){var e,t,i=this.createNode();return 3===this.lookahead.type?(t=e=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),t=this.parseVariableIdentifier())):(t=e=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),t=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(i,new o.ImportSpecifier(t,e))},e.prototype.parseNamedImports=function(){this.expect("{");for(var e=[];!this.match("}");)e.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),e},e.prototype.parseImportDefaultSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName();return this.finalize(e,new o.ImportDefaultSpecifier(t))},e.prototype.parseImportNamespaceSpecifier=function(){var e=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(s.Messages.NoAsAfterImportNamespace),this.nextToken();var t=this.parseIdentifierName();return this.finalize(e,new o.ImportNamespaceSpecifier(t))},e.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalImportDeclaration);var e,t=this.createNode();this.expectKeyword("import");var i=[];return 8===this.lookahead.type||(this.match("{")?i=i.concat(this.parseNamedImports()):this.match("*")?i.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(i.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?i.push(this.parseImportNamespaceSpecifier()):this.match("{")?i=i.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),this.matchContextualKeyword("from")||this.throwError(this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause,this.lookahead.value),this.nextToken()),e=this.parseModuleSpecifier(),this.consumeSemicolon(),this.finalize(t,new o.ImportDeclaration(i,e))},e.prototype.parseExportSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName(),i=t;return this.matchContextualKeyword("as")&&(this.nextToken(),i=this.parseIdentifierName()),this.finalize(e,new o.ExportSpecifier(t,i))},e.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalExportDeclaration);var e,t=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var i=this.parseFunctionDeclaration(!0);e=this.finalize(t,new o.ExportDefaultDeclaration(i))}else this.matchKeyword("class")?(i=this.parseClassDeclaration(!0),e=this.finalize(t,new o.ExportDefaultDeclaration(i))):this.matchContextualKeyword("async")?(i=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),e=this.finalize(t,new o.ExportDefaultDeclaration(i))):(this.matchContextualKeyword("from")&&this.throwError(s.Messages.UnexpectedToken,this.lookahead.value),i=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),e=this.finalize(t,new o.ExportDefaultDeclaration(i)));else if(this.match("*")){this.nextToken(),this.matchContextualKeyword("from")||this.throwError(this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause,this.lookahead.value),this.nextToken();var n=this.parseModuleSpecifier();this.consumeSemicolon(),e=this.finalize(t,new o.ExportAllDeclaration(n))}else if(4===this.lookahead.type){switch(i=void 0,this.lookahead.value){case"let":case"const":i=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":i=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}e=this.finalize(t,new o.ExportNamedDeclaration(i,[],null))}else if(this.matchAsyncFunction())i=this.parseFunctionDeclaration(),e=this.finalize(t,new o.ExportNamedDeclaration(i,[],null));else{var r=[],a=null,l=!1;for(this.expect("{");!this.match("}");)l=l||this.matchKeyword("default"),r.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),a=this.parseModuleSpecifier(),this.consumeSemicolon()):l?this.throwError(this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause,this.lookahead.value):this.consumeSemicolon(),e=this.finalize(t,new o.ExportNamedDeclaration(null,r,a))}return e},e}();t.Parser=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error("ASSERT: "+t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.errors=[],this.tolerant=!1}return e.prototype.recordError=function(e){this.errors.push(e)},e.prototype.tolerate=function(e){if(!this.tolerant)throw e;this.recordError(e)},e.prototype.constructError=function(e,t){var i=new Error(e);try{throw i}catch(n){Object.create&&Object.defineProperty&&(i=Object.create(n),Object.defineProperty(i,"column",{value:t}))}return i},e.prototype.createError=function(e,t,i,n){var r=this.constructError("Line "+t+": "+n,i);return r.index=e,r.lineNumber=t,r.description=n,r},e.prototype.throwError=function(e,t,i,n){throw this.createError(e,t,i,n)},e.prototype.tolerateError=function(e,t,i,n){var r=this.createError(e,t,i,n);if(!this.tolerant)throw r;this.recordError(r)},e}();t.ErrorHandler=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(9),r=i(4),s=i(11);function o(e){return"0123456789abcdef".indexOf(e.toLowerCase())}function a(e){return"01234567".indexOf(e)}var l=function(){function e(e,t){this.source=e,this.errorHandler=t,this.trackComment=!1,this.isModule=!1,this.length=e.length,this.index=0,this.lineNumber=e.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return e.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},e.prototype.restoreState=function(e){this.index=e.index,this.lineNumber=e.lineNumber,this.lineStart=e.lineStart},e.prototype.eof=function(){return this.index>=this.length},e.prototype.throwUnexpectedToken=function(e){return void 0===e&&(e=s.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.tolerateUnexpectedToken=function(e){void 0===e&&(e=s.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.skipSingleLineComment=function(e){var t,i,n=[];for(this.trackComment&&(n=[],t=this.index-e,i={start:{line:this.lineNumber,column:this.index-this.lineStart-e},end:{}});!this.eof();){var s=this.source.charCodeAt(this.index);if(++this.index,r.Character.isLineTerminator(s))return this.trackComment&&(i.end={line:this.lineNumber,column:this.index-this.lineStart-1},n.push({multiLine:!1,slice:[t+e,this.index-1],range:[t,this.index-1],loc:i})),13===s&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,n}return this.trackComment&&(i.end={line:this.lineNumber,column:this.index-this.lineStart},n.push({multiLine:!1,slice:[t+e,this.index],range:[t,this.index],loc:i})),n},e.prototype.skipMultiLineComment=function(){var e,t,i=[];for(this.trackComment&&(i=[],e=this.index-2,t={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var n=this.source.charCodeAt(this.index);if(r.Character.isLineTerminator(n))13===n&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===n){if(47===this.source.charCodeAt(this.index+1))return this.index+=2,this.trackComment&&(t.end={line:this.lineNumber,column:this.index-this.lineStart},i.push({multiLine:!0,slice:[e+2,this.index-2],range:[e,this.index],loc:t})),i;++this.index}else++this.index}return this.trackComment&&(t.end={line:this.lineNumber,column:this.index-this.lineStart},i.push({multiLine:!0,slice:[e+2,this.index],range:[e,this.index],loc:t})),this.tolerateUnexpectedToken(),i},e.prototype.scanComments=function(){var e;this.trackComment&&(e=[]);for(var t=0===this.index;!this.eof();){var i=this.source.charCodeAt(this.index);if(r.Character.isWhiteSpace(i))++this.index;else if(r.Character.isLineTerminator(i))++this.index,13===i&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,t=!0;else if(47===i)if(47===(i=this.source.charCodeAt(this.index+1))){this.index+=2;var n=this.skipSingleLineComment(2);this.trackComment&&(e=e.concat(n)),t=!0}else{if(42!==i)break;this.index+=2,n=this.skipMultiLineComment(),this.trackComment&&(e=e.concat(n))}else if(t&&45===i){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;this.index+=3,n=this.skipSingleLineComment(3),this.trackComment&&(e=e.concat(n))}else{if(60!==i||this.isModule)break;if("!--"!==this.source.slice(this.index+1,this.index+4))break;this.index+=4,n=this.skipSingleLineComment(4),this.trackComment&&(e=e.concat(n))}}return e},e.prototype.isFutureReservedWord=function(e){switch(e){case"enum":case"export":case"import":case"super":return!0;default:return!1}},e.prototype.isStrictModeReservedWord=function(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},e.prototype.isRestrictedWord=function(e){return"eval"===e||"arguments"===e},e.prototype.isKeyword=function(e){switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}},e.prototype.codePointAt=function(e){var t=this.source.charCodeAt(e);if(t>=55296&&t<=56319){var i=this.source.charCodeAt(e+1);i>=56320&&i<=57343&&(t=1024*(t-55296)+i-56320+65536)}return t},e.prototype.scanHexEscape=function(e){for(var t="u"===e?4:2,i=0,n=0;n<t;++n){if(this.eof()||!r.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;i=16*i+o(this.source[this.index++])}return String.fromCharCode(i)},e.prototype.scanUnicodeCodePointEscape=function(){var e=this.source[this.index],t=0;for("}"===e&&this.throwUnexpectedToken();!this.eof()&&(e=this.source[this.index++],r.Character.isHexDigit(e.charCodeAt(0)));)t=16*t+o(e);return(t>1114111||"}"!==e)&&this.throwUnexpectedToken(),r.Character.fromCodePoint(t)},e.prototype.getIdentifier=function(){for(var e=this.index++;!this.eof();){var t=this.source.charCodeAt(this.index);if(92===t)return this.index=e,this.getComplexIdentifier();if(t>=55296&&t<57343)return this.index=e,this.getComplexIdentifier();if(!r.Character.isIdentifierPart(t))break;++this.index}return this.source.slice(e,this.index)},e.prototype.getComplexIdentifier=function(){var e,t=this.codePointAt(this.index),i=r.Character.fromCodePoint(t);for(this.index+=i.length,92===t&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):null!==(e=this.scanHexEscape("u"))&&"\\"!==e&&r.Character.isIdentifierStart(e.charCodeAt(0))||this.throwUnexpectedToken(),i=e);!this.eof()&&(t=this.codePointAt(this.index),r.Character.isIdentifierPart(t));)i+=e=r.Character.fromCodePoint(t),this.index+=e.length,92===t&&(i=i.substr(0,i.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):null!==(e=this.scanHexEscape("u"))&&"\\"!==e&&r.Character.isIdentifierPart(e.charCodeAt(0))||this.throwUnexpectedToken(),i+=e);return i},e.prototype.octalToDecimal=function(e){var t="0"!==e,i=a(e);return!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(t=!0,i=8*i+a(this.source[this.index++]),"0123".indexOf(e)>=0&&!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(i=8*i+a(this.source[this.index++]))),{code:i,octal:t}},e.prototype.scanIdentifier=function(){var e,t=this.index,i=92===this.source.charCodeAt(t)?this.getComplexIdentifier():this.getIdentifier();if(3!=(e=1===i.length?3:this.isKeyword(i)?4:"null"===i?5:"true"===i||"false"===i?1:3)&&t+i.length!==this.index){var n=this.index;this.index=t,this.tolerateUnexpectedToken(s.Messages.InvalidEscapedReservedWord),this.index=n}return{type:e,value:i,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.scanPunctuator=function(){var e=this.index,t=this.source[this.index];switch(t){case"(":case"{":"{"===t&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,t="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:">>>="===(t=this.source.substr(this.index,4))?this.index+=4:"==="===(t=t.substr(0,3))||"!=="===t||">>>"===t||"<<="===t||">>="===t||"**="===t?this.index+=3:"&&"===(t=t.substr(0,2))||"||"===t||"=="===t||"!="===t||"+="===t||"-="===t||"*="===t||"/="===t||"++"===t||"--"===t||"<<"===t||">>"===t||"&="===t||"|="===t||"^="===t||"%="===t||"<="===t||">="===t||"=>"===t||"**"===t?this.index+=2:"<>=!+-*%&|^/".indexOf(t=this.source[this.index])>=0&&++this.index}return this.index===e&&this.throwUnexpectedToken(),{type:7,value:t,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanHexLiteral=function(e){for(var t="";!this.eof()&&r.Character.isHexDigit(this.source.charCodeAt(this.index));)t+=this.source[this.index++];return 0===t.length&&this.throwUnexpectedToken(),r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+t,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanBinaryLiteral=function(e){for(var t,i="";!this.eof()&&("0"===(t=this.source[this.index])||"1"===t);)i+=this.source[this.index++];return 0===i.length&&this.throwUnexpectedToken(),this.eof()||(t=this.source.charCodeAt(this.index),(r.Character.isIdentifierStart(t)||r.Character.isDecimalDigit(t))&&this.throwUnexpectedToken()),{type:6,value:parseInt(i,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanOctalLiteral=function(e,t){var i="",n=!1;for(r.Character.isOctalDigit(e.charCodeAt(0))?(n=!0,i="0"+this.source[this.index++]):++this.index;!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];return n||0!==i.length||this.throwUnexpectedToken(),(r.Character.isIdentifierStart(this.source.charCodeAt(this.index))||r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(i,8),octal:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.isImplicitOctalLiteral=function(){for(var e=this.index+1;e<this.length;++e){var t=this.source[e];if("8"===t||"9"===t)return!1;if(!r.Character.isOctalDigit(t.charCodeAt(0)))return!0}return!0},e.prototype.scanNumericLiteral=function(){var e=this.index,t=this.source[e];n.assert(r.Character.isDecimalDigit(t.charCodeAt(0))||"."===t,"Numeric literal must start with a decimal digit or a decimal point");var i="";if("."!==t){if(i=this.source[this.index++],t=this.source[this.index],"0"===i){if("x"===t||"X"===t)return++this.index,this.scanHexLiteral(e);if("b"===t||"B"===t)return++this.index,this.scanBinaryLiteral(e);if("o"===t||"O"===t)return this.scanOctalLiteral(t,e);if(t&&r.Character.isOctalDigit(t.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(t,e)}for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];t=this.source[this.index]}if("."===t){for(i+=this.source[this.index++];r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];t=this.source[this.index]}if("e"===t||"E"===t)if(i+=this.source[this.index++],"+"!==(t=this.source[this.index])&&"-"!==t||(i+=this.source[this.index++]),r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];else this.throwUnexpectedToken();return r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(i),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanStringLiteral=function(){var e=this.index,t=this.source[e];n.assert("'"===t||'"'===t,"String literal must starts with a quote"),++this.index;for(var i=!1,o="";!this.eof();){var a=this.source[this.index++];if(a===t){t="";break}if("\\"===a)if((a=this.source[this.index++])&&r.Character.isLineTerminator(a.charCodeAt(0)))++this.lineNumber,"\r"===a&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(a){case"u":if("{"===this.source[this.index])++this.index,o+=this.scanUnicodeCodePointEscape();else{var l=this.scanHexEscape(a);null===l&&this.throwUnexpectedToken(),o+=l}break;case"x":var u=this.scanHexEscape(a);null===u&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),o+=u;break;case"n":o+="\n";break;case"r":o+="\r";break;case"t":o+="\t";break;case"b":o+="\b";break;case"f":o+="\f";break;case"v":o+="\v";break;case"8":case"9":o+=a,this.tolerateUnexpectedToken();break;default:if(a&&r.Character.isOctalDigit(a.charCodeAt(0))){var c=this.octalToDecimal(a);i=c.octal||i,o+=String.fromCharCode(c.code)}else o+=a}else{if(r.Character.isLineTerminator(a.charCodeAt(0)))break;o+=a}}return""!==t&&(this.index=e,this.throwUnexpectedToken()),{type:8,value:o,octal:i,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanTemplate=function(){var e="",t=!1,i=this.index,n="`"===this.source[i],o=!1,a=2;for(++this.index;!this.eof();){var l=this.source[this.index++];if("`"===l){a=1,o=!0,t=!0;break}if("$"===l){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,t=!0;break}e+=l}else if("\\"===l)if(l=this.source[this.index++],r.Character.isLineTerminator(l.charCodeAt(0)))++this.lineNumber,"\r"===l&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(l){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"u":if("{"===this.source[this.index])++this.index,e+=this.scanUnicodeCodePointEscape();else{var u=this.index,c=this.scanHexEscape(l);null!==c?e+=c:(this.index=u,e+=l)}break;case"x":var h=this.scanHexEscape(l);null===h&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),e+=h;break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:"0"===l?(r.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral),e+="\0"):r.Character.isOctalDigit(l.charCodeAt(0))?this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral):e+=l}else r.Character.isLineTerminator(l.charCodeAt(0))?(++this.lineNumber,"\r"===l&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,e+="\n"):e+=l}return t||this.throwUnexpectedToken(),n||this.curlyStack.pop(),{type:10,value:this.source.slice(i+1,this.index-a),cooked:e,head:n,tail:o,lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}},e.prototype.testRegExp=function(e,t){var i=e,n=this;t.indexOf("u")>=0&&(i=i.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,(function(e,t,i){var r=parseInt(t||i,16);return r>1114111&&n.throwUnexpectedToken(s.Messages.InvalidRegExp),r<=65535?String.fromCharCode(r):"\uffff"})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"\uffff"));try{RegExp(i)}catch(r){this.throwUnexpectedToken(s.Messages.InvalidRegExp)}try{return new RegExp(e,t)}catch(o){return null}},e.prototype.scanRegExpBody=function(){var e=this.source[this.index];n.assert("/"===e,"Regular expression literal must start with a slash");for(var t=this.source[this.index++],i=!1,o=!1;!this.eof();)if(t+=e=this.source[this.index++],"\\"===e)e=this.source[this.index++],r.Character.isLineTerminator(e.charCodeAt(0))&&this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),t+=e;else if(r.Character.isLineTerminator(e.charCodeAt(0)))this.throwUnexpectedToken(s.Messages.UnterminatedRegExp);else if(i)"]"===e&&(i=!1);else{if("/"===e){o=!0;break}"["===e&&(i=!0)}return o||this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),t.substr(1,t.length-2)},e.prototype.scanRegExpFlags=function(){for(var e="";!this.eof();){var t=this.source[this.index];if(!r.Character.isIdentifierPart(t.charCodeAt(0)))break;if(++this.index,"\\"!==t||this.eof())e+=t;else if("u"===(t=this.source[this.index])){++this.index;var i=this.index,n=this.scanHexEscape("u");if(null!==n)for(e+=n;i<this.index;++i);else this.index=i,e+="u";this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return e},e.prototype.scanRegExp=function(){var e=this.index,t=this.scanRegExpBody(),i=this.scanRegExpFlags();return{type:9,value:"",pattern:t,flags:i,regex:this.testRegExp(t,i),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var e=this.source.charCodeAt(this.index);return r.Character.isIdentifierStart(e)?this.scanIdentifier():40===e||41===e||59===e?this.scanPunctuator():39===e||34===e?this.scanStringLiteral():46===e?r.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():r.Character.isDecimalDigit(e)?this.scanNumericLiteral():96===e||125===e&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():e>=55296&&e<57343&&r.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},e}();t.Scanner=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenName={},t.TokenName[1]="Boolean",t.TokenName[2]="<end>",t.TokenName[3]="Identifier",t.TokenName[4]="Keyword",t.TokenName[5]="Null",t.TokenName[6]="Numeric",t.TokenName[7]="Punctuator",t.TokenName[8]="String",t.TokenName[9]="RegularExpression",t.TokenName[10]="Template"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",times:"\xd7",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",divide:"\xf7",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",frasl:"\u2044",euro:"\u20ac",image:"\u2111",weierp:"\u2118",real:"\u211c",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lArr:"\u21d0",uArr:"\u21d1",rArr:"\u21d2",dArr:"\u21d3",hArr:"\u21d4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27e8",rang:"\u27e9"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(10),r=i(12),s=i(13),o=function(){function e(){this.values=[],this.curly=this.paren=-1}return e.prototype.beforeFunctionExpression=function(e){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(e)>=0},e.prototype.isRegexStart=function(){var e=this.values[this.values.length-1],t=null!==e;switch(e){case"this":case"]":t=!1;break;case")":var i=this.values[this.paren-1];t="if"===i||"while"===i||"for"===i||"with"===i;break;case"}":if(t=!1,"function"===this.values[this.curly-3])t=!!(n=this.values[this.curly-4])&&!this.beforeFunctionExpression(n);else if("function"===this.values[this.curly-4]){var n;t=!(n=this.values[this.curly-5])||!this.beforeFunctionExpression(n)}}return t},e.prototype.push=function(e){7===e.type||4===e.type?("{"===e.value?this.curly=this.values.length:"("===e.value&&(this.paren=this.values.length),this.values.push(e.value)):this.values.push(null)},e}(),a=function(){function e(e,t){this.errorHandler=new n.ErrorHandler,this.errorHandler.tolerant=!!t&&"boolean"==typeof t.tolerant&&t.tolerant,this.scanner=new r.Scanner(e,this.errorHandler),this.scanner.trackComment=!!t&&"boolean"==typeof t.comment&&t.comment,this.trackRange=!!t&&"boolean"==typeof t.range&&t.range,this.trackLoc=!!t&&"boolean"==typeof t.loc&&t.loc,this.buffer=[],this.reader=new o}return e.prototype.errors=function(){return this.errorHandler.errors},e.prototype.getNextToken=function(){if(0===this.buffer.length){var e=this.scanner.scanComments();if(this.scanner.trackComment)for(var t=0;t<e.length;++t){var i=e[t],n=this.scanner.source.slice(i.slice[0],i.slice[1]),r={type:i.multiLine?"BlockComment":"LineComment",value:n};this.trackRange&&(r.range=i.range),this.trackLoc&&(r.loc=i.loc),this.buffer.push(r)}if(!this.scanner.eof()){var o=void 0;this.trackLoc&&(o={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var a="/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(a);var l={type:s.TokenName[a.type],value:this.scanner.source.slice(a.start,a.end)};this.trackRange&&(l.range=[a.start,a.end]),this.trackLoc&&(o.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},l.loc=o),9===a.type&&(l.regex={pattern:a.pattern,flags:a.flags}),this.buffer.push(l)}}return this.buffer.shift()},e}();t.Tokenizer=a}])},e.exports=n()},"+VNs":function(e,t,i){"use strict";var n=i("3lC6");e.exports=new n({include:[i("2YgE")],implicit:[i("peYA"),i("0/QM"),i("ydHo"),i("Pe6h")]})},"+Vk6":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Numbers={BYTE:{MIN:0,MAX:255},SBYTE:{MIN:-128,MAX:127},SHORT:{MIN:-32768,MAX:32767},USHORT:{MIN:0,MAX:65535},INT:{MIN:-2147483648,MAX:2147483647},UINT:{MIN:0,MAX:4294967295},LONG:{MIN:"-9223372036854775808",MAX:"9223372036854775807"},ULONG:{MIN:"0",MAX:"18446744073709551615"},FLOAT:{MIN:-34028235e31,MAX:34028235e31}}},0:function(e,t,i){e.exports=i("zUnb")},"0/QM":function(e,t,i){"use strict";var n=i("hyoZ");e.exports=new n("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},"0AM7":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.none=0]="none",e[e.temperature=1]="temperature",e[e.elements=2]="elements",e}({})},"1LlD":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("ChzR"),r=Object.values(n.Encoding).join(", ");t.EncodingMessageFactory={unknownEncoding:function(e){return`'${e}' is not a supported encoding, use one of ${r} instead.`}},t.InvalidUtf8CharacterMessageFactory={invalidLeadingByte:function(e,t){return`Invalid leading byte found at position ${t}, expected prefix of 0x, 11x, 111x or 111x, got '${e.toString(2).padStart(8,"0")}' instead.`},notContinuationByte:function(e,t,i){return`Byte #${t+1} in UTF8 sequence starting at ${e} was expected to be a continuation byte, got '${i.toString(2).padStart(8,"0")}' instead.`}},t.EndOfStreamMessageFactory={readStringZeroBytesLeft:function(){return"readString requires at least one byte to be left in the stream, but 0 bytes are remaining."},readStringLengthNotEnoughBytesLeft:function(){return"readString ran out of stream when reading length prefix."},readStringTooLongPrefix:function(){return"readString encountered a string prefix that takes more than 5 bytes"},readStringTooLongLeft:function(e,t){return`readString failed when trying to read tring of length ${e} byte(s), only ${t} byte(s) are remaining.`},readCharZeroBytesLeft:function(){return"readChar requires at least one byte to be left in the stream, but 0 bytes are remaining."},utf8NotEnoughBytesInBuffer:function(e,t,i){return`Utf8 sequence at position ${e} is ${t} bytes long, but only ${i} byte(s) are left in the buffer.`},utf8NotEnoughBytesAllowed:function(e,t,i){return`Utf8 sequence at position ${e} is ${t} bytes long, but only ${i} more byte(s) are allowed to be read.`},notEnoughBytesInBuffer:function(e,t,i){return`${i} expects ${e} bytes to be left in the stream, but only ${t} byte(s) are remaining.`}},t.OutOfBoundsMessageFactory={numberOutsideRange:function(e,t,i,n){return`Number of type '${e}' must be between ${t} and ${i}, got ${n} instead.`}}},"2WhK":function(e,t){},"2YgE":function(e,t,i){"use strict";var n=i("3lC6");e.exports=new n({explicit:[i("LFvy"),i("vQl5"),i("Ljib")]})},"2aXo":function(e,t,i){"use strict";var n=i("bWsv"),r=/[\/\?<>\\:\*\|"]/g,s=/[\x00-\x1f\x80-\x9f]/g,o=/^\.+$/,a=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,l=/[\. ]+$/;function u(e,t){if("string"!=typeof e)throw new Error("Input must be string");var i=e.replace(r,t).replace(s,t).replace(o,t).replace(a,t).replace(l,t);return n(i,255)}e.exports=function(e,t){var i=t&&t.replacement||"",n=u(e,i);return""===i?n:u(n,"")}},"2ont":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.NoLayer=-2]="NoLayer",e[e.Background=-1]="Background",e[e.Backwall=1]="Backwall",e[e.Gas=2]="Gas",e[e.GasConduits=3]="GasConduits",e[e.GasConduitBridges=4]="GasConduitBridges",e[e.LiquidConduits=5]="LiquidConduits",e[e.LiquidConduitBridges=6]="LiquidConduitBridges",e[e.SolidConduits=7]="SolidConduits",e[e.SolidConduitContents=8]="SolidConduitContents",e[e.SolidConduitBridges=9]="SolidConduitBridges",e[e.Wires=10]="Wires",e[e.WireBridges=11]="WireBridges",e[e.WireBridgesFront=12]="WireBridgesFront",e[e.LogicWires=13]="LogicWires",e[e.LogicGates=14]="LogicGates",e[e.LogicGatesFront=15]="LogicGatesFront",e[e.InteriorWall=16]="InteriorWall",e[e.GasFront=17]="GasFront",e[e.BuildingBack=18]="BuildingBack",e[e.Building=19]="Building",e[e.BuildingUse=20]="BuildingUse",e[e.BuildingFront=21]="BuildingFront",e[e.TransferArm=22]="TransferArm",e[e.Ore=23]="Ore",e[e.Creatures=24]="Creatures",e[e.Move=25]="Move",e[e.Front=26]="Front",e[e.GlassTile=27]="GlassTile",e[e.Liquid=28]="Liquid",e[e.Ground=29]="Ground",e[e.TileMain=30]="TileMain",e[e.TileFront=31]="TileFront",e[e.FXFront=32]="FXFront",e[e.FXFront2=33]="FXFront2",e[e.SceneMAX=34]="SceneMAX",e}({})},"3lC6":function(e,t,i){"use strict";var n=i("Y2Yi"),r=i("w+qe"),s=i("hyoZ");function o(e,t,i){var n=[];return e.include.forEach((function(e){i=o(e,t,i)})),e[t].forEach((function(e){i.forEach((function(t,i){t.tag===e.tag&&t.kind===e.kind&&n.push(i)})),i.push(e)})),i.filter((function(e,t){return-1===n.indexOf(t)}))}function a(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach((function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new r("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")})),this.compiledImplicit=o(this,"implicit",[]),this.compiledExplicit=o(this,"explicit",[]),this.compiledTypeMap=function(){var e,t,i={scalar:{},sequence:{},mapping:{},fallback:{}};function n(e){i[e.kind][e.tag]=i.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(n);return i}(this.compiledImplicit,this.compiledExplicit)}a.DEFAULT=null,a.create=function(){var e,t;switch(arguments.length){case 1:e=a.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new r("Wrong number of arguments for Schema.create function")}if(e=n.toArray(e),t=n.toArray(t),!e.every((function(e){return e instanceof a})))throw new r("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every((function(e){return e instanceof s})))throw new r("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new a({include:e,explicit:t})},e.exports=a},"49sm":function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},"4GnO":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.Unrotatable=0]="Unrotatable",e[e.R90=1]="R90",e[e.R360=2]="R360",e[e.FlipH=3]="FlipH",e[e.FlipV=4]="FlipV",e}({})},"4M5b":function(e,t,i){"use strict";var n=i("hyoZ"),r=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),s=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");e.exports=new n("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==r.exec(e)||null!==s.exec(e))},construct:function(e){var t,i,n,o,a,l,u,c,h=0,d=null;if(null===(t=r.exec(e))&&(t=s.exec(e)),null===t)throw new Error("Date resolve error");if(i=+t[1],n=+t[2]-1,o=+t[3],!t[4])return new Date(Date.UTC(i,n,o));if(a=+t[4],l=+t[5],u=+t[6],t[7]){for(h=t[7].slice(0,3);h.length<3;)h+="0";h=+h}return t[9]&&(d=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(d=-d)),c=new Date(Date.UTC(i,n,o,a,l,u,h)),d&&c.setTime(c.getTime()-d),c},instanceOf:Date,represent:function(e){return e.toISOString()}})},"8+mo":function(e,t,i){"use strict";var n=i("hyoZ"),r=Object.prototype.hasOwnProperty,s=Object.prototype.toString;e.exports=new n("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,i,n,o,a,l=[],u=e;for(t=0,i=u.length;t<i;t+=1){if(a=!1,"[object Object]"!==s.call(n=u[t]))return!1;for(o in n)if(r.call(n,o)){if(a)return!1;a=!0}if(!a)return!1;if(-1!==l.indexOf(o))return!1;l.push(o)}return!0},construct:function(e){return null!==e?e:[]}})},C2gO:function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return s}));var n=i("XPU9");class r{constructor(e){this.id=e,this.inputs=[]}getDefaultValue(e){return null}importFrom(e){this.inputs=[];for(let t of e.inputs)this.inputs.push(t)}static clone(e){if("SingleSliderSideScreen"==e.id){let t=new o(e.id);return t.importFrom(e),t}if("ThresholdSwitchSideScreen"==e.id){let t=new a(e.id);return t.importFrom(e),t}if("ActiveRangeSideScreen"==e.id){let t=new l(e.id);return t.importFrom(e),t}if("LogicBitSelectorSideScreen"==e.id){let t=new u(e.id);return t.importFrom(e),t}throw new Error("BUiScreen.clone : Unkown UI screen")}}class s{constructor(e){this.id=e,this.values=[]}importFrom(e){for(let t of e.values)this.values.push(t)}static clone(e){let t=new s(e.id);return t.importFrom(e),t}}class o extends r{constructor(e){super(e),this.title="",this.sliderUnits="",this.min=0,this.max=0,this.tooltip="",this.sliderDecimalPlaces=0,this.defaultValue=0}getDefaultValue(e){return 0==e?this.defaultValue:null}importFrom(e){super.importFrom(e),this.title=e.title,this.sliderUnits=e.sliderUnits,this.min=e.min,this.max=e.max,this.tooltip=n.a.stripHtml(e.tooltip),this.sliderDecimalPlaces=e.sliderDecimalPlaces,this.defaultValue=e.defaultValue}}class a extends r{constructor(e){super(e),this.title="",this.aboveToolTip="",this.belowToolTip="",this.thresholdValueName="",this.thresholdValueUnits="",this.rangeMin=0,this.rangeMax=0,this.incrementScale=0,this.defaultValue=0,this.defaultBoolean=!1}getDefaultValue(e){return 0==e?this.defaultValue:1==e?this.defaultBoolean:null}importFrom(e){super.importFrom(e),this.title=e.title,this.aboveToolTip=n.a.stripHtml(e.aboveToolTip),this.belowToolTip=n.a.stripHtml(e.belowToolTip),this.thresholdValueName=e.thresholdValueName,this.thresholdValueUnits=e.thresholdValueUnits,this.rangeMin=e.rangeMin,this.rangeMax=e.rangeMax,this.incrementScale=e.incrementScale,this.defaultValue=e.defaultValue,this.defaultBoolean=e.defaultBoolean}}class l extends r{constructor(e){super(e),this.title="",this.minValue=0,this.maxValue=0,this.defaultActivateValue=0,this.defaultDeactivateValue=0,this.activateSliderLabelText="",this.deactivateSliderLabelText="",this.activateTooltip="",this.deactivateTooltip=""}getDefaultValue(e){return 0==e?this.minValue:1==e?this.maxValue:null}importFrom(e){super.importFrom(e),this.title=e.title,this.activateTooltip=n.a.stripHtml(e.activateTooltip),this.deactivateTooltip=n.a.stripHtml(e.deactivateTooltip),this.minValue=e.minValue,this.maxValue=e.maxValue}}class u extends r{constructor(e){super(e),this.title="",this.description=""}getDefaultValue(e){return 0==e?1:null}importFrom(e){super.importFrom(e),this.title=e.title,this.description=e.description}}},CLRJ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("W0le"),r=i("ChzR"),s=i("b1UP"),o=i("QgAk"),a=i("1LlD"),l=i("Rr+2"),u=i("+Vk6"),c=i("JB+b");function h(e,t,i,n){if(n<t||n>i||Number.isNaN(n))throw new o.OutOfBoundsError(a.OutOfBoundsMessageFactory.numberOutsideRange(e,t,i,n))}function d(e,t,i,r){const s=n(r);if(s.lesser(t)||s.greater(i))throw new o.OutOfBoundsError(a.OutOfBoundsMessageFactory.numberOutsideRange(e,t,i,r))}t.BinaryWriter=class{get length(){return this._length}get position(){return this._position}set position(e){this._position=Math.max(0,Math.min(this._length,e))}constructor(e){this._position=0,Array.isArray(e)?(this._buffer=new Array(e.length),this._length=0,this.writeBytes(e)):e instanceof Uint8Array?(this._buffer=Array.from(e),this._length=this._buffer.length):(this._buffer=[],this._length=0)}writeBoolean(e){this._buffer[this._position++]=e?1:0,this._length=Math.max(this._length,this._position)}writeByte(e){h("byte",u.Numbers.BYTE.MIN,u.Numbers.BYTE.MAX,e),this._buffer[this._position++]=e,this._length=Math.max(this._length,this._position)}writeSameByte(e,t){if(Number.isNaN(t)||!Number.isFinite(t)||t<0)throw new l.InvalidArgumentError("`repeats` must be a non-negative integer","repeats",t);for(h("byte",u.Numbers.BYTE.MIN,u.Numbers.BYTE.MAX,e);t-- >0;)this._buffer[this._position++]=e;this._length=Math.max(this._length,this._position)}writeBytes(e){for(let t=0;t<e.length;t++){const i=e[t];h("byte",u.Numbers.BYTE.MIN,u.Numbers.BYTE.MAX,i),this._buffer[this._position++]=i}this._length=Math.max(this._length,this._position)}writeSignedByte(e){h("signed byte",u.Numbers.SBYTE.MIN,u.Numbers.SBYTE.MAX,e),this._buffer[this._position++]=e<0?e+256:e,this._length=Math.max(this._length,this._position)}writeShort(e){h("short",u.Numbers.SHORT.MIN,u.Numbers.SHORT.MAX,e),this._buffer[this._position++]=255&e,this._buffer[this._position++]=e>>8&255,this._length=Math.max(this._length,this._position)}writeUnsignedShort(e){h("unsigned short",u.Numbers.USHORT.MIN,u.Numbers.USHORT.MAX,e),this._buffer[this._position++]=255&e,this._buffer[this._position++]=e>>8&255,this._length=Math.max(this._length,this._position)}writeInt(e){h("int",u.Numbers.INT.MIN,u.Numbers.INT.MAX,e),this._buffer[this._position++]=255&e,this._buffer[this._position++]=e>>8&255,this._buffer[this._position++]=e>>16&255,this._buffer[this._position++]=e>>24&255,this._length=Math.max(this._length,this._position)}writeUnsignedInt(e){h("unsigned int",u.Numbers.UINT.MIN,u.Numbers.UINT.MAX,e),this._buffer[this._position++]=255&e,this._buffer[this._position++]=e>>8&255,this._buffer[this._position++]=e>>16&255,this._buffer[this._position++]=e>>24&255,this._length=Math.max(this._length,this._position)}writeLong(e){if("number"==typeof e&&(Number.isNaN(e)||!Number.isFinite(e)))throw new l.InvalidArgumentError("Value cannot be infinite or NaN","value",e);d("long",u.Numbers.LONG.MIN,u.Numbers.LONG.MAX,e.toString());const t=n(e),i=t.and(4294967295).toJSNumber(),r=t.shiftRight(32).and(4294967295).toJSNumber();this._buffer[this._position++]=255&i,this._buffer[this._position++]=i>>8&255,this._buffer[this._position++]=i>>16&255,this._buffer[this._position++]=i>>24&255,this._buffer[this._position++]=255&r,this._buffer[this._position++]=r>>8&255,this._buffer[this._position++]=r>>16&255,this._buffer[this._position++]=r>>24&255,this._length=Math.max(this._length,this._position)}writeUnsignedLong(e){if("number"==typeof e&&(Number.isNaN(e)||!Number.isFinite(e)))throw new l.InvalidArgumentError("Value cannot be infinite or NaN","value",e);d("unsigned long",u.Numbers.ULONG.MIN,u.Numbers.ULONG.MAX,e.toString());const t=n(e),i=t.and(4294967295).toJSNumber(),r=t.shiftRight(32).and(4294967295).toJSNumber();this._buffer[this._position++]=255&i,this._buffer[this._position++]=i>>8&255,this._buffer[this._position++]=i>>16&255,this._buffer[this._position++]=i>>24&255,this._buffer[this._position++]=255&r,this._buffer[this._position++]=r>>8&255,this._buffer[this._position++]=r>>16&255,this._buffer[this._position++]=r>>24&255,this._length=Math.max(this._length,this._position)}writeFloat(e){if(Number.isFinite(e)&&!Number.isNaN(e)&&h("float",u.Numbers.FLOAT.MIN,u.Numbers.FLOAT.MAX,e),Number.isNaN(e))this._buffer[this._position++]=0,this._buffer[this._position++]=0,this._buffer[this._position++]=192,this._buffer[this._position++]=255;else{const t=new Float32Array([e]),i=new Uint8Array(t.buffer,t.byteOffset,4);this._buffer[this._position++]=i[0],this._buffer[this._position++]=i[1],this._buffer[this._position++]=i[2],this._buffer[this._position++]=i[3]}this._length=Math.max(this._length,this._position)}writeDouble(e){if(Number.isNaN(e))this._buffer[this._position++]=0,this._buffer[this._position++]=0,this._buffer[this._position++]=0,this._buffer[this._position++]=0,this._buffer[this._position++]=0,this._buffer[this._position++]=0,this._buffer[this._position++]=248,this._buffer[this._position++]=255;else{const t=new Float64Array([e]),i=new Uint8Array(t.buffer,t.byteOffset,8);this._buffer[this._position++]=i[0],this._buffer[this._position++]=i[1],this._buffer[this._position++]=i[2],this._buffer[this._position++]=i[3],this._buffer[this._position++]=i[4],this._buffer[this._position++]=i[5],this._buffer[this._position++]=i[6],this._buffer[this._position++]=i[7]}this._length=Math.max(this._length,this._position)}writeChar(e,t){if(null===e)throw new l.InvalidArgumentError("Cannot write null string.","value",e);if(!r.isValidEncoding(t))throw new c.EncodingError(a.EncodingMessageFactory.unknownEncoding(t));this._position=s.writeUtf8StringFromCodePoints(this._buffer,this._position,"number"==typeof e?[e]:[e.codePointAt(0)]),this._length=Math.max(this._length,this._position)}writeChars(e,t){if(null===e)throw new l.InvalidArgumentError("Cannot write null string.","value",e);if(!r.isValidEncoding(t))throw new c.EncodingError(a.EncodingMessageFactory.unknownEncoding(t));this._position=s.writeUtf8StringFromCodePoints(this._buffer,this._position,e),this._length=Math.max(this._length,this._position)}writeString(e,t){if(null===e)throw new l.InvalidArgumentError("Cannot write null string.","value",e);if(!r.isValidEncoding(t))throw new c.EncodingError(a.EncodingMessageFactory.unknownEncoding(t));const i=[];s.writeUtf8StringFromCodePoints(i,0,e);let n=i.length;for(;n>=128;)this._buffer[this._position++]=255&n|128,n>>=7;this._buffer[this._position++]=n;for(let r=0;r<i.length;r++)this._buffer[this._position++]=i[r];this._length=Math.max(this._length,this._position)}clear(){this._position=0,this._length=0}toArray(){return this._buffer.slice(0,this._length)}toUint8Array(){return new Uint8Array(this.toArray())}}},ChzR:function(e,t,i){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Utf8="utf8"}(n=t.Encoding||(t.Encoding={}));const r=Object.values(n);t.isValidEncoding=function(e){return r.includes(e)}},ClZL:function(e,t,i){"use strict";var n=i("Y2Yi"),r=i("w+qe"),s=i("tN50"),o=i("Z3Ei"),a=i("VtPO"),l=Object.prototype.hasOwnProperty,u=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,c=/[\x85\u2028\u2029]/,h=/[,\[\]\{\}]/,d=/^(?:!|!!|![a-z\-]+!)$/i,p=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function f(e){return Object.prototype.toString.call(e)}function m(e){return 10===e||13===e}function g(e){return 9===e||32===e}function y(e){return 9===e||32===e||10===e||13===e}function v(e){return 44===e||91===e||93===e||123===e||125===e}function b(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function w(e){return 48===e?"\0":97===e?"\x07":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"\x1b":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"\x85":95===e?"\xa0":76===e?"\u2028":80===e?"\u2029":""}function x(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var C=new Array(256),_=new Array(256),S=0;S<256;S++)C[S]=w(S)?1:0,_[S]=w(S);function E(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||a,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function D(e,t){return new r(t,new s(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function k(e,t){throw D(e,t)}function I(e,t){e.onWarning&&e.onWarning.call(null,D(e,t))}var T={YAML:function(e,t,i){var n,r,s;null!==e.version&&k(e,"duplication of %YAML directive"),1!==i.length&&k(e,"YAML directive accepts exactly one argument"),null===(n=/^([0-9]+)\.([0-9]+)$/.exec(i[0]))&&k(e,"ill-formed argument of the YAML directive"),r=parseInt(n[1],10),s=parseInt(n[2],10),1!==r&&k(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=s<2,1!==s&&2!==s&&I(e,"unsupported YAML version of the document")},TAG:function(e,t,i){var n,r;2!==i.length&&k(e,"TAG directive accepts exactly two arguments"),r=i[1],d.test(n=i[0])||k(e,"ill-formed tag handle (first argument) of the TAG directive"),l.call(e.tagMap,n)&&k(e,'there is a previously declared suffix for "'+n+'" tag handle'),p.test(r)||k(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[n]=r}};function A(e,t,i,n){var r,s,o,a;if(t<i){if(a=e.input.slice(t,i),n)for(r=0,s=a.length;r<s;r+=1)9===(o=a.charCodeAt(r))||32<=o&&o<=1114111||k(e,"expected valid JSON character");else u.test(a)&&k(e,"the stream contains non-printable characters");e.result+=a}}function O(e,t,i,r){var s,o,a,u;for(n.isObject(i)||k(e,"cannot merge mappings; the provided source object is unacceptable"),a=0,u=(s=Object.keys(i)).length;a<u;a+=1)l.call(t,o=s[a])||(t[o]=i[o],r[o]=!0)}function F(e,t,i,n,r,s,o,a){var u,c;if(Array.isArray(r))for(u=0,c=(r=Array.prototype.slice.call(r)).length;u<c;u+=1)Array.isArray(r[u])&&k(e,"nested arrays are not supported inside keys"),"object"==typeof r&&"[object Object]"===f(r[u])&&(r[u]="[object Object]");if("object"==typeof r&&"[object Object]"===f(r)&&(r="[object Object]"),r=String(r),null===t&&(t={}),"tag:yaml.org,2002:merge"===n)if(Array.isArray(s))for(u=0,c=s.length;u<c;u+=1)O(e,t,s[u],i);else O(e,t,s,i);else e.json||l.call(i,r)||!l.call(t,r)||(e.line=o||e.line,e.position=a||e.position,k(e,"duplicated mapping key")),t[r]=s,delete i[r];return t}function B(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):k(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function M(e,t,i){for(var n=0,r=e.input.charCodeAt(e.position);0!==r;){for(;g(r);)r=e.input.charCodeAt(++e.position);if(t&&35===r)do{r=e.input.charCodeAt(++e.position)}while(10!==r&&13!==r&&0!==r);if(!m(r))break;for(B(e),r=e.input.charCodeAt(e.position),n++,e.lineIndent=0;32===r;)e.lineIndent++,r=e.input.charCodeAt(++e.position)}return-1!==i&&0!==n&&e.lineIndent<i&&I(e,"deficient indentation"),n}function P(e){var t,i=e.position;return!(45!==(t=e.input.charCodeAt(i))&&46!==t||t!==e.input.charCodeAt(i+1)||t!==e.input.charCodeAt(i+2)||0!==(t=e.input.charCodeAt(i+=3))&&!y(t))}function L(e,t){1===t?e.result+=" ":t>1&&(e.result+=n.repeat("\n",t-1))}function N(e,t){var i,n,r=e.tag,s=e.anchor,o=[],a=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),n=e.input.charCodeAt(e.position);0!==n&&45===n&&y(e.input.charCodeAt(e.position+1));)if(a=!0,e.position++,M(e,!0,-1)&&e.lineIndent<=t)o.push(null),n=e.input.charCodeAt(e.position);else if(i=e.line,z(e,t,3,!1,!0),o.push(e.result),M(e,!0,-1),n=e.input.charCodeAt(e.position),(e.line===i||e.lineIndent>t)&&0!==n)k(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!a&&(e.tag=r,e.anchor=s,e.kind="sequence",e.result=o,!0)}function R(e){var t,i,n,r,s=!1,o=!1;if(33!==(r=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&k(e,"duplication of a tag property"),60===(r=e.input.charCodeAt(++e.position))?(s=!0,r=e.input.charCodeAt(++e.position)):33===r?(o=!0,i="!!",r=e.input.charCodeAt(++e.position)):i="!",t=e.position,s){do{r=e.input.charCodeAt(++e.position)}while(0!==r&&62!==r);e.position<e.length?(n=e.input.slice(t,e.position),r=e.input.charCodeAt(++e.position)):k(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==r&&!y(r);)33===r&&(o?k(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),d.test(i)||k(e,"named tag handle cannot contain such characters"),o=!0,t=e.position+1)),r=e.input.charCodeAt(++e.position);n=e.input.slice(t,e.position),h.test(n)&&k(e,"tag suffix cannot contain flow indicator characters")}return n&&!p.test(n)&&k(e,"tag name cannot contain such characters: "+n),s?e.tag=n:l.call(e.tagMap,i)?e.tag=e.tagMap[i]+n:"!"===i?e.tag="!"+n:"!!"===i?e.tag="tag:yaml.org,2002:"+n:k(e,'undeclared tag handle "'+i+'"'),!0}function U(e){var t,i;if(38!==(i=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&k(e,"duplication of an anchor property"),i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!y(i)&&!v(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&k(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function z(e,t,i,r,s){var o,a,u,c,h,d,p,f,w=1,S=!1,E=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=a=u=4===i||3===i,r&&M(e,!0,-1)&&(S=!0,e.lineIndent>t?w=1:e.lineIndent===t?w=0:e.lineIndent<t&&(w=-1)),1===w)for(;R(e)||U(e);)M(e,!0,-1)?(S=!0,u=o,e.lineIndent>t?w=1:e.lineIndent===t?w=0:e.lineIndent<t&&(w=-1)):u=!1;if(u&&(u=S||s),1!==w&&4!==i||(p=1===i||2===i?t:t+1,f=e.position-e.lineStart,1===w?u&&(N(e,f)||function(e,t,i){var n,r,s,o,a,l=e.tag,u=e.anchor,c={},h={},d=null,p=null,f=null,m=!1,v=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=c),a=e.input.charCodeAt(e.position);0!==a;){if(n=e.input.charCodeAt(e.position+1),s=e.line,o=e.position,63!==a&&58!==a||!y(n)){if(!z(e,i,2,!1,!0))break;if(e.line===s){for(a=e.input.charCodeAt(e.position);g(a);)a=e.input.charCodeAt(++e.position);if(58===a)y(a=e.input.charCodeAt(++e.position))||k(e,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(F(e,c,h,d,p,null),d=p=f=null),v=!0,m=!1,r=!1,d=e.tag,p=e.result;else{if(!v)return e.tag=l,e.anchor=u,!0;k(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!v)return e.tag=l,e.anchor=u,!0;k(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===a?(m&&(F(e,c,h,d,p,null),d=p=f=null),v=!0,m=!0,r=!0):m?(m=!1,r=!0):k(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,a=n;if((e.line===s||e.lineIndent>t)&&(z(e,t,4,!0,r)&&(m?p=e.result:f=e.result),m||(F(e,c,h,d,p,f,s,o),d=p=f=null),M(e,!0,-1),a=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==a)k(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return m&&F(e,c,h,d,p,null),v&&(e.tag=l,e.anchor=u,e.kind="mapping",e.result=c),v}(e,f,p))||function(e,t){var i,n,r,s,o,a,l,u,c,h,d=!0,p=e.tag,f=e.anchor,m={};if(91===(h=e.input.charCodeAt(e.position)))r=93,a=!1,n=[];else{if(123!==h)return!1;r=125,a=!0,n={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=n),h=e.input.charCodeAt(++e.position);0!==h;){if(M(e,!0,t),(h=e.input.charCodeAt(e.position))===r)return e.position++,e.tag=p,e.anchor=f,e.kind=a?"mapping":"sequence",e.result=n,!0;d||k(e,"missed comma between flow collection entries"),c=null,s=o=!1,63===h&&y(e.input.charCodeAt(e.position+1))&&(s=o=!0,e.position++,M(e,!0,t)),i=e.line,z(e,t,1,!1,!0),u=e.tag,l=e.result,M(e,!0,t),h=e.input.charCodeAt(e.position),!o&&e.line!==i||58!==h||(s=!0,h=e.input.charCodeAt(++e.position),M(e,!0,t),z(e,t,1,!1,!0),c=e.result),a?F(e,n,m,u,l,c):n.push(s?F(e,null,m,u,l,c):l),M(e,!0,t),44===(h=e.input.charCodeAt(e.position))?(d=!0,h=e.input.charCodeAt(++e.position)):d=!1}k(e,"unexpected end of the stream within a flow collection")}(e,p)?E=!0:(a&&function(e,t){var i,r,s,o,a,l=1,u=!1,c=!1,h=t,d=0,p=!1;if(124===(o=e.input.charCodeAt(e.position)))r=!1;else{if(62!==o)return!1;r=!0}for(e.kind="scalar",e.result="";0!==o;)if(43===(o=e.input.charCodeAt(++e.position))||45===o)1===l?l=43===o?3:2:k(e,"repeat of a chomping mode identifier");else{if(!((s=48<=(a=o)&&a<=57?a-48:-1)>=0))break;0===s?k(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?k(e,"repeat of an indentation width identifier"):(h=t+s-1,c=!0)}if(g(o)){do{o=e.input.charCodeAt(++e.position)}while(g(o));if(35===o)do{o=e.input.charCodeAt(++e.position)}while(!m(o)&&0!==o)}for(;0!==o;){for(B(e),e.lineIndent=0,o=e.input.charCodeAt(e.position);(!c||e.lineIndent<h)&&32===o;)e.lineIndent++,o=e.input.charCodeAt(++e.position);if(!c&&e.lineIndent>h&&(h=e.lineIndent),m(o))d++;else{if(e.lineIndent<h){3===l?e.result+=n.repeat("\n",u?1+d:d):1===l&&u&&(e.result+="\n");break}for(r?g(o)?(p=!0,e.result+=n.repeat("\n",u?1+d:d)):p?(p=!1,e.result+=n.repeat("\n",d+1)):0===d?u&&(e.result+=" "):e.result+=n.repeat("\n",d):e.result+=n.repeat("\n",u?1+d:d),u=!0,c=!0,d=0,i=e.position;!m(o)&&0!==o;)o=e.input.charCodeAt(++e.position);A(e,i,e.position,!1)}}return!0}(e,p)||function(e,t){var i,n,r;if(39!==(i=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(i=e.input.charCodeAt(e.position));)if(39===i){if(A(e,n,e.position,!0),39!==(i=e.input.charCodeAt(++e.position)))return!0;n=e.position,e.position++,r=e.position}else m(i)?(A(e,n,r,!0),L(e,M(e,!1,t)),n=r=e.position):e.position===e.lineStart&&P(e)?k(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);k(e,"unexpected end of the stream within a single quoted scalar")}(e,p)||function(e,t){var i,n,r,s,o,a,l;if(34!==(a=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,i=n=e.position;0!==(a=e.input.charCodeAt(e.position));){if(34===a)return A(e,i,e.position,!0),e.position++,!0;if(92===a){if(A(e,i,e.position,!0),m(a=e.input.charCodeAt(++e.position)))M(e,!1,t);else if(a<256&&C[a])e.result+=_[a],e.position++;else if((o=120===(l=a)?2:117===l?4:85===l?8:0)>0){for(r=o,s=0;r>0;r--)(o=b(a=e.input.charCodeAt(++e.position)))>=0?s=(s<<4)+o:k(e,"expected hexadecimal character");e.result+=x(s),e.position++}else k(e,"unknown escape sequence");i=n=e.position}else m(a)?(A(e,i,n,!0),L(e,M(e,!1,t)),i=n=e.position):e.position===e.lineStart&&P(e)?k(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}k(e,"unexpected end of the stream within a double quoted scalar")}(e,p)?E=!0:function(e){var t,i,n;if(42!==(n=e.input.charCodeAt(e.position)))return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!y(n)&&!v(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&k(e,"name of an alias node must contain at least one character"),i=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(i)||k(e,'unidentified alias "'+i+'"'),e.result=e.anchorMap[i],M(e,!0,-1),!0}(e)?(E=!0,null===e.tag&&null===e.anchor||k(e,"alias node should not have any properties")):function(e,t,i){var n,r,s,o,a,l,u,c,h=e.kind,d=e.result;if(y(c=e.input.charCodeAt(e.position))||v(c)||35===c||38===c||42===c||33===c||124===c||62===c||39===c||34===c||37===c||64===c||96===c)return!1;if((63===c||45===c)&&(y(n=e.input.charCodeAt(e.position+1))||i&&v(n)))return!1;for(e.kind="scalar",e.result="",r=s=e.position,o=!1;0!==c;){if(58===c){if(y(n=e.input.charCodeAt(e.position+1))||i&&v(n))break}else if(35===c){if(y(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&P(e)||i&&v(c))break;if(m(c)){if(a=e.line,l=e.lineStart,u=e.lineIndent,M(e,!1,-1),e.lineIndent>=t){o=!0,c=e.input.charCodeAt(e.position);continue}e.position=s,e.line=a,e.lineStart=l,e.lineIndent=u;break}}o&&(A(e,r,s,!1),L(e,e.line-a),r=s=e.position,o=!1),g(c)||(s=e.position+1),c=e.input.charCodeAt(++e.position)}return A(e,r,s,!1),!!e.result||(e.kind=h,e.result=d,!1)}(e,p,1===i)&&(E=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===w&&(E=u&&N(e,f))),null!==e.tag&&"!"!==e.tag)if("?"===e.tag){for(c=0,h=e.implicitTypes.length;c<h;c+=1)if((d=e.implicitTypes[c]).resolve(e.result)){e.result=d.construct(e.result),e.tag=d.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else l.call(e.typeMap[e.kind||"fallback"],e.tag)?(d=e.typeMap[e.kind||"fallback"][e.tag],null!==e.result&&d.kind!==e.kind&&k(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+d.kind+'", not "'+e.kind+'"'),d.resolve(e.result)?(e.result=d.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):k(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):k(e,"unknown tag !<"+e.tag+">");return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||E}function V(e){var t,i,n,r,s=e.position,o=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(r=e.input.charCodeAt(e.position))&&(M(e,!0,-1),r=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==r));){for(o=!0,r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!y(r);)r=e.input.charCodeAt(++e.position);for(n=[],(i=e.input.slice(t,e.position)).length<1&&k(e,"directive name must not be less than one character in length");0!==r;){for(;g(r);)r=e.input.charCodeAt(++e.position);if(35===r){do{r=e.input.charCodeAt(++e.position)}while(0!==r&&!m(r));break}if(m(r))break;for(t=e.position;0!==r&&!y(r);)r=e.input.charCodeAt(++e.position);n.push(e.input.slice(t,e.position))}0!==r&&B(e),l.call(T,i)?T[i](e,i,n):I(e,'unknown document directive "'+i+'"')}M(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,M(e,!0,-1)):o&&k(e,"directives end mark is expected"),z(e,e.lineIndent-1,4,!1,!0),M(e,!0,-1),e.checkLineBreaks&&c.test(e.input.slice(s,e.position))&&I(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&P(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,M(e,!0,-1)):e.position<e.length-1&&k(e,"end of the stream or a document separator is expected")}function j(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var i=new E(e,t);for(i.input+="\0";32===i.input.charCodeAt(i.position);)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)V(i);return i.documents}function H(e,t,i){var n,r,s=j(e,i);if("function"!=typeof t)return s;for(n=0,r=s.length;n<r;n+=1)t(s[n])}function W(e,t){var i=j(e,t);if(0!==i.length){if(1===i.length)return i[0];throw new r("expected a single document in the stream, but found more")}}e.exports.loadAll=H,e.exports.load=W,e.exports.safeLoadAll=function(e,t,i){if("function"!=typeof t)return H(e,n.extend({schema:o},i));H(e,t,n.extend({schema:o},i))},e.exports.safeLoad=function(e,t){return W(e,n.extend({schema:o},t))}},"D/C2":function(e,t){},D7eb:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("QLwJ");t.BinaryReader=n.BinaryReader;const r=i("CLRJ");t.BinaryWriter=r.BinaryWriter;const s=i("ilDO");t.EndOfStreamError=s.EndOfStreamError;const o=i("QbME");t.InvalidUtf8CharacterError=o.InvalidUtf8CharacterError;const a=i("ChzR");t.Encoding=a.Encoding},DfW2:function(e,t,i){"use strict";var n=i("hyoZ"),r=Object.prototype.toString;e.exports=new n("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,i,n,s,o,a=e;for(o=new Array(a.length),t=0,i=a.length;t<i;t+=1){if("[object Object]"!==r.call(n=a[t]))return!1;if(1!==(s=Object.keys(n)).length)return!1;o[t]=[s[0],n[s[0]]]}return!0},construct:function(e){if(null===e)return[];var t,i,n,r,s,o=e;for(s=new Array(o.length),t=0,i=o.length;t<i;t+=1)n=o[t],r=Object.keys(n),s[t]=[r[0],n[r[0]]];return s}})},DgnE:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("XPU9");class r{constructor(){this.id="",this.name="",this.tag=0,this.oreTags=[],this.icon="",this.buildMenuSort=0,this.color=0,this.conduitColor=0,this.uiColor=0,this.iconUrl=""}importFrom(e){if(this.id=e.id,this.name=e.name,this.tag=e.tag,this.oreTags=[],null!=e.oreTags)for(let t of e.oreTags)this.oreTags.push(t);this.icon=e.icon,this.iconUrl=n.a.createUrl(this.icon,!0),this.buildMenuSort=e.buildMenuSort,this.color=e.color,this.conduitColor=e.conduitColor,this.uiColor=e.uiColor}hasTag(e){return-1!=this.oreTags.indexOf(e)}static init(){r.elements=[]}static load(e){for(let t of e){let e=new r;e.importFrom(t),r.elements.push(e)}}static getElement(e){for(let t of r.elements)if(t.id==e)return t;throw new Error("BuildableElement.getElement : Element not found")}static getElementsFromTag(e){let t=[];for(let i of r.elements)-1!=t.indexOf(i)||i.id!=e&&-1==i.oreTags.indexOf(e)||-1==i.oreTags.indexOf("BuildableAny")||t.push(i);return 0==t.length&&t.push(r.getElement("Unobtanium")),t=t.sort((e,t)=>e.buildMenuSort-t.buildMenuSort),t}static getElementsFromTags(e){let t=[];for(let i=0;i<e.length;i++)t[i]=[],t[i]=this.getElementsFromTag(e[i]);return t}}},G3i9:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("dUeR"),r=i("lm9q");let s=(()=>{class e extends n.a{constructor(e){super(e),this.connections_=0}get connections(){return this.connections_}set connections(e){e!=this.connections_&&(this.reloadCamera=!0),this.connections_=e}importOniBuilding(e){this.connections=e.connections,super.importOniBuilding(e)}importBniBuilding(e){this.connections=e.flags,super.importBniBuilding(e)}importMdbBuilding(e){this.connections=null==e.connections?0:e.connections,super.importMdbBuilding(e)}cleanUp(){null==this.connections&&(this.connections=e.defaultConnections),super.cleanUp(),this.updateDrawPartVisibilityBasedOnConnections()}cameraChanged(e){super.cameraChanged(e),this.updateDrawPartVisibilityBasedOnConnections()}modulateSelectedTint(e){super.modulateSelectedTint(e),this.updateDrawPartVisibilityBasedOnConnections()}modulateBuildCandidateTint(e){super.modulateBuildCandidateTint(e),this.updateDrawPartVisibilityBasedOnConnections()}updateDrawPartVisibilityBasedOnConnections(){if(null!=this.drawParts)for(let e of this.drawParts)e.makeEverythingButThisTagInvisible(r.a.connectionTag[this.connections])}toMdbBuilding(){let t=super.toMdbBuilding();return this.connections!=e.defaultConnections&&(t.connections=this.connections),t}toBniBuilding(){let e=super.toBniBuilding();return e.flags=this.connections,e}updateTileables(e){super.updateTileables(e)}}return e.defaultConnections=0,e})()},GVyg:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.Anywhere=0]="Anywhere",e[e.OnFloor=1]="OnFloor",e[e.OnFloorOverSpace=2]="OnFloorOverSpace",e[e.OnCeiling=3]="OnCeiling",e[e.OnWall=4]="OnWall",e[e.InCorner=5]="InCorner",e[e.Tile=6]="Tile",e[e.NotInTiles=7]="NotInTiles",e[e.Conduit=8]="Conduit",e[e.LogicBridge=9]="LogicBridge",e[e.WireBridge=10]="WireBridge",e[e.HighWattBridgeTile=11]="HighWattBridgeTile",e[e.BuildingAttachPoint=12]="BuildingAttachPoint",e[e.OnFloorOrBuildingAttachPoint=13]="OnFloorOrBuildingAttachPoint",e[e.OnFoundationRotatable=14]="OnFoundationRotatable",e}({})},H7XF:function(e,t,i){"use strict";t.byteLength=function(e){var t=u(e),i=t[1];return 3*(t[0]+i)/4-i},t.toByteArray=function(e){var t,i,n=u(e),o=n[0],a=n[1],l=new s(function(e,t,i){return 3*(t+i)/4-i}(0,o,a)),c=0,h=a>0?o-4:o;for(i=0;i<h;i+=4)t=r[e.charCodeAt(i)]<<18|r[e.charCodeAt(i+1)]<<12|r[e.charCodeAt(i+2)]<<6|r[e.charCodeAt(i+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===a&&(t=r[e.charCodeAt(i)]<<2|r[e.charCodeAt(i+1)]>>4,l[c++]=255&t),1===a&&(t=r[e.charCodeAt(i)]<<10|r[e.charCodeAt(i+1)]<<4|r[e.charCodeAt(i+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},t.fromByteArray=function(e){for(var t,i=e.length,r=i%3,s=[],o=0,a=i-r;o<a;o+=16383)s.push(c(e,o,o+16383>a?a:o+16383));return 1===r?s.push(n[(t=e[i-1])>>2]+n[t<<4&63]+"=="):2===r&&s.push(n[(t=(e[i-2]<<8)+e[i-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),s.join("")};for(var n=[],r=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function c(e,t,i){for(var r,s=[],o=t;o<i;o+=3)s.push(n[(r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},HUeH:function(e,t,i){"use strict";var n=i("ClZL"),r=i("XP29");function s(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}e.exports.Type=i("hyoZ"),e.exports.Schema=i("3lC6"),e.exports.FAILSAFE_SCHEMA=i("2YgE"),e.exports.JSON_SCHEMA=i("+VNs"),e.exports.CORE_SCHEMA=i("RSjF"),e.exports.DEFAULT_SAFE_SCHEMA=i("Z3Ei"),e.exports.DEFAULT_FULL_SCHEMA=i("VtPO"),e.exports.load=n.load,e.exports.loadAll=n.loadAll,e.exports.safeLoad=n.safeLoad,e.exports.safeLoadAll=n.safeLoadAll,e.exports.dump=r.dump,e.exports.safeDump=r.safeDump,e.exports.YAMLException=i("w+qe"),e.exports.MINIMAL_SCHEMA=i("2YgE"),e.exports.SAFE_SCHEMA=i("Z3Ei"),e.exports.DEFAULT_SCHEMA=i("VtPO"),e.exports.scan=s("scan"),e.exports.parse=s("parse"),e.exports.compose=s("compose"),e.exports.addConstructor=s("addConstructor")},I4Wu:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(){this.friendlyname="",this.buildings=[],this.digcommands=[]}}},"JB+b":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{}t.EncodingError=n},LFvy:function(e,t,i){"use strict";var n=i("hyoZ");e.exports=new n("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},Ljib:function(e,t,i){"use strict";var n=i("hyoZ");e.exports=new n("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},M6zj:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.Base=0]="Base",e[e.Power=1]="Power",e[e.Liquid=2]="Liquid",e[e.Gas=3]="Gas",e[e.Automation=4]="Automation",e[e.Oxygen=5]="Oxygen",e[e.Conveyor=6]="Conveyor",e[e.Decor=7]="Decor",e[e.Light=8]="Light",e[e.Temperature=9]="Temperature",e[e.Room=10]="Room",e[e.Unknown=11]="Unknown",e}({})},MBHB:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("ilDO"),r=i("1LlD");t.read7BitEncodedInt=function(e,t){let i,s=0,o=0;do{if(35===o)throw new n.EndOfStreamError(r.EndOfStreamMessageFactory.readStringTooLongPrefix());if(e>=t.byteLength)throw new n.EndOfStreamError(r.EndOfStreamMessageFactory.readStringLengthNotEnoughBytesLeft());i=t[e++],s|=(127&i)<<o,o+=7}while(0!=(128&i));return[s,e]}},MERt:function(e,t,i){"use strict";var n=i("hyoZ");e.exports=new n("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(e){return void 0===e},represent:function(){return""}})},Njqi:function(e,t,i){"use strict";var n;try{n=i("+U4B")}catch(s){"undefined"!=typeof window&&(n=window.esprima)}var r=i("hyoZ");e.exports=new r("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(e){if(null===e)return!1;try{var t=n.parse("("+e+")",{range:!0});return"Program"===t.type&&1===t.body.length&&"ExpressionStatement"===t.body[0].type&&("ArrowFunctionExpression"===t.body[0].expression.type||"FunctionExpression"===t.body[0].expression.type)}catch(i){return!1}},construct:function(e){var t,i="("+e+")",r=n.parse(i,{range:!0}),s=[];if("Program"!==r.type||1!==r.body.length||"ExpressionStatement"!==r.body[0].type||"ArrowFunctionExpression"!==r.body[0].expression.type&&"FunctionExpression"!==r.body[0].expression.type)throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach((function(e){s.push(e.name)})),t=r.body[0].expression.body.range,new Function(s,"BlockStatement"===r.body[0].expression.body.type?i.slice(t[0]+1,t[1]-1):"return "+i.slice(t[0],t[1]))},predicate:function(e){return"[object Function]"===Object.prototype.toString.call(e)},represent:function(e){return e.toString()}})},OVEG:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.blueprint=0]="blueprint",e[e.solid=1]="solid",e}({})},Oaz8:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("qyOZ");class r{constructor(){this.name="",this.spriteInfoName="",this.translation=new n.a,this.scale=new n.a,this.rotation=0,this.tags=[]}static clone(e){let t=new r;t.name=e.name,t.spriteInfoName=e.spriteInfoName;let i=n.a.clone(e.translation);null==i&&(i=new n.a),t.translation=i;let s=n.a.clone(e.scale);null==s&&(s=new n.a),t.scale=s,t.rotation=e.rotation,t.tags=[];for(let n of e.tags)t.tags.push(n);return t}}},"Oc1+":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.Neutral=0]="Neutral",e[e.R90=1]="R90",e[e.R180=2]="R180",e[e.R270=3]="R270",e[e.NumRotations=4]="NumRotations",e[e.FlipH=5]="FlipH",e[e.FlipV=6]="FlipV",e}({})},Pe6h:function(e,t,i){"use strict";var n=i("Y2Yi"),r=i("hyoZ"),s=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),o=/^[-+]?[0-9]+e/;e.exports=new r("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!s.test(e)||"_"===e[e.length-1])},construct:function(e){var t,i,n,r;return i="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,r=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===i?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:t.indexOf(":")>=0?(t.split(":").forEach((function(e){r.unshift(parseFloat(e,10))})),t=0,n=1,r.forEach((function(e){t+=e*n,n*=60})),i*t):i*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||n.isNegativeZero(e))},represent:function(e,t){var i;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(n.isNegativeZero(e))return"-0.0";return i=e.toString(10),o.test(i)?i.replace("e",".e"):i},defaultStyle:"lowercase"})},QLwJ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("ChzR"),r=i("W0le"),s=i("ilDO"),o=i("b1UP"),a=i("MBHB"),l=i("1LlD"),u=i("JB+b"),c=i("Rr+2");t.BinaryReader=class{get length(){return this._bufferLength}get position(){return this._position}set position(e){this._position=Math.max(0,Math.min(this._stream.byteLength,e))}get isEndOfStream(){return this._position>=this._stream.byteLength}get internalPosition(){return this._position+this._bufferStart}get remainingBytes(){return this.length-this.position}constructor(e){if(e instanceof ArrayBuffer)this._stream=e,this._view=new Uint8Array(e),this._bufferStart=0,this._bufferLength=this._stream.byteLength;else{if(!(e instanceof Uint8Array))throw new c.InvalidArgumentError("Stream is neither instance of ArrayBuffer nor Uint8Array.","stream",e);this._stream=e.buffer,this._view=e,this._bufferStart=e.byteOffset,this._bufferLength=e.byteLength}this._position=0}readBoolean(){this.assertRemainingBytes(1,"readBoolean");const e=this._view[this._position];return this._position++,e>0}readByte(){this.assertRemainingBytes(1,"readByte");const e=this._view[this._position];return this._position++,e}readBytes(e){if(e<0)throw new c.InvalidArgumentError("Cannot read less than 0 bytes","bytesToRead",e);this.assertRemainingBytes(e,"readBytes");const t=[];for(let i=0;i<e;i++)t[i]=this._view[this._position++];return t}readSignedByte(){this.assertRemainingBytes(1,"readSignedByte");const e=this._view[this._position];return this._position++,e<128?e:e-256}readShort(){this.assertRemainingBytes(2,"readShort");const e=this._view[this._position],t=this._view[this._position+1];this._position+=2;const i=256*t+e;return i<32768?i:i-65536}readUnsignedShort(){this.assertRemainingBytes(2,"readUnsignedShort");const e=this._view[this._position],t=this._view[this._position+1];return this._position+=2,256*t+e}readInt(){this.assertRemainingBytes(4,"readInt");const e=this._view[this._position],t=this._view[this._position+1],i=this._view[this._position+2],n=this._view[this._position+3];this._position+=4;const r=256*n*256*256+256*i*256+256*t+e;return r<2147483648?r:r-4294967296}readUnsignedInt(){this.assertRemainingBytes(4,"readUnsignedInt");const e=this._view[this._position],t=this._view[this._position+1],i=this._view[this._position+2],n=this._view[this._position+3];return this._position+=4,256*n*256*256+256*i*256+256*t+e}readLongString(){this.assertRemainingBytes(8,"readLongString");const e=this._view[this._position],t=this._view[this._position+1],i=this._view[this._position+2],n=this._view[this._position+3],s=this._view[this._position+4],o=this._view[this._position+5],a=this._view[this._position+6],l=this._view[this._position+7];this._position+=8;const u=r(256),c=r(e).add(r(t).multiply(u)).add(r(i).multiply(u.pow(2))).add(r(n).multiply(u.pow(3))).add(r(s).multiply(u.pow(4))).add(r(o).multiply(u.pow(5))).add(r(a).multiply(u.pow(6))).add(r(l).multiply(u.pow(7)));return c.lesser("9223372036854775808")?c.toString():c.subtract("18446744073709551616").toString()}readLong(){return this.assertRemainingBytes(8,"readLong"),parseInt(this.readLongString())}readUnsignedLongString(){this.assertRemainingBytes(8,"readUnsignedLongString");const e=this._view[this._position],t=this._view[this._position+1],i=this._view[this._position+2],n=this._view[this._position+3],s=this._view[this._position+4],o=this._view[this._position+5],a=this._view[this._position+6],l=this._view[this._position+7];this._position+=8;const u=r(256);return r(e).add(r(t).multiply(u)).add(r(i).multiply(u.pow(2))).add(r(n).multiply(u.pow(3))).add(r(s).multiply(u.pow(4))).add(r(o).multiply(u.pow(5))).add(r(a).multiply(u.pow(6))).add(r(l).multiply(u.pow(7))).toString()}readUnsignedLong(){return this.assertRemainingBytes(8,"readUnsignedLong"),parseInt(this.readUnsignedLongString())}readFloat(){this.assertRemainingBytes(4,"readFloat");const e=this.internalPosition%4==0?new Float32Array(this._stream,this.internalPosition,1):new Float32Array(this._stream.slice(this.internalPosition,this.internalPosition+4),0,1);return this._position+=4,e[0]}readDouble(){this.assertRemainingBytes(8,"readDouble");const e=this.internalPosition%8==0?new Float64Array(this._stream,this.internalPosition,1):new Float64Array(this._stream.slice(this.internalPosition,this.internalPosition+8),0,1);return this._position+=8,e[0]}readChar(e){if(!n.isValidEncoding(e))throw new u.EncodingError(l.EncodingMessageFactory.unknownEncoding(e));if(0===this.remainingBytes)throw new s.EndOfStreamError(l.EndOfStreamMessageFactory.readCharZeroBytesLeft());const t=o.readUtf8StringFromBytes(this._view,this._position,1);return this._position=t.finalPosition,t.readString}readChars(e,t){if(isNaN(e))throw new c.InvalidArgumentError("`charactersToRead` is not a number","charactersToRead",e);if((e=Math.floor(e))<1)throw new c.InvalidArgumentError("`charactersToRead` cannot be less than 0","charactersToRead",e);if(!n.isValidEncoding(t))throw new u.EncodingError(l.EncodingMessageFactory.unknownEncoding(t));if(0===this.remainingBytes)throw new s.EndOfStreamError(l.EndOfStreamMessageFactory.readCharZeroBytesLeft());const i=o.readUtf8StringFromBytes(this._view,this._position,e);return this._position=i.finalPosition,i.readString}readCharBytes(e,t){if(isNaN(e))throw new c.InvalidArgumentError("`charactersToRead` is not a number","bytesToRead",e);if((e=Math.floor(e))<1)throw new c.InvalidArgumentError("`charactersToRead` cannot be less than 0","bytesToRead",e);if(!n.isValidEncoding(t))throw new u.EncodingError(l.EncodingMessageFactory.unknownEncoding(t));if(0===this.remainingBytes)throw new s.EndOfStreamError(l.EndOfStreamMessageFactory.readCharZeroBytesLeft());const i=o.readUtf8StringFromBytes(this._view,this._position,Number.MAX_SAFE_INTEGER,e);return this._position=i.finalPosition,i.readString}readString(e){if(!n.isValidEncoding(e))throw new u.EncodingError(l.EncodingMessageFactory.unknownEncoding(e));if(0===this.remainingBytes)throw new s.EndOfStreamError(l.EndOfStreamMessageFactory.readStringZeroBytesLeft());const[t,i]=a.read7BitEncodedInt(this._position,this._view),r=this.length-i;if(r<t)throw new s.EndOfStreamError(l.EndOfStreamMessageFactory.readStringTooLongLeft(t,r));const c=o.readUtf8StringFromBytes(this._view,i,Number.MAX_SAFE_INTEGER,t);return this._position=i+t,c.readString}assertRemainingBytes(e,t){const i=this.remainingBytes;if(i<e)throw new s.EndOfStreamError(l.EndOfStreamMessageFactory.notEnoughBytesInBuffer(e,i,t))}}},QbME:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{}t.InvalidUtf8CharacterError=n},QgAk:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{}t.OutOfBoundsError=n},Qn6k:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("VR86"),r=i("M6zj"),s=i("2ont");class o{static getConnectionOverlay(e){switch(e){case n.a.POWER_OUTPUT:case n.a.POWER_INPUT:return r.a.Power;case n.a.GAS_INPUT:case n.a.GAS_OUTPUT:return r.a.Gas;case n.a.LIQUID_INPUT:case n.a.LIQUID_OUTPUT:return r.a.Liquid;case n.a.LOGIC_INPUT:case n.a.LOGIC_OUTPUT:case n.a.LOGIC_RIBBON_INPUT:case n.a.LOGIC_RIBBON_OUTPUT:case n.a.LOGIC_RESET_UPDATE:case n.a.LOGIC_CONTROL_INPUT:return r.a.Automation;case n.a.SOLID_INPUT:case n.a.SOLID_OUTPUT:return r.a.Conveyor;default:return r.a.Unknown}}static getConnectionName(e){switch(e){case n.a.POWER_OUTPUT:return"Power Output";case n.a.POWER_INPUT:return"Power Input";case n.a.GAS_INPUT:return"Gas Input";case n.a.GAS_OUTPUT:return"Gas Output";case n.a.LIQUID_INPUT:return"Liquid Input";case n.a.LIQUID_OUTPUT:return"Liquid Output";case n.a.LOGIC_INPUT:return"Logic Input";case n.a.LOGIC_OUTPUT:return"Logic Output";case n.a.LOGIC_RIBBON_INPUT:return"Logic Ribbon Input";case n.a.LOGIC_RIBBON_OUTPUT:return"Logic Ribbon Output";case n.a.LOGIC_RESET_UPDATE:return"Logic Reset Input";case n.a.LOGIC_CONTROL_INPUT:return"Logic Control Input";case n.a.SOLID_INPUT:return"Conveyor Input";case n.a.SOLID_OUTPUT:return"Conveyor Output";default:return"Unknown"}}static getConnectionSprite(e){let t;return t={color:16777215,spriteInfoId:"electrical_disconnected"},e.type==n.a.POWER_INPUT&&(t={color:16777215,spriteInfoId:"electrical_disconnected"}),e.type==n.a.POWER_OUTPUT&&(t={color:7066500,spriteInfoId:"electrical_disconnected"}),e.type==n.a.GAS_INPUT&&(t={color:16777215,spriteInfoId:"input"}),e.type==n.a.GAS_OUTPUT&&(t={color:7066500,spriteInfoId:"output"}),e.type==n.a.LIQUID_INPUT&&(t={color:16777215,spriteInfoId:"input"}),e.type==n.a.LIQUID_OUTPUT&&(t={color:7066500,spriteInfoId:"output"}),e.type==n.a.LOGIC_INPUT&&(t={color:16777215,spriteInfoId:"logicInput"}),e.type==n.a.LOGIC_OUTPUT&&(t={color:7066500,spriteInfoId:"logicOutput"}),e.type==n.a.SOLID_INPUT&&(t={color:16777215,spriteInfoId:"input"}),e.type==n.a.SOLID_OUTPUT&&(t={color:7066500,spriteInfoId:"output"}),e.type==n.a.LOGIC_RESET_UPDATE&&(t={color:16777215,spriteInfoId:"logicResetUpdate"}),e.type==n.a.LOGIC_CONTROL_INPUT&&(t={color:16777215,spriteInfoId:"logicResetUpdate"}),e.type==n.a.LOGIC_RIBBON_INPUT&&(t={color:16777215,spriteInfoId:"logic_ribbon_all_in"}),e.type==n.a.LOGIC_RIBBON_OUTPUT&&(t={color:16777215,spriteInfoId:"logic_ribbon_all_out"}),e.isSecondary&&(t.color=16494651),t}static getOverlayFromLayer(e){switch(e){case s.a.NoLayer:case s.a.Background:case s.a.Backwall:return r.a.Unknown;case s.a.Gas:return r.a.Gas;case s.a.GasConduits:case s.a.GasConduitBridges:return r.a.Gas;case s.a.LiquidConduits:case s.a.LiquidConduitBridges:return r.a.Liquid;case s.a.SolidConduits:case s.a.SolidConduitContents:case s.a.SolidConduitBridges:return r.a.Conveyor;case s.a.Wires:case s.a.WireBridges:case s.a.WireBridgesFront:return r.a.Power;case s.a.LogicWires:case s.a.LogicGates:case s.a.LogicGatesFront:return r.a.Automation;case s.a.InteriorWall:case s.a.InteriorWall:case s.a.GasFront:case s.a.BuildingBack:case s.a.Building:case s.a.BuildingUse:case s.a.BuildingFront:case s.a.TransferArm:case s.a.Ore:case s.a.Creatures:case s.a.Move:case s.a.Front:case s.a.GlassTile:case s.a.Liquid:case s.a.Ground:case s.a.TileMain:case s.a.TileFront:case s.a.FXFront:case s.a.FXFront2:case s.a.SceneMAX:default:return r.a.Base}}}},RSjF:function(e,t,i){"use strict";var n=i("3lC6");e.exports=new n({include:[i("+VNs")]})},Rntz:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.solid=0]="solid",e[e.place=1]="place",e[e.ui=2]="ui",e[e.connection=3]="connection",e[e.tileable=4]="tileable",e[e.tileable_left=5]="tileable_left",e[e.tileable_right=6]="tileable_right",e[e.tileable_up=7]="tileable_up",e[e.tileable_down=8]="tileable_down",e[e.noConnection=9]="noConnection",e[e.L=10]="L",e[e.R=11]="R",e[e.LR=12]="LR",e[e.U=13]="U",e[e.LU=14]="LU",e[e.RU=15]="RU",e[e.LRU=16]="LRU",e[e.D=17]="D",e[e.LD=18]="LD",e[e.RD=19]="RD",e[e.LRD=20]="LRD",e[e.UD=21]="UD",e[e.LUD=22]="LUD",e[e.RUD=23]="RUD",e[e.LRUD=24]="LRUD",e[e.none=25]="none",e[e.white=26]="white",e[e.element_gas_back=27]="element_gas_back",e[e.element_gas_front=28]="element_gas_front",e[e.element_liquid_back=29]="element_liquid_back",e[e.element_liquid_front=30]="element_liquid_front",e[e.element_vacuum_front=31]="element_vacuum_front",e}({})},"Rr+2":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e,t,i){super(e),this.argumentName=t,this.argumentValue=i}}t.InvalidArgumentError=n},SVye:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("D7eb"),r=i("ffXJ"),s=i("sGTC"),o=i("qyOZ"),a=i("kYB/"),l=i("I4Wu"),u=i("vi9k"),c=i("M6zj"),h=i("lm9q");class d{constructor(){this.templateTiles=[],this.utilities=[],this.currentOverlay=c.a.Base,this.pauseChangeEvents_=!1,this.blueprintItems=[],this.observersBlueprintChanged=[]}importFromOni(e){this.blueprintItems=[];for(let t of e.buildings){a.a.getOniItem(t.id);let e=r.a.createInstance(t.id);null!=e&&(e.importOniBuilding(t),this.addBlueprintItem(e))}for(let t of e.cells){let e=new o.a;null!=t.location_x&&(e.x=t.location_x),null!=t.location_y&&(e.y=t.location_y);let i=void 0,n=this.getBlueprintItemsAt(e);for(let r of n)"Element"==r.oniItem.id&&(i=r,i.setElement(t.element,0));null==i&&(i=new s.a("Element"),i.position=e,i.temperature=t.temperature,i.mass=t.mass,i.setElement(t.element,0),i.cleanUp(),(i.buildableElements[0].hasTag("Liquid")||i.buildableElements[0].hasTag("Gas")||i.buildableElements[0].hasTag("Vacuum"))&&this.addBlueprintItem(i))}this.innerYaml=e}importFromBni(e){this.blueprintItems=[];for(let t of e.buildings){let e=r.a.createInstance(t.buildingdef);null!=e&&(e.importBniBuilding(t),this.addBlueprintItem(e))}}importFromMdb(e){this.blueprintItems=[];for(let t of e.blueprintItems){let e=r.a.createInstance(t.id);null!=e&&(e.importMdbBuilding(t),this.addBlueprintItem(e))}}importFromBinary(e){const t=new n.BinaryReader(e);let i=new l.a;i.friendlyname=t.readString(n.Encoding.Utf8),i.buildings=[];let r=t.readInt();for(let s=0;s<r;s++){let e=new u.a,r=t.readInt(),s=t.readInt();e.offset=new o.a(r,s);let a=t.readString(n.Encoding.Utf8);e.buildingdef=a;let l=t.readInt();for(let i=0;i<l;i++)t.readInt();let c=t.readInt();e.orientation=c;let h=t.readInt();e.flags=h,i.buildings.push(e)}this.importFromBni(i)}destroyAndCopyItems(e,t=!0){this.destroy(t),this.pauseChangeEvents();for(let i of e.blueprintItems)this.addBlueprintItem(i);this.resumeChangeEvents(t)}prepareOverlayInfo(e){this.currentOverlay=e,this.refreshOverlayInfo()}refreshOverlayInfo(){}addBlueprintItem(e){this.blueprintItems.push(e),null==e.tileIndexes&&e.prepareBoundingBox();for(let t of e.tileIndexes)this.getBlueprintItemsAtIndex(t).push(e);for(let t of e.oniItem.utilityConnections){let i=o.a.cloneNullToZero(t.offset);i=h.a.rotateVector2(i,o.a.Zero,e.rotation),i=h.a.scaleVector2(i,o.a.Zero,e.scale),i.x+=e.position.x,i.y+=e.position.y;let n={blueprintItem:e,utilityConnection:t};this.getUtilityConnectionsAtIndex(h.a.getTileIndex(i)).push(n)}this.emitItemAdded(e)}destroyBlueprintItem(e){if(e.oniItem.isWire){let t=h.a.getConnectionArray(e.connections);for(let i=0;i<4;i++)if(t[i]){let t=h.a.connectionVectors[i],n=new o.a(e.position.x+t.x,e.position.y+t.y),r=this.getBlueprintItemsAt(n).filter(t=>t.oniItem.objectLayer==e.oniItem.objectLayer);for(let e of r){let t=e;if(null!=t){let e=h.a.getConnectionArray(t.connections);e[h.a.connectionBitsOpposite[i]]=!1,t.connections=h.a.getConnection(e)}}}}if(null!=e.tileIndexes&&e.tileIndexes.length>0)for(let i of e.tileIndexes){const t=this.templateTiles[i].indexOf(e,0);t>-1&&this.templateTiles[i].splice(t,1)}for(let i of e.oniItem.utilityConnections){let t=o.a.cloneNullToZero(i.offset);t=h.a.rotateVector2(t,o.a.Zero,e.rotation),t=h.a.scaleVector2(t,o.a.Zero,e.scale),t.x+=e.position.x,t.y+=e.position.y;let n=this.getUtilityConnectionsAtIndex(h.a.getTileIndex(t));for(let r=0;r<n.length;r++)if(n[r].blueprintItem==e&&n[r].utilityConnection==i){n.splice(r,1);break}}const t=this.blueprintItems.indexOf(e,0);t>-1&&this.blueprintItems.splice(t,1),e.destroy(),this.emitItemDestroyed()}getBlueprintItemsAt(e){let t=h.a.getTileIndex(e);return this.getBlueprintItemsAtIndex(t)}getBlueprintItemsAtIndex(e){null==this.templateTiles&&(this.templateTiles=[]);let t=this.templateTiles[e];return null==t&&(t=[],this.templateTiles[e]=t),t}getUtilityConnectionsAtIndex(e){null==this.utilities&&(this.utilities=[]);let t=this.utilities[e];return null==t&&(t=[],this.utilities[e]=t),t}pauseChangeEvents(){this.pauseChangeEvents_=!0}resumeChangeEvents(e=!0){this.pauseChangeEvents_=!1,e&&this.emitBlueprintChanged()}subscribeBlueprintChanged(e){this.observersBlueprintChanged.push(e)}emitItemDestroyed(){this.pauseChangeEvents_||(this.observersBlueprintChanged.map(e=>{e.itemDestroyed()}),this.emitBlueprintChanged())}emitItemAdded(e){this.pauseChangeEvents_||(this.observersBlueprintChanged.map(t=>{t.itemAdded(e)}),this.emitBlueprintChanged())}emitBlueprintChanged(){if(!this.pauseChangeEvents_){this.observersBlueprintChanged.map(e=>{e.blueprintChanged()});for(let e of this.blueprintItems)e.updateTileables(this)}}toMdbBlueprint(){let e={blueprintItems:[]};for(let t of this.blueprintItems)e.blueprintItems.push(t.toMdbBuilding());return e}toBniBlueprint(e){let t={friendlyname:e,buildings:[],digcommands:[]};for(let i of this.blueprintItems)"Element"!=i.id&&t.buildings.push(i.toBniBuilding());return t}clone(){let e=this.toMdbBlueprint(),t=new d;return t.importFromMdb(e),t}getBoundingBox(){let e=new o.a(9999,9999),t=new o.a(-9999,-9999);return this.blueprintItems.map(i=>{i.tileIndexes.map(i=>{let n=h.a.getTilePosition(i);e.x>n.x&&(e.x=n.x),e.y>n.y&&(e.y=n.y),t.x<n.x&&(t.x=n.x),t.y<n.y&&(t.y=n.y)})}),[e,t]}sortChildren(){for(let e of this.blueprintItems)e.sortChildren()}destroy(e=!0){if(null!=this.blueprintItems){let t=[];for(let e of this.blueprintItems)t.push(e);this.pauseChangeEvents();for(let e of t)this.destroyBlueprintItem(e);this.resumeChangeEvents(e)}}}},SWKX:function(e,t){},"U/Lc":function(e,t,i){"use strict";var n=i("qyOZ");i.d(t,"Vector2",(function(){return n.a}));var r=i("Qn6k");i.d(t,"ConnectionHelper",(function(){return r.a}));var s=i("kYB/");i.d(t,"OniItem",(function(){return s.a})),i("VR86");var o=i("OVEG");i.d(t,"Display",(function(){return o.a})),i("Oc1+");var a=i("M6zj");i.d(t,"Overlay",(function(){return a.a})),i("4GnO");var l=i("Rntz");i.d(t,"SpriteTag",(function(){return l.a}));var u=i("0AM7");i.d(t,"Visualization",(function(){return u.a})),i("2ont");var c=i("GVyg");i.d(t,"BuildLocationRule",(function(){return c.a})),i("vi9k"),i("I4Wu");var h=i("D/C2");i.o(h,"BSpriteInfo")&&i.d(t,"BSpriteInfo",(function(){return h.BSpriteInfo})),i.o(h,"BSpriteModifier")&&i.d(t,"BSpriteModifier",(function(){return h.BSpriteModifier})),i.o(h,"Blueprint")&&i.d(t,"Blueprint",(function(){return h.Blueprint})),i.o(h,"BlueprintHelpers")&&i.d(t,"BlueprintHelpers",(function(){return h.BlueprintHelpers})),i.o(h,"BlueprintItemElement")&&i.d(t,"BlueprintItemElement",(function(){return h.BlueprintItemElement})),i.o(h,"BuildMenuCategory")&&i.d(t,"BuildMenuCategory",(function(){return h.BuildMenuCategory})),i.o(h,"BuildMenuItem")&&i.d(t,"BuildMenuItem",(function(){return h.BuildMenuItem})),i.o(h,"BuildableElement")&&i.d(t,"BuildableElement",(function(){return h.BuildableElement})),i.o(h,"CameraService")&&i.d(t,"CameraService",(function(){return h.CameraService})),i.o(h,"DrawHelpers")&&i.d(t,"DrawHelpers",(function(){return h.DrawHelpers})),i.o(h,"ImageSource")&&i.d(t,"ImageSource",(function(){return h.ImageSource})),i.o(h,"SpriteInfo")&&i.d(t,"SpriteInfo",(function(){return h.SpriteInfo})),i.o(h,"SpriteModifier")&&i.d(t,"SpriteModifier",(function(){return h.SpriteModifier}));var d=i("Zejf");i.o(d,"BSpriteInfo")&&i.d(t,"BSpriteInfo",(function(){return d.BSpriteInfo})),i.o(d,"BSpriteModifier")&&i.d(t,"BSpriteModifier",(function(){return d.BSpriteModifier})),i.o(d,"Blueprint")&&i.d(t,"Blueprint",(function(){return d.Blueprint})),i.o(d,"BlueprintHelpers")&&i.d(t,"BlueprintHelpers",(function(){return d.BlueprintHelpers})),i.o(d,"BlueprintItemElement")&&i.d(t,"BlueprintItemElement",(function(){return d.BlueprintItemElement})),i.o(d,"BuildMenuCategory")&&i.d(t,"BuildMenuCategory",(function(){return d.BuildMenuCategory})),i.o(d,"BuildMenuItem")&&i.d(t,"BuildMenuItem",(function(){return d.BuildMenuItem})),i.o(d,"BuildableElement")&&i.d(t,"BuildableElement",(function(){return d.BuildableElement})),i.o(d,"CameraService")&&i.d(t,"CameraService",(function(){return d.CameraService})),i.o(d,"DrawHelpers")&&i.d(t,"DrawHelpers",(function(){return d.DrawHelpers})),i.o(d,"ImageSource")&&i.d(t,"ImageSource",(function(){return d.ImageSource})),i.o(d,"SpriteInfo")&&i.d(t,"SpriteInfo",(function(){return d.SpriteInfo})),i.o(d,"SpriteModifier")&&i.d(t,"SpriteModifier",(function(){return d.SpriteModifier}));var p=i("wGfR");i.o(p,"BSpriteInfo")&&i.d(t,"BSpriteInfo",(function(){return p.BSpriteInfo})),i.o(p,"BSpriteModifier")&&i.d(t,"BSpriteModifier",(function(){return p.BSpriteModifier})),i.o(p,"Blueprint")&&i.d(t,"Blueprint",(function(){return p.Blueprint})),i.o(p,"BlueprintHelpers")&&i.d(t,"BlueprintHelpers",(function(){return p.BlueprintHelpers})),i.o(p,"BlueprintItemElement")&&i.d(t,"BlueprintItemElement",(function(){return p.BlueprintItemElement})),i.o(p,"BuildMenuCategory")&&i.d(t,"BuildMenuCategory",(function(){return p.BuildMenuCategory})),i.o(p,"BuildMenuItem")&&i.d(t,"BuildMenuItem",(function(){return p.BuildMenuItem})),i.o(p,"BuildableElement")&&i.d(t,"BuildableElement",(function(){return p.BuildableElement})),i.o(p,"CameraService")&&i.d(t,"CameraService",(function(){return p.CameraService})),i.o(p,"DrawHelpers")&&i.d(t,"DrawHelpers",(function(){return p.DrawHelpers})),i.o(p,"ImageSource")&&i.d(t,"ImageSource",(function(){return p.ImageSource})),i.o(p,"SpriteInfo")&&i.d(t,"SpriteInfo",(function(){return p.SpriteInfo})),i.o(p,"SpriteModifier")&&i.d(t,"SpriteModifier",(function(){return p.SpriteModifier}));var f=i("ui0K");i.o(f,"BSpriteInfo")&&i.d(t,"BSpriteInfo",(function(){return f.BSpriteInfo})),i.o(f,"BSpriteModifier")&&i.d(t,"BSpriteModifier",(function(){return f.BSpriteModifier})),i.o(f,"Blueprint")&&i.d(t,"Blueprint",(function(){return f.Blueprint})),i.o(f,"BlueprintHelpers")&&i.d(t,"BlueprintHelpers",(function(){return f.BlueprintHelpers})),i.o(f,"BlueprintItemElement")&&i.d(t,"BlueprintItemElement",(function(){return f.BlueprintItemElement})),i.o(f,"BuildMenuCategory")&&i.d(t,"BuildMenuCategory",(function(){return f.BuildMenuCategory})),i.o(f,"BuildMenuItem")&&i.d(t,"BuildMenuItem",(function(){return f.BuildMenuItem})),i.o(f,"BuildableElement")&&i.d(t,"BuildableElement",(function(){return f.BuildableElement})),i.o(f,"CameraService")&&i.d(t,"CameraService",(function(){return f.CameraService})),i.o(f,"DrawHelpers")&&i.d(t,"DrawHelpers",(function(){return f.DrawHelpers})),i.o(f,"ImageSource")&&i.d(t,"ImageSource",(function(){return f.ImageSource})),i.o(f,"SpriteInfo")&&i.d(t,"SpriteInfo",(function(){return f.SpriteInfo})),i.o(f,"SpriteModifier")&&i.d(t,"SpriteModifier",(function(){return f.SpriteModifier}));var m=i("2WhK");i.o(m,"BSpriteInfo")&&i.d(t,"BSpriteInfo",(function(){return m.BSpriteInfo})),i.o(m,"BSpriteModifier")&&i.d(t,"BSpriteModifier",(function(){return m.BSpriteModifier})),i.o(m,"Blueprint")&&i.d(t,"Blueprint",(function(){return m.Blueprint})),i.o(m,"BlueprintHelpers")&&i.d(t,"BlueprintHelpers",(function(){return m.BlueprintHelpers})),i.o(m,"BlueprintItemElement")&&i.d(t,"BlueprintItemElement",(function(){return m.BlueprintItemElement})),i.o(m,"BuildMenuCategory")&&i.d(t,"BuildMenuCategory",(function(){return m.BuildMenuCategory})),i.o(m,"BuildMenuItem")&&i.d(t,"BuildMenuItem",(function(){return m.BuildMenuItem})),i.o(m,"BuildableElement")&&i.d(t,"BuildableElement",(function(){return m.BuildableElement})),i.o(m,"CameraService")&&i.d(t,"CameraService",(function(){return m.CameraService})),i.o(m,"DrawHelpers")&&i.d(t,"DrawHelpers",(function(){return m.DrawHelpers})),i.o(m,"ImageSource")&&i.d(t,"ImageSource",(function(){return m.ImageSource})),i.o(m,"SpriteInfo")&&i.d(t,"SpriteInfo",(function(){return m.SpriteInfo})),i.o(m,"SpriteModifier")&&i.d(t,"SpriteModifier",(function(){return m.SpriteModifier}));var g=i("Xtc4");i.d(t,"BuildMenuCategory",(function(){return g.a})),i.d(t,"BuildMenuItem",(function(){return g.b})),i("kaCr");var y=i("DgnE");i.d(t,"BuildableElement",(function(){return y.a}));var v=i("SWKX");i.o(v,"BSpriteInfo")&&i.d(t,"BSpriteInfo",(function(){return v.BSpriteInfo})),i.o(v,"BSpriteModifier")&&i.d(t,"BSpriteModifier",(function(){return v.BSpriteModifier})),i.o(v,"Blueprint")&&i.d(t,"Blueprint",(function(){return v.Blueprint})),i.o(v,"BlueprintHelpers")&&i.d(t,"BlueprintHelpers",(function(){return v.BlueprintHelpers})),i.o(v,"BlueprintItemElement")&&i.d(t,"BlueprintItemElement",(function(){return v.BlueprintItemElement})),i.o(v,"CameraService")&&i.d(t,"CameraService",(function(){return v.CameraService})),i.o(v,"DrawHelpers")&&i.d(t,"DrawHelpers",(function(){return v.DrawHelpers})),i.o(v,"ImageSource")&&i.d(t,"ImageSource",(function(){return v.ImageSource})),i.o(v,"SpriteInfo")&&i.d(t,"SpriteInfo",(function(){return v.SpriteInfo})),i.o(v,"SpriteModifier")&&i.d(t,"SpriteModifier",(function(){return v.SpriteModifier}));var b=i("Oaz8");i.d(t,"BSpriteModifier",(function(){return b.a}));var w=i("inic");i.d(t,"BSpriteInfo",(function(){return w.a})),i("C2gO");var x=i("npUC");i.o(x,"Blueprint")&&i.d(t,"Blueprint",(function(){return x.Blueprint})),i.o(x,"BlueprintHelpers")&&i.d(t,"BlueprintHelpers",(function(){return x.BlueprintHelpers})),i.o(x,"BlueprintItemElement")&&i.d(t,"BlueprintItemElement",(function(){return x.BlueprintItemElement})),i.o(x,"CameraService")&&i.d(t,"CameraService",(function(){return x.CameraService})),i.o(x,"DrawHelpers")&&i.d(t,"DrawHelpers",(function(){return x.DrawHelpers})),i.o(x,"ImageSource")&&i.d(t,"ImageSource",(function(){return x.ImageSource})),i.o(x,"SpriteInfo")&&i.d(t,"SpriteInfo",(function(){return x.SpriteInfo})),i.o(x,"SpriteModifier")&&i.d(t,"SpriteModifier",(function(){return x.SpriteModifier}));var C=i("zdsv");i.d(t,"SpriteModifier",(function(){return C.a})),i("nG2m");var _=i("gpF3");i.d(t,"SpriteInfo",(function(){return _.a}));var S=i("eNc/");i.d(t,"ImageSource",(function(){return S.a}));var E=i("lm9q");i.d(t,"DrawHelpers",(function(){return E.a})),i("m587");var D=i("mviE");i.d(t,"CameraService",(function(){return D.a}));var k=i("eYqy");i.o(k,"Blueprint")&&i.d(t,"Blueprint",(function(){return k.Blueprint})),i.o(k,"BlueprintHelpers")&&i.d(t,"BlueprintHelpers",(function(){return k.BlueprintHelpers})),i.o(k,"BlueprintItemElement")&&i.d(t,"BlueprintItemElement",(function(){return k.BlueprintItemElement}));var I=i("SVye");i.d(t,"Blueprint",(function(){return I.a}));var T=i("ffXJ");i.d(t,"BlueprintHelpers",(function(){return T.a})),i("dUeR");var A=i("sGTC");i.d(t,"BlueprintItemElement",(function(){return A.a})),i("WUnY"),i("G3i9")},UQ3f:function(e,t,i){"use strict";var n=i("hyoZ");e.exports=new n("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,i=/\/([gim]*)$/.exec(e),n="";if("/"===t[0]){if(i&&(n=i[1]),n.length>3)return!1;if("/"!==t[t.length-n.length-1])return!1}return!0},construct:function(e){var t=e,i=/\/([gim]*)$/.exec(e),n="";return"/"===t[0]&&(i&&(n=i[1]),t=t.slice(1,t.length-n.length-1)),new RegExp(t,n)},predicate:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},represent:function(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}})},VR86:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.POWER_INPUT=0]="POWER_INPUT",e[e.POWER_OUTPUT=1]="POWER_OUTPUT",e[e.GAS_INPUT=2]="GAS_INPUT",e[e.GAS_OUTPUT=3]="GAS_OUTPUT",e[e.LIQUID_INPUT=4]="LIQUID_INPUT",e[e.LIQUID_OUTPUT=5]="LIQUID_OUTPUT",e[e.LOGIC_INPUT=6]="LOGIC_INPUT",e[e.LOGIC_OUTPUT=7]="LOGIC_OUTPUT",e[e.SOLID_INPUT=8]="SOLID_INPUT",e[e.SOLID_OUTPUT=9]="SOLID_OUTPUT",e[e.NONE=10]="NONE",e[e.LOGIC_RESET_UPDATE=11]="LOGIC_RESET_UPDATE",e[e.LOGIC_CONTROL_INPUT=12]="LOGIC_CONTROL_INPUT",e[e.LOGIC_RIBBON_INPUT=13]="LOGIC_RIBBON_INPUT",e[e.LOGIC_RIBBON_OUTPUT=14]="LOGIC_RIBBON_OUTPUT",e}({})},VtPO:function(e,t,i){"use strict";var n=i("3lC6");e.exports=n.DEFAULT=new n({include:[i("Z3Ei")],explicit:[i("MERt"),i("UQ3f"),i("Njqi")]})},W0le:function(e,t,i){(function(e){var n,r=function(e){"use strict";var t=1e7,i=9007199254740992,n=h(i),s="function"==typeof BigInt;function o(e,t,i,n){return void 0===e?o[0]:void 0===t||10==+t&&!i?G(e):z(e,t,i,n)}function a(e,t){this.value=e,this.sign=t,this.isSmall=!1}function l(e){this.value=e,this.sign=e<0,this.isSmall=!0}function u(e){this.value=e}function c(e){return-i<e&&e<i}function h(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function d(e){p(e);var i=e.length;if(i<4&&I(e,n)<0)switch(i){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*t;default:return e[0]+(e[1]+e[2]*t)*t}return e}function p(e){for(var t=e.length;0===e[--t];);e.length=t+1}function f(e){for(var t=new Array(e),i=-1;++i<e;)t[i]=0;return t}function m(e){return e>0?Math.floor(e):Math.ceil(e)}function g(e,i){var n,r,s=e.length,o=i.length,a=new Array(s),l=0,u=t;for(r=0;r<o;r++)a[r]=(n=e[r]+i[r]+l)-(l=n>=u?1:0)*u;for(;r<s;)n=e[r]+l,a[r++]=n-(l=n===u?1:0)*u;return l>0&&a.push(l),a}function y(e,t){return e.length>=t.length?g(e,t):g(t,e)}function v(e,i){var n,r,s=e.length,o=new Array(s),a=t;for(r=0;r<s;r++)n=e[r]-a+i,i=Math.floor(n/a),o[r]=n-i*a,i+=1;for(;i>0;)o[r++]=i%a,i=Math.floor(i/a);return o}function b(e,t){var i,n,r=e.length,s=t.length,o=new Array(r),a=0;for(i=0;i<s;i++)(n=e[i]-a-t[i])<0?(n+=1e7,a=1):a=0,o[i]=n;for(i=s;i<r;i++){if(!((n=e[i]-a)<0)){o[i++]=n;break}o[i]=n+=1e7}for(;i<r;i++)o[i]=e[i];return p(o),o}function w(e,t,i){var n,r,s=e.length,o=new Array(s),u=-t;for(n=0;n<s;n++)r=e[n]+u,u=Math.floor(r/1e7),o[n]=(r%=1e7)<0?r+1e7:r;return"number"==typeof(o=d(o))?(i&&(o=-o),new l(o)):new a(o,i)}function x(e,t){var i,n,r,s,o=e.length,a=t.length,l=f(o+a);for(r=0;r<o;++r){s=e[r];for(var u=0;u<a;++u)i=s*t[u]+l[r+u],n=Math.floor(i/1e7),l[r+u]=i-1e7*n,l[r+u+1]+=n}return p(l),l}function C(e,i){var n,r,s=e.length,o=new Array(s),a=t,l=0;for(r=0;r<s;r++)n=e[r]*i+l,l=Math.floor(n/a),o[r]=n-l*a;for(;l>0;)o[r++]=l%a,l=Math.floor(l/a);return o}function _(e,t){for(var i=[];t-- >0;)i.push(0);return i.concat(e)}function S(e,i,n){return new a(e<t?C(i,e):x(i,h(e)),n)}function E(e){var t,i,n,r,s=e.length,o=f(s+s);for(n=0;n<s;n++){i=0-(r=e[n])*r;for(var a=n;a<s;a++)t=r*e[a]*2+o[n+a]+i,i=Math.floor(t/1e7),o[n+a]=t-1e7*i;o[n+s]=i}return p(o),o}function D(e,t){var i,n,r,s,o=e.length,a=f(o);for(r=0,i=o-1;i>=0;--i)r=(s=1e7*r+e[i])-(n=m(s/t))*t,a[i]=0|n;return[a,0|r]}function k(e,i){var n,r=G(i);if(s)return[new u(e.value/r.value),new u(e.value%r.value)];var c,g=e.value,y=r.value;if(0===y)throw new Error("Cannot divide by zero");if(e.isSmall)return r.isSmall?[new l(m(g/y)),new l(g%y)]:[o[0],e];if(r.isSmall){if(1===y)return[e,o[0]];if(-1==y)return[e.negate(),o[0]];var v=Math.abs(y);if(v<t){c=d((n=D(g,v))[0]);var w=n[1];return e.sign&&(w=-w),"number"==typeof c?(e.sign!==r.sign&&(c=-c),[new l(c),new l(w)]):[new a(c,e.sign!==r.sign),new l(w)]}y=h(v)}var x=I(g,y);if(-1===x)return[o[0],e];if(0===x)return[o[e.sign===r.sign?1:-1],o[0]];n=g.length+y.length<=200?function(e,i){var n,r,s,o,a,l,u,c=e.length,h=i.length,p=t,m=f(i.length),g=i[h-1],y=Math.ceil(p/(2*g)),v=C(e,y),b=C(i,y);for(v.length<=c&&v.push(0),b.push(0),g=b[h-1],r=c-h;r>=0;r--){for(n=p-1,v[r+h]!==g&&(n=Math.floor((v[r+h]*p+v[r+h-1])/g)),s=0,o=0,l=b.length,a=0;a<l;a++)s+=n*b[a],u=Math.floor(s/p),o+=v[r+a]-(s-u*p),s=u,o<0?(v[r+a]=o+p,o=-1):(v[r+a]=o,o=0);for(;0!==o;){for(n-=1,s=0,a=0;a<l;a++)(s+=v[r+a]-p+b[a])<0?(v[r+a]=s+p,s=0):(v[r+a]=s,s=1);o+=s}m[r]=n}return v=D(v,y)[0],[d(m),d(v)]}(g,y):function(e,t){for(var i,n,r,s,o=e.length,a=t.length,l=[],u=[];o;)if(u.unshift(e[--o]),p(u),I(u,t)<0)l.push(0);else{r=1e7*u[(n=u.length)-1]+u[n-2],n>a&&(r=1e7*(r+1)),i=Math.ceil(r/(1e7*t[a-1]+t[a-2]));do{if(I(s=C(t,i),u)<=0)break;i--}while(i);l.push(i),u=b(u,s)}return l.reverse(),[d(l),d(u)]}(g,y);var _=e.sign!==r.sign,S=n[1],E=e.sign;return"number"==typeof(c=n[0])?(_&&(c=-c),c=new l(c)):c=new a(c,_),"number"==typeof S?(E&&(S=-S),S=new l(S)):S=new a(S,E),[c,S]}function I(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var i=e.length-1;i>=0;i--)if(e[i]!==t[i])return e[i]>t[i]?1:-1;return 0}function T(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(49)||void 0))}function A(e,t){for(var i,n,s,o=e.prev(),a=o,l=0;a.isEven();)a=a.divide(2),l++;e:for(n=0;n<t.length;n++)if(!e.lesser(t[n])&&!(s=r(t[n]).modPow(a,e)).isUnit()&&!s.equals(o)){for(i=l-1;0!=i;i--){if((s=s.square().mod(e)).isUnit())return!1;if(s.equals(o))continue e}return!1}return!0}a.prototype=Object.create(o.prototype),l.prototype=Object.create(o.prototype),u.prototype=Object.create(o.prototype),a.prototype.add=function(e){var t=G(e);if(this.sign!==t.sign)return this.subtract(t.negate());var i=this.value,n=t.value;return new a(t.isSmall?v(i,Math.abs(n)):y(i,n),this.sign)},a.prototype.plus=a.prototype.add,l.prototype.add=function(e){var t=G(e),i=this.value;if(i<0!==t.sign)return this.subtract(t.negate());var n=t.value;if(t.isSmall){if(c(i+n))return new l(i+n);n=h(Math.abs(n))}return new a(v(n,Math.abs(i)),i<0)},l.prototype.plus=l.prototype.add,u.prototype.add=function(e){return new u(this.value+G(e).value)},u.prototype.plus=u.prototype.add,a.prototype.subtract=function(e){var t=G(e);if(this.sign!==t.sign)return this.add(t.negate());var i=this.value,n=t.value;return t.isSmall?w(i,Math.abs(n),this.sign):function(e,t,i){var n;return I(e,t)>=0?n=b(e,t):(n=b(t,e),i=!i),"number"==typeof(n=d(n))?(i&&(n=-n),new l(n)):new a(n,i)}(i,n,this.sign)},a.prototype.minus=a.prototype.subtract,l.prototype.subtract=function(e){var t=G(e),i=this.value;if(i<0!==t.sign)return this.add(t.negate());var n=t.value;return t.isSmall?new l(i-n):w(n,Math.abs(i),i>=0)},l.prototype.minus=l.prototype.subtract,u.prototype.subtract=function(e){return new u(this.value-G(e).value)},u.prototype.minus=u.prototype.subtract,a.prototype.negate=function(){return new a(this.value,!this.sign)},l.prototype.negate=function(){var e=this.sign,t=new l(-this.value);return t.sign=!e,t},u.prototype.negate=function(){return new u(-this.value)},a.prototype.abs=function(){return new a(this.value,!1)},l.prototype.abs=function(){return new l(Math.abs(this.value))},u.prototype.abs=function(){return new u(this.value>=0?this.value:-this.value)},a.prototype.multiply=function(e){var i,n,r,s=G(e),l=this.value,u=s.value,c=this.sign!==s.sign;if(s.isSmall){if(0===u)return o[0];if(1===u)return this;if(-1===u)return this.negate();if((i=Math.abs(u))<t)return new a(C(l,i),c);u=h(i)}return-.012*(n=l.length)-.012*(r=u.length)+15e-6*n*r>0?new a(function e(t,i){var n=Math.max(t.length,i.length);if(n<=30)return x(t,i);n=Math.ceil(n/2);var r=t.slice(n),s=t.slice(0,n),o=i.slice(n),a=i.slice(0,n),l=e(s,a),u=e(r,o),c=e(y(s,r),y(a,o)),h=y(y(l,_(b(b(c,l),u),n)),_(u,2*n));return p(h),h}(l,u),c):new a(x(l,u),c)},a.prototype.times=a.prototype.multiply,l.prototype._multiplyBySmall=function(e){return c(e.value*this.value)?new l(e.value*this.value):S(Math.abs(e.value),h(Math.abs(this.value)),this.sign!==e.sign)},a.prototype._multiplyBySmall=function(e){return 0===e.value?o[0]:1===e.value?this:-1===e.value?this.negate():S(Math.abs(e.value),this.value,this.sign!==e.sign)},l.prototype.times=l.prototype.multiply=function(e){return G(e)._multiplyBySmall(this)},u.prototype.multiply=function(e){return new u(this.value*G(e).value)},u.prototype.times=u.prototype.multiply,a.prototype.square=function(){return new a(E(this.value),!1)},l.prototype.square=function(){var e=this.value*this.value;return c(e)?new l(e):new a(E(h(Math.abs(this.value))),!1)},u.prototype.square=function(e){return new u(this.value*this.value)},u.prototype.divmod=l.prototype.divmod=a.prototype.divmod=function(e){var t=k(this,e);return{quotient:t[0],remainder:t[1]}},a.prototype.divide=function(e){return k(this,e)[0]},u.prototype.over=u.prototype.divide=function(e){return new u(this.value/G(e).value)},l.prototype.over=l.prototype.divide=a.prototype.over=a.prototype.divide,a.prototype.mod=function(e){return k(this,e)[1]},u.prototype.mod=u.prototype.remainder=function(e){return new u(this.value%G(e).value)},l.prototype.remainder=l.prototype.mod=a.prototype.remainder=a.prototype.mod,a.prototype.pow=function(e){var t,i,n,r=G(e),s=this.value,a=r.value;if(0===a)return o[1];if(0===s)return o[0];if(1===s)return o[1];if(-1===s)return r.isEven()?o[1]:o[-1];if(r.sign)return o[0];if(!r.isSmall)throw new Error("The exponent "+r.toString()+" is too large.");if(this.isSmall&&c(t=Math.pow(s,a)))return new l(m(t));for(i=this,n=o[1];!0&a&&(n=n.times(i),--a),0!==a;)a/=2,i=i.square();return n},l.prototype.pow=a.prototype.pow,u.prototype.pow=function(e){var t=G(e),i=this.value,n=t.value,r=BigInt(0),s=BigInt(1),a=BigInt(2);if(n===r)return o[1];if(i===r)return o[0];if(i===s)return o[1];if(i===BigInt(-1))return t.isEven()?o[1]:o[-1];if(t.isNegative())return new u(r);for(var l=this,c=o[1];(n&s)===s&&(c=c.times(l),--n),n!==r;)n/=a,l=l.square();return c},u.prototype.modPow=l.prototype.modPow=a.prototype.modPow=function(e,t){if(e=G(e),(t=G(t)).isZero())throw new Error("Cannot take modPow with modulus 0");var i=o[1],n=this.mod(t);for(e.isNegative()&&(e=e.multiply(o[-1]),n=n.modInv(t));e.isPositive();){if(n.isZero())return o[0];e.isOdd()&&(i=i.multiply(n).mod(t)),e=e.divide(2),n=n.square().mod(t)}return i},a.prototype.compareAbs=function(e){var t=G(e);return t.isSmall?1:I(this.value,t.value)},l.prototype.compareAbs=function(e){var t=G(e),i=Math.abs(this.value),n=t.value;return t.isSmall?i===(n=Math.abs(n))?0:i>n?1:-1:-1},u.prototype.compareAbs=function(e){var t=this.value,i=G(e).value;return(t=t>=0?t:-t)===(i=i>=0?i:-i)?0:t>i?1:-1},a.prototype.compareTo=a.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=G(e);return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:I(this.value,t.value)*(this.sign?-1:1)},l.prototype.compareTo=l.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=G(e),i=this.value,n=t.value;return t.isSmall?i==n?0:i>n?1:-1:i<0!==t.sign?i<0?-1:1:i<0?1:-1},u.prototype.compareTo=u.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=this.value,i=G(e).value;return t===i?0:t>i?1:-1},u.prototype.eq=u.prototype.equals=l.prototype.eq=l.prototype.equals=a.prototype.eq=a.prototype.equals=function(e){return 0===this.compare(e)},u.prototype.neq=u.prototype.notEquals=l.prototype.neq=l.prototype.notEquals=a.prototype.neq=a.prototype.notEquals=function(e){return 0!==this.compare(e)},u.prototype.gt=u.prototype.greater=l.prototype.gt=l.prototype.greater=a.prototype.gt=a.prototype.greater=function(e){return this.compare(e)>0},u.prototype.lt=u.prototype.lesser=l.prototype.lt=l.prototype.lesser=a.prototype.lt=a.prototype.lesser=function(e){return this.compare(e)<0},u.prototype.geq=u.prototype.greaterOrEquals=l.prototype.geq=l.prototype.greaterOrEquals=a.prototype.geq=a.prototype.greaterOrEquals=function(e){return this.compare(e)>=0},u.prototype.leq=u.prototype.lesserOrEquals=l.prototype.leq=l.prototype.lesserOrEquals=a.prototype.leq=a.prototype.lesserOrEquals=function(e){return this.compare(e)<=0},a.prototype.isEven=function(){return 0==(1&this.value[0])},l.prototype.isEven=function(){return 0==(1&this.value)},u.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},a.prototype.isOdd=function(){return 1==(1&this.value[0])},l.prototype.isOdd=function(){return 1==(1&this.value)},u.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},a.prototype.isPositive=function(){return!this.sign},u.prototype.isPositive=l.prototype.isPositive=function(){return this.value>0},a.prototype.isNegative=function(){return this.sign},u.prototype.isNegative=l.prototype.isNegative=function(){return this.value<0},a.prototype.isUnit=function(){return!1},l.prototype.isUnit=function(){return 1===Math.abs(this.value)},u.prototype.isUnit=function(){return this.abs().value===BigInt(1)},a.prototype.isZero=function(){return!1},l.prototype.isZero=function(){return 0===this.value},u.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=l.prototype.isDivisibleBy=a.prototype.isDivisibleBy=function(e){var t=G(e);return!t.isZero()&&(!!t.isUnit()||(0===t.compareAbs(2)?this.isEven():this.mod(t).isZero()))},u.prototype.isPrime=l.prototype.isPrime=a.prototype.isPrime=function(e){var t=T(this);if(void 0!==t)return t;var i=this.abs(),n=i.bitLength();if(n<=64)return A(i,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var s=Math.log(2)*n.toJSNumber(),o=Math.ceil(!0===e?2*Math.pow(s,2):s),a=[],l=0;l<o;l++)a.push(r(l+2));return A(i,a)},u.prototype.isProbablePrime=l.prototype.isProbablePrime=a.prototype.isProbablePrime=function(e,t){var i=T(this);if(void 0!==i)return i;for(var n=this.abs(),s=void 0===e?5:e,o=[],a=0;a<s;a++)o.push(r.randBetween(2,n.minus(2),t));return A(n,o)},u.prototype.modInv=l.prototype.modInv=a.prototype.modInv=function(e){for(var t,i,n,s=r.zero,o=r.one,a=G(e),l=this.abs();!l.isZero();)t=a.divide(l),i=s,n=a,s=o,a=l,o=i.subtract(t.multiply(o)),l=n.subtract(t.multiply(l));if(!a.isUnit())throw new Error(this.toString()+" and "+e.toString()+" are not co-prime");return-1===s.compare(0)&&(s=s.add(e)),this.isNegative()?s.negate():s},a.prototype.next=function(){var e=this.value;return this.sign?w(e,1,this.sign):new a(v(e,1),this.sign)},l.prototype.next=function(){var e=this.value;return e+1<i?new l(e+1):new a(n,!1)},u.prototype.next=function(){return new u(this.value+BigInt(1))},a.prototype.prev=function(){var e=this.value;return this.sign?new a(v(e,1),!0):w(e,1,this.sign)},l.prototype.prev=function(){var e=this.value;return e-1>-i?new l(e-1):new a(n,!0)},u.prototype.prev=function(){return new u(this.value-BigInt(1))};for(var O=[1];2*O[O.length-1]<=t;)O.push(2*O[O.length-1]);var F=O.length,B=O[F-1];function M(e){return Math.abs(e)<=t}function P(e,t,i){t=G(t);for(var n=e.isNegative(),s=t.isNegative(),o=n?e.not():e,a=s?t.not():t,l=0,u=0,c=null,h=null,d=[];!o.isZero()||!a.isZero();)l=(c=k(o,B))[1].toJSNumber(),n&&(l=B-1-l),u=(h=k(a,B))[1].toJSNumber(),s&&(u=B-1-u),o=c[0],a=h[0],d.push(i(l,u));for(var p=0!==i(n?1:0,s?1:0)?r(-1):r(0),f=d.length-1;f>=0;f-=1)p=p.multiply(B).add(r(d[f]));return p}function L(e){var i=e.value,n="number"==typeof i?i|1<<30:"bigint"==typeof i?i|BigInt(1<<30):i[0]+i[1]*t|1073758208;return n&-n}function N(e,t){return e=G(e),t=G(t),e.greater(t)?e:t}function R(e,t){return e=G(e),t=G(t),e.lesser(t)?e:t}function U(e,t){if(e=G(e).abs(),t=G(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var i,n,r=o[1];e.isEven()&&t.isEven();)i=R(L(e),L(t)),e=e.divide(i),t=t.divide(i),r=r.multiply(i);for(;e.isEven();)e=e.divide(L(e));do{for(;t.isEven();)t=t.divide(L(t));e.greater(t)&&(n=t,t=e,e=n),t=t.subtract(e)}while(!t.isZero());return r.isUnit()?e:e.multiply(r)}u.prototype.shiftLeft=l.prototype.shiftLeft=a.prototype.shiftLeft=function(e){var t=G(e).toJSNumber();if(!M(t))throw new Error(String(t)+" is too large for shifting.");if(t<0)return this.shiftRight(-t);var i=this;if(i.isZero())return i;for(;t>=F;)i=i.multiply(B),t-=F-1;return i.multiply(O[t])},u.prototype.shiftRight=l.prototype.shiftRight=a.prototype.shiftRight=function(e){var t,i=G(e).toJSNumber();if(!M(i))throw new Error(String(i)+" is too large for shifting.");if(i<0)return this.shiftLeft(-i);for(var n=this;i>=F;){if(n.isZero()||n.isNegative()&&n.isUnit())return n;n=(t=k(n,B))[1].isNegative()?t[0].prev():t[0],i-=F-1}return(t=k(n,O[i]))[1].isNegative()?t[0].prev():t[0]},u.prototype.not=l.prototype.not=a.prototype.not=function(){return this.negate().prev()},u.prototype.and=l.prototype.and=a.prototype.and=function(e){return P(this,e,(function(e,t){return e&t}))},u.prototype.or=l.prototype.or=a.prototype.or=function(e){return P(this,e,(function(e,t){return e|t}))},u.prototype.xor=l.prototype.xor=a.prototype.xor=function(e){return P(this,e,(function(e,t){return e^t}))},u.prototype.bitLength=l.prototype.bitLength=a.prototype.bitLength=function(){var e=this;return e.compareTo(r(0))<0&&(e=e.negate().subtract(r(1))),0===e.compareTo(r(0))?r(0):r(function e(t,i){if(i.compareTo(t)<=0){var n=e(t,i.square(i)),s=n.p,o=n.e,a=s.multiply(i);return a.compareTo(t)<=0?{p:a,e:2*o+1}:{p:s,e:2*o}}return{p:r(1),e:0}}(e,r(2)).e).add(r(1))};var z=function(e,t,i,n){i=i||"0123456789abcdefghijklmnopqrstuvwxyz",e=String(e),n||(e=e.toLowerCase(),i=i.toLowerCase());var r,s=e.length,o=Math.abs(t),a={};for(r=0;r<i.length;r++)a[i[r]]=r;for(r=0;r<s;r++)if("-"!==(c=e[r])&&c in a&&a[c]>=o){if("1"===c&&1===o)continue;throw new Error(c+" is not a valid digit in base "+t+".")}t=G(t);var l=[],u="-"===e[0];for(r=u?1:0;r<e.length;r++){var c;if((c=e[r])in a)l.push(G(a[c]));else{if("<"!==c)throw new Error(c+" is not a valid character");var h=r;do{r++}while(">"!==e[r]&&r<e.length);l.push(G(e.slice(h+1,r)))}}return V(l,t,u)};function V(e,t,i){var n,r=o[0],s=o[1];for(n=e.length-1;n>=0;n--)r=r.add(e[n].times(s)),s=s.times(t);return i?r.negate():r}function j(e,t){if((t=r(t)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(t.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var i=Array.apply(null,Array(e.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return i.unshift([1]),{value:[].concat.apply([],i),isNegative:!1}}var n=!1;if(e.isNegative()&&t.isPositive()&&(n=!0,e=e.abs()),t.isUnit())return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(e.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:n};for(var s,o=[],a=e;a.isNegative()||a.compareAbs(t)>=0;){s=a.divmod(t),a=s.quotient;var l=s.remainder;l.isNegative()&&(l=t.minus(l).abs(),a=a.next()),o.push(l.toJSNumber())}return o.push(a.toJSNumber()),{value:o.reverse(),isNegative:n}}function H(e,t,i){var n=j(e,t);return(n.isNegative?"-":"")+n.value.map((function(e){return function(e,t){return e<(t=t||"0123456789abcdefghijklmnopqrstuvwxyz").length?t[e]:"<"+e+">"}(e,i)})).join("")}function W(e){if(c(+e)){var t=+e;if(t===m(t))return s?new u(BigInt(t)):new l(t);throw new Error("Invalid integer: "+e)}var i="-"===e[0];i&&(e=e.slice(1));var n=e.split(/e/i);if(n.length>2)throw new Error("Invalid integer: "+n.join("e"));if(2===n.length){var r=n[1];if("+"===r[0]&&(r=r.slice(1)),(r=+r)!==m(r)||!c(r))throw new Error("Invalid integer: "+r+" is not a valid exponent.");var o=n[0],h=o.indexOf(".");if(h>=0&&(r-=o.length-h-1,o=o.slice(0,h)+o.slice(h+1)),r<0)throw new Error("Cannot include negative exponent part for integers");e=o+=new Array(r+1).join("0")}if(!/^([0-9][0-9]*)$/.test(e))throw new Error("Invalid integer: "+e);if(s)return new u(BigInt(i?"-"+e:e));for(var d=[],f=e.length,g=f-7;f>0;)d.push(+e.slice(g,f)),(g-=7)<0&&(g=0),f-=7;return p(d),new a(d,i)}function G(e){return"number"==typeof e?function(e){if(s)return new u(BigInt(e));if(c(e)){if(e!==m(e))throw new Error(e+" is not an integer.");return new l(e)}return W(e.toString())}(e):"string"==typeof e?W(e):"bigint"==typeof e?new u(e):e}a.prototype.toArray=function(e){return j(this,e)},l.prototype.toArray=function(e){return j(this,e)},u.prototype.toArray=function(e){return j(this,e)},a.prototype.toString=function(e,t){if(void 0===e&&(e=10),10!==e)return H(this,e,t);for(var i,n=this.value,r=n.length,s=String(n[--r]);--r>=0;)i=String(n[r]),s+="0000000".slice(i.length)+i;return(this.sign?"-":"")+s},u.prototype.toString=l.prototype.toString=function(e,t){return void 0===e&&(e=10),10!=e?H(this,e,t):String(this.value)},u.prototype.toJSON=a.prototype.toJSON=l.prototype.toJSON=function(){return this.toString()},a.prototype.toJSNumber=a.prototype.valueOf=function(){return parseInt(this.toString(),10)},l.prototype.toJSNumber=l.prototype.valueOf=function(){return this.value},u.prototype.valueOf=u.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var q=0;q<1e3;q++)o[q]=G(q),q>0&&(o[-q]=G(-q));return o.one=o[1],o.zero=o[0],o.minusOne=o[-1],o.max=N,o.min=R,o.gcd=U,o.lcm=function(e,t){return e=G(e).abs(),t=G(t).abs(),e.divide(U(e,t)).multiply(t)},o.isInstance=function(e){return e instanceof a||e instanceof l||e instanceof u},o.randBetween=function(e,i,n){e=G(e),i=G(i);var r=n||Math.random,s=R(e,i),a=N(e,i).subtract(s).add(1);if(a.isSmall)return s.add(Math.floor(r()*a));for(var l=j(a,t).value,u=[],c=!0,h=0;h<l.length;h++){var d=c?l[h]:t,p=m(r()*d);u.push(p),p<d&&(c=!1)}return s.add(o.fromArray(u,t,!1))},o.fromArray=function(e,t,i){return V(e.map(G),G(t||10),i)},o}();e.hasOwnProperty("exports")&&(e.exports=r),void 0===(n=(function(){return r}).call(t,i,t,e))||(e.exports=n)}).call(this,i("YuTi")(e))},WUnY:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("dUeR"),r=i("lm9q"),s=i("qyOZ");class o extends n.a{constructor(e){super(e),this.tileConnections_=0}get tileConnections(){return this.tileConnections_}set tileConnections(e){e!=this.tileConnections_&&(this.reloadCamera=!0),this.tileConnections_=e}cameraChanged(e){super.cameraChanged(e),this.updateDrawPartVisibilityBasedOnConnections()}modulateSelectedTint(e){super.modulateSelectedTint(e),this.updateDrawPartVisibilityBasedOnConnections()}modulateBuildCandidateTint(e){super.modulateBuildCandidateTint(e),this.updateDrawPartVisibilityBasedOnConnections()}updateDrawPartVisibilityBasedOnConnections(){if(null!=this.drawParts)for(let e of this.drawParts)e.makeEverythingButThisTagInvisible(r.a.connectionTag[this.tileConnections])}updateTileables(e){let t=0;e.getBlueprintItemsAt(new s.a(this.position.x-1,this.position.y)).filter(e=>e.id==this.id).length>0&&(t+=1),e.getBlueprintItemsAt(new s.a(this.position.x+1,this.position.y)).filter(e=>e.id==this.id).length>0&&(t+=2),e.getBlueprintItemsAt(new s.a(this.position.x,this.position.y+1)).filter(e=>e.id==this.id).length>0&&(t+=4),e.getBlueprintItemsAt(new s.a(this.position.x,this.position.y-1)).filter(e=>e.id==this.id).length>0&&(t+=8),this.tileConnections=t}}},XP29:function(e,t,i){"use strict";var n=i("Y2Yi"),r=i("w+qe"),s=i("VtPO"),o=i("Z3Ei"),a=Object.prototype.toString,l=Object.prototype.hasOwnProperty,u={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},c=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function h(e){var t,i,s;if(t=e.toString(16).toUpperCase(),e<=255)i="x",s=2;else if(e<=65535)i="u",s=4;else{if(!(e<=4294967295))throw new r("code point within a string may not be greater than 0xFFFFFFFF");i="U",s=8}return"\\"+i+n.repeat("0",s-t.length)+t}function d(e){this.schema=e.schema||s,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=n.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var i,n,r,s,o,a,u;if(null===t)return{};for(i={},r=0,s=(n=Object.keys(t)).length;r<s;r+=1)o=n[r],a=String(t[o]),"!!"===o.slice(0,2)&&(o="tag:yaml.org,2002:"+o.slice(2)),(u=e.compiledTypeMap.fallback[o])&&l.call(u.styleAliases,a)&&(a=u.styleAliases[a]),i[o]=a;return i}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function p(e,t){for(var i,r=n.repeat(" ",t),s=0,o=-1,a="",l=e.length;s<l;)-1===(o=e.indexOf("\n",s))?(i=e.slice(s),s=l):(i=e.slice(s,o+1),s=o+1),i.length&&"\n"!==i&&(a+=r),a+=i;return a}function f(e,t){return"\n"+n.repeat(" ",e.indent*t)}function m(e){return 32===e||9===e}function g(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&65279!==e||65536<=e&&e<=1114111}function y(e){return g(e)&&65279!==e&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e&&58!==e&&35!==e}function v(e){return/^\n* /.test(e)}function b(e,t,i,n){e.dump=function(){if(0===t.length)return"''";if(!e.noCompatMode&&-1!==c.indexOf(t))return"'"+t+"'";var s=e.indent*Math.max(1,i),o=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s);switch(function(t,i,n,r,s){var o,a,l,u=!1,c=!1,h=-1!==r,d=-1,p=g(l=t.charCodeAt(0))&&65279!==l&&!m(l)&&45!==l&&63!==l&&58!==l&&44!==l&&91!==l&&93!==l&&123!==l&&125!==l&&35!==l&&38!==l&&42!==l&&33!==l&&124!==l&&62!==l&&39!==l&&34!==l&&37!==l&&64!==l&&96!==l&&!m(t.charCodeAt(t.length-1));if(i)for(o=0;o<t.length;o++){if(!g(a=t.charCodeAt(o)))return 5;p=p&&y(a)}else{for(o=0;o<t.length;o++){if(10===(a=t.charCodeAt(o)))u=!0,h&&(c=c||o-d-1>r&&" "!==t[d+1],d=o);else if(!g(a))return 5;p=p&&y(a)}c=c||h&&o-d-1>r&&" "!==t[d+1]}return u||c?n>9&&v(t)?5:c?4:3:p&&!function(t){return function(e,t){var i,n;for(i=0,n=e.implicitTypes.length;i<n;i+=1)if(e.implicitTypes[i].resolve(t))return!0;return!1}(e,t)}(t)?1:2}(t,n||e.flowLevel>-1&&i>=e.flowLevel,e.indent,o)){case 1:return t;case 2:return"'"+t.replace(/'/g,"''")+"'";case 3:return"|"+w(t,e.indent)+x(p(t,s));case 4:return">"+w(t,e.indent)+x(p(function(e,t){for(var i,n,r,s=/(\n+)([^\n]*)/g,o=(r=e.indexOf("\n"),s.lastIndex=r=-1!==r?r:e.length,C(e.slice(0,r),t)),a="\n"===e[0]||" "===e[0];n=s.exec(e);){var l=n[2];i=" "===l[0],o+=n[1]+(a||i||""===l?"":"\n")+C(l,t),a=i}return o}(t,o),s));case 5:return'"'+function(e){for(var t,i,n,r="",s=0;s<e.length;s++)(t=e.charCodeAt(s))>=55296&&t<=56319&&(i=e.charCodeAt(s+1))>=56320&&i<=57343?(r+=h(1024*(t-55296)+i-56320+65536),s++):r+=!(n=u[t])&&g(t)?e[s]:n||h(t);return r}(t)+'"';default:throw new r("impossible error: invalid scalar style")}}()}function w(e,t){var i=v(e)?String(t):"",n="\n"===e[e.length-1];return i+(!n||"\n"!==e[e.length-2]&&"\n"!==e?n?"":"-":"+")+"\n"}function x(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function C(e,t){if(""===e||" "===e[0])return e;for(var i,n,r=/ [^ ]/g,s=0,o=0,a=0,l="";i=r.exec(e);)(a=i.index)-s>t&&(l+="\n"+e.slice(s,n=o>s?o:a),s=n+1),o=a;return l+="\n",(l+=e.length-s>t&&o>s?e.slice(s,o)+"\n"+e.slice(o+1):e.slice(s)).slice(1)}function _(e,t,i){var n,s,o,u,c,h;for(o=0,u=(s=i?e.explicitTypes:e.implicitTypes).length;o<u;o+=1)if(((c=s[o]).instanceOf||c.predicate)&&(!c.instanceOf||"object"==typeof t&&t instanceof c.instanceOf)&&(!c.predicate||c.predicate(t))){if(e.tag=i?c.tag:"?",c.represent){if(h=e.styleMap[c.tag]||c.defaultStyle,"[object Function]"===a.call(c.represent))n=c.represent(t,h);else{if(!l.call(c.represent,h))throw new r("!<"+c.tag+'> tag resolver accepts not "'+h+'" style');n=c.represent[h](t,h)}e.dump=n}return!0}return!1}function S(e,t){var i=new d(t=t||{});return i.noRefs||function(e,t){var i,n,r=[],s=[];for(function e(t,i,n){var r,s,o;if(null!==t&&"object"==typeof t)if(-1!==(s=i.indexOf(t)))-1===n.indexOf(s)&&n.push(s);else if(i.push(t),Array.isArray(t))for(s=0,o=t.length;s<o;s+=1)e(t[s],i,n);else for(s=0,o=(r=Object.keys(t)).length;s<o;s+=1)e(t[r[s]],i,n)}(e,r,s),i=0,n=s.length;i<n;i+=1)t.duplicates.push(r[s[i]]);t.usedDuplicates=new Array(n)}(e,i),function e(t,i,n,s,o,l){t.tag=null,t.dump=n,_(t,n,!1)||_(t,n,!0);var u=a.call(t.dump);s&&(s=t.flowLevel<0||t.flowLevel>i);var c,h,d="[object Object]"===u||"[object Array]"===u;if(d&&(h=-1!==(c=t.duplicates.indexOf(n))),(null!==t.tag&&"?"!==t.tag||h||2!==t.indent&&i>0)&&(o=!1),h&&t.usedDuplicates[c])t.dump="*ref_"+c;else{if(d&&h&&!t.usedDuplicates[c]&&(t.usedDuplicates[c]=!0),"[object Object]"===u)s&&0!==Object.keys(t.dump).length?(function(t,i,n,s){var o,a,l,u,c,h,d="",p=t.tag,m=Object.keys(n);if(!0===t.sortKeys)m.sort();else if("function"==typeof t.sortKeys)m.sort(t.sortKeys);else if(t.sortKeys)throw new r("sortKeys must be a boolean or a function");for(o=0,a=m.length;o<a;o+=1)h="",s&&0===o||(h+=f(t,i)),u=n[l=m[o]],e(t,i+1,l,!0,!0,!0)&&((c=null!==t.tag&&"?"!==t.tag||t.dump&&t.dump.length>1024)&&(t.dump&&10===t.dump.charCodeAt(0)?h+="?":h+="? "),h+=t.dump,c&&(h+=f(t,i)),e(t,i+1,u,!0,c)&&(t.dump&&10===t.dump.charCodeAt(0)?h+=":":h+=": ",d+=h+=t.dump));t.tag=p,t.dump=d||"{}"}(t,i,t.dump,o),h&&(t.dump="&ref_"+c+t.dump)):(function(t,i,n){var r,s,o,a,l,u="",c=t.tag,h=Object.keys(n);for(r=0,s=h.length;r<s;r+=1)l=t.condenseFlow?'"':"",0!==r&&(l+=", "),a=n[o=h[r]],e(t,i,o,!1,!1)&&(t.dump.length>1024&&(l+="? "),l+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),e(t,i,a,!1,!1)&&(u+=l+=t.dump));t.tag=c,t.dump="{"+u+"}"}(t,i,t.dump),h&&(t.dump="&ref_"+c+" "+t.dump));else if("[object Array]"===u){var p=t.noArrayIndent&&i>0?i-1:i;s&&0!==t.dump.length?(function(t,i,n,r){var s,o,a="",l=t.tag;for(s=0,o=n.length;s<o;s+=1)e(t,i+1,n[s],!0,!0)&&(r&&0===s||(a+=f(t,i)),t.dump&&10===t.dump.charCodeAt(0)?a+="-":a+="- ",a+=t.dump);t.tag=l,t.dump=a||"[]"}(t,p,t.dump,o),h&&(t.dump="&ref_"+c+t.dump)):(function(t,i,n){var r,s,o="",a=t.tag;for(r=0,s=n.length;r<s;r+=1)e(t,i,n[r],!1,!1)&&(0!==r&&(o+=","+(t.condenseFlow?"":" ")),o+=t.dump);t.tag=a,t.dump="["+o+"]"}(t,p,t.dump),h&&(t.dump="&ref_"+c+" "+t.dump))}else{if("[object String]"!==u){if(t.skipInvalid)return!1;throw new r("unacceptable kind of an object to dump "+u)}"?"!==t.tag&&b(t,t.dump,i,l)}null!==t.tag&&"?"!==t.tag&&(t.dump="!<"+t.tag+"> "+t.dump)}return!0}(i,0,e,!0,!0)?i.dump+"\n":""}e.exports.dump=S,e.exports.safeDump=function(e,t){return S(e,n.extend({schema:o},t))}},XPU9:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{static stripHtml(e){return e}static createUrl(e,t){return"assets/images/"+(t?"ui/":"")+e+".png"}}},Xtc4:function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return s}));var n=i("XPU9");class r{constructor(){this.category=0,this.categoryName="",this.categoryIcon="",this.categoryIconUrl=""}importFrom(e){this.category=e.category,this.categoryName=e.categoryName,this.categoryIcon=e.categoryIcon,this.categoryIconUrl=n.a.createUrl(this.categoryIcon,!0)}static init(){r.buildMenuCategories=[],r.allCategories=new r,r.allCategories.category=-1,r.allCategories.categoryName="All",r.allCategories.categoryIcon="icon_category_base",r.allCategories.categoryIconUrl=n.a.createUrl(r.allCategories.categoryIcon,!0)}static getCategory(e){if(null!=r.buildMenuCategories)for(let t of r.buildMenuCategories)if(t.category==e)return t;throw new Error("BuildMenuCategory.getCategory : Category not found")}static load(e){for(let t of e){let e=new r;e.importFrom(t),r.buildMenuCategories.push(e)}}}class s{constructor(){this.category=0,this.buildingId=""}importFrom(e){this.category=e.category,this.buildingId=e.buildingId}static init(){s.buildMenuItems=[]}static load(e){for(let t of e){let e=new s;e.importFrom(t),s.buildMenuItems.push(e)}}}},Y2Yi:function(e,t,i){"use strict";function n(e){return null==e}e.exports.isNothing=n,e.exports.isObject=function(e){return"object"==typeof e&&null!==e},e.exports.toArray=function(e){return Array.isArray(e)?e:n(e)?[]:[e]},e.exports.repeat=function(e,t){var i,n="";for(i=0;i<t;i+=1)n+=e;return n},e.exports.isNegativeZero=function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},e.exports.extend=function(e,t){var i,n,r,s;if(t)for(i=0,n=(s=Object.keys(t)).length;i<n;i+=1)e[r=s[i]]=t[r];return e}},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},Z3Ei:function(e,t,i){"use strict";var n=i("3lC6");e.exports=new n({include:[i("RSjF")],implicit:[i("4M5b"),i("spQ0")],explicit:[i("jO2K"),i("8+mo"),i("DfW2"),i("pzZA")]})},Zejf:function(e,t){},b1UP:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("QbME"),r=i("1LlD"),s=i("ilDO"),o=i("Rr+2");function a(e){return(e&t.continuationByteMask)===t.continuationBytePrefix}t.leadingByteLength1Prefix=parseInt("00000000",2),t.leadingByteLength2Prefix=parseInt("11000000",2),t.leadingByteLength3Prefix=parseInt("11100000",2),t.leadingByteLength4Prefix=parseInt("11110000",2),t.continuationBytePrefix=parseInt("10000000",2),t.continuationByteMask=parseInt("11000000",2),t.isUtf8ContinuationCharacter=a,t.writeUtf8StringFromCodePoints=function(e,t,i){"string"==typeof i&&(i=Array.from(i).map(e=>e.codePointAt(0)));for(let n=0;n<i.length;n++){const r=i[n];if(Number.isNaN(r)||!Number.isFinite(r)||r<0)throw new o.InvalidArgumentError(`Codepoint at position #${n} in the UTF-8 data-to-write is not valid, should be non-negative integer.`,"dataToWrite",r);r<128?e[t++]=r:r<2048?(e[t++]=192|r>>6,e[t++]=128|63&r):r<65536?(e[t++]=224|r>>12,e[t++]=128|r>>6&63,e[t++]=128|63&r):(e[t++]=240|r>>18,e[t++]=128|r>>12&63,e[t++]=128|r>>6&63,e[t++]=128|63&r)}return t},t.readUtf8StringFromBytes=function(e,t,i=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER){const l=Math.min(e.length,t+o);let u="",c=0;for(;t<l&&c<i;){const i=e.length-t,o=l-t;let h=e[t++];if(h>127)if(h>191&&h<224){if(i<2)throw new s.EndOfStreamError(r.EndOfStreamMessageFactory.utf8NotEnoughBytesInBuffer(t-1,2,i));if(o<2)throw new s.EndOfStreamError(r.EndOfStreamMessageFactory.utf8NotEnoughBytesAllowed(t-1,2,o));const l=e[t++];if(!a(l))throw new n.InvalidUtf8CharacterError(r.InvalidUtf8CharacterMessageFactory.notContinuationByte(t-2,1,l));h=(31&h)<<6|63&l}else if(h>223&&h<240){if(i<3)throw new s.EndOfStreamError(r.EndOfStreamMessageFactory.utf8NotEnoughBytesInBuffer(t-1,3,i));if(o<3)throw new s.EndOfStreamError(r.EndOfStreamMessageFactory.utf8NotEnoughBytesAllowed(t-1,3,o));const l=e[t++],u=e[t++];if(!a(l))throw new n.InvalidUtf8CharacterError(r.InvalidUtf8CharacterMessageFactory.notContinuationByte(t-3,1,l));if(!a(u))throw new n.InvalidUtf8CharacterError(r.InvalidUtf8CharacterMessageFactory.notContinuationByte(t-3,2,u));h=(15&h)<<12|(63&l)<<6|63&u}else{if(!(h>239&&h<248))throw new n.InvalidUtf8CharacterError(r.InvalidUtf8CharacterMessageFactory.invalidLeadingByte(h,t-1));{if(i<4)throw new s.EndOfStreamError(r.EndOfStreamMessageFactory.utf8NotEnoughBytesInBuffer(t-1,4,i));if(o<4)throw new s.EndOfStreamError(r.EndOfStreamMessageFactory.utf8NotEnoughBytesAllowed(t-1,4,o));const l=e[t++],u=e[t++],c=e[t++];if(!a(l))throw new n.InvalidUtf8CharacterError(r.InvalidUtf8CharacterMessageFactory.notContinuationByte(t-4,1,l));if(!a(u))throw new n.InvalidUtf8CharacterError(r.InvalidUtf8CharacterMessageFactory.notContinuationByte(t-4,2,u));if(!a(c))throw new n.InvalidUtf8CharacterError(r.InvalidUtf8CharacterMessageFactory.notContinuationByte(t-4,3,c));h=(7&h)<<18|(63&l)<<12|(63&u)<<6|63&c}}if(c++,h<=65535)u+=String.fromCharCode(h);else{if(!(h<=1114111))throw new Error("UTF-8 decode: code point 0x"+h.toString(16)+" exceeds UTF-16 reach");h-=65536,u+=String.fromCharCode(h>>10|55296),u+=String.fromCharCode(1023&h|56320)}}return{readString:u,finalPosition:t}}},bWsv:function(e,t,i){"use strict";var n=i("rv2l"),r=i("tyaE");e.exports=n.bind(null,r)},dUeR:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i("qyOZ"),r=i("lm9q"),s=i("DgnE"),o=i("C2gO"),a=i("Oc1+"),l=i("kYB/"),u=i("m587"),c=i("Rntz"),h=(i("M6zj"),i("OVEG")),d=i("0AM7"),p=i("Qn6k"),f=i("gpF3");let m=(()=>{class e{constructor(t="Vacuum"){this.temperature=e.defaultTemperature,this.buildableElements=[],this.uiSaveSettings=[],this.tileIndexes=[],this.selected_=!1,this.isBuildCandidate=!1,this.buildCandidateResult=new g,this.position=new n.a,this.orientation=a.a.Neutral,this.rotation=0,this.scale=n.a.one(),this.topLeft=new n.a,this.bottomRight=new n.a,this.drawParts=[],this.depth=0,this.alpha=0,this.visible=!1,this.tileable=[!1,!1,!1,!1],this.updateTileableParts=!1,this.isOpaque=!1,this.visualizationTint=-1,this.utilitySprites=[],this.containerCreated=!1,this.reloadCamera=!0,this.destroyed=!1,this.id=t,this.oniItem=l.a.getOniItem(this.id)}get temperatureCelcius(){return this.temperature-273.15}set temperatureCelcius(e){this.temperature=e+273.15}get temperatureScale(){return r.a.temperatureToScale(this.temperature)}set temperatureScale(e){this.temperature=r.a.scaleToTemperature(e)}get header(){return this.oniItem.name}getUiSettings(e){for(let t of this.uiSaveSettings)if(t.id==e)return t}setElement(e,t){null==this.buildableElements&&(this.buildableElements=[]),this.buildableElements[t]=s.a.getElement(e),this.reloadCamera=!0}get selected(){return this.selected_}set selected(e){this.selected_=e,this.selected||(this.reloadCamera=!0)}getName(){return this.id}getDebug1(){let e={};return e.topLeft=this.topLeft,JSON.stringify(e)}getDebug2(){let e={};return e.bottomRight=this.bottomRight,JSON.stringify(e)}getDebug3(){return""}getDebug4(){return""}getDebug5(){return""}importOniBuilding(e){switch(this.position=new n.a(null==e.location_x?0:e.location_x,null==e.location_y?0:e.location_y),e.rotationOrientation){case"R90":this.changeOrientation(a.a.R90);break;case"R180":this.changeOrientation(a.a.R180);break;case"R270":this.changeOrientation(a.a.R270);break;case"FlipH":this.changeOrientation(a.a.FlipH);break;case"FlipV":this.changeOrientation(a.a.FlipV)}this.setElement(e.element,0),this.temperature=Math.floor(e.temperature),this.cleanUp(),this.prepareBoundingBox(),this.innerYaml=e}importBniBuilding(e){this.position=null!=e.offset?new n.a(null==e.offset.x?0:e.offset.x,null==e.offset.y?0:e.offset.y):n.a.zero(),this.changeOrientation(e.orientation),this.cleanUp(),this.prepareBoundingBox()}importMdbBuilding(e){let t=n.a.clone(e.position);if(null==t&&(t=n.a.zero()),this.position=t,null!=e.elements&&e.elements.length>0)for(let i=0;i<e.elements.length;i++)this.setElement(null!=e.elements[i]?e.elements[i]:this.oniItem.defaultElement[i].id,i);if(null!=e.settings&&e.settings.length>0){this.uiSaveSettings=[];for(let t of e.settings)this.uiSaveSettings.push(o.b.clone(t))}this.temperature=null==e.temperature?0:e.temperature,this.changeOrientation(e.orientation),this.cleanUp(),this.prepareBoundingBox()}updateRotationScale(){switch(this.orientation){case a.a.R90:this.rotation=90,this.scale=n.a.One;break;case a.a.R180:this.rotation=180,this.scale=n.a.One;break;case a.a.R270:this.rotation=270,this.scale=n.a.One;break;case a.a.FlipH:this.rotation=0,this.scale=new n.a(-1,1);break;case a.a.FlipV:this.rotation=0,this.scale=new n.a(1,-1);break;case a.a.Neutral:default:this.rotation=0,this.scale=n.a.One}this.prepareBoundingBox()}nextOrientation(){let e=this.oniItem.orientations.indexOf(this.orientation);e=(e+1)%this.oniItem.orientations.length,this.changeOrientation(this.oniItem.orientations[e])}changeOrientation(e){this.orientation=null==e?a.a.Neutral:e,this.updateRotationScale()}cleanUp(){null==this.rotation&&(this.rotation=e.defaultRotation),null==this.scale&&(this.scale=e.defaultScale),null==this.temperature&&(this.temperature=e.defaultTemperature),null==this.buildableElements&&(this.buildableElements=[]);for(let e=0;e<this.oniItem.buildableElementsArray.length;e++)null==this.buildableElements[e]&&this.setElement(this.oniItem.defaultElement[e].id,e);null==this.uiSaveSettings&&(this.uiSaveSettings=[]);for(let e of this.oniItem.uiScreens)if(null==this.getUiSettings(e.id)){let t=new o.b(e.id);for(let i=0;i<e.inputs.length;i++)t.values[i]=e.getDefaultValue(i);this.uiSaveSettings.push(t)}null!=this.orientation&&this.orientation!=a.a.Neutral||this.changeOrientation(a.a.Neutral),this.selected_=!1,this.tileable=[!1,!1,!1,!1],this.drawParts=[];let t=0;for(let e of this.oniItem.spriteGroup.spriteModifiers){if(-1==e.tags.indexOf(c.a.ui)){let i=new u.a;i.zIndex=1-t/(2*this.oniItem.spriteGroup.spriteModifiers.length),-1!=e.tags.indexOf(c.a.white)&&(i.zIndex=1),i.spriteModifier=e,i.visible=!1,this.drawParts.push(i)}t++}}toMdbBuilding(){let t={id:this.id},i=n.a.clone(this.position);null==i&&(i=new n.a(0,0)),t.position=i,this.temperature!=e.defaultTemperature&&(t.temperature=this.temperature);let r=[],s=!1;for(let e=0;e<this.buildableElements.length;e++)this.buildableElements[e]!=this.oniItem.defaultElement[e]&&(r[e]=this.buildableElements[e].id,s=!0);if(s&&(t.elements=r),this.uiSaveSettings.length>0){t.settings=[];for(let e of this.uiSaveSettings)t.settings.push(o.b.clone(e))}return this.orientation!=a.a.Neutral&&(t.orientation=this.orientation),t}toBniBuilding(){return{buildingdef:this.id,flags:0,offset:new n.a(this.position.x,this.position.y),orientation:this.orientation,selected_elements:this.getSelectedElementsTag()}}getSelectedElementsTag(){let e=[];for(let t of this.buildableElements)e.push(t.tag);return e}prepareBoundingBox(){let e=this.oniItem.size;n.a.Zero.equals(e)&&(e=n.a.One);let t=new n.a(this.position.x+this.oniItem.tileOffset.x,this.position.y+this.oniItem.tileOffset.y+e.y-1),i=new n.a(t.x+e.x-1,t.y-e.y+1),s=r.a.rotateVector2(t,this.position,this.rotation),o=r.a.rotateVector2(i,this.position,this.rotation),a=r.a.scaleVector2(s,this.position,this.scale),l=r.a.scaleVector2(o,this.position,this.scale);this.topLeft=new n.a(a.x<l.x?a.x:l.x,a.y>l.y?a.y:l.y),this.bottomRight=new n.a(a.x>l.x?a.x:l.x,a.y<l.y?a.y:l.y),this.tileIndexes=[];for(let u=this.topLeft.x;u<=this.bottomRight.x;u++)for(let e=this.topLeft.y;e>=this.bottomRight.y;e--)this.tileIndexes.push(r.a.getTileIndex(new n.a(u,e)))}updateTileables(e){for(let t=0;t<4;t++)this.tileable[t]=!1;this.oniItem.tileableLeftRight&&(e.getBlueprintItemsAt(new n.a(this.position.x-1,this.position.y)).filter(e=>e.id==this.id).length>0&&(this.tileable[0]=!0),e.getBlueprintItemsAt(new n.a(this.position.x+1,this.position.y)).filter(e=>e.id==this.id).length>0&&(this.tileable[1]=!0),this.updateTileableParts=!0),this.oniItem.tileableTopBottom&&(e.getBlueprintItemsAt(new n.a(this.position.x,this.position.y+1)).filter(e=>e.id==this.id).length>0&&(this.tileable[2]=!0),e.getBlueprintItemsAt(new n.a(this.position.x,this.position.y-1)).filter(e=>e.id==this.id).length>0&&(this.tileable[3]=!0),this.updateTileableParts=!0)}setInvisible(){this.position=new n.a(-99999,-99999)}cameraChanged(e){this.isOpaque=this.oniItem.isOverlayPrimary(e.overlay)||this.oniItem.isOverlaySecondary(e.overlay),this.alpha=this.isOpaque?1:.3,this.depth=this.oniItem.isOverlayPrimary(e.overlay)?this.oniItem.zIndex+100:this.oniItem.isOverlaySecondary(e.overlay)?this.oniItem.zIndex+50:this.oniItem.zIndex,this.isBuildCandidate&&(this.depth=199),this.visualizationTint=-1;for(let t of this.drawParts)t.prepareVisibilityBasedOnDisplay(e.display),t.tint=16777215,t.alpha=1,t.makeInvisibileIfHasTag(c.a.white),this.isOpaque&&(this.oniItem.isWire||this.oniItem.isBridge)&&(t.hasTag(c.a.white)&&(t.visible=!0,t.zIndex=1,this.visualizationTint=this.oniItem.backColor,t.alpha=.7),e.display==h.a.blueprint&&(t.makeInvisibileIfHasTag(c.a.place),t.makeVisibileIfHasTag(c.a.solid))),e.visualization==d.a.temperature&&t.hasTag(c.a.white)&&(t.visible=!0,t.zIndex=1,this.visualizationTint=r.a.temperatureToColor(this.temperature),t.alpha=.7),e.visualization==d.a.elements&&t.hasTag(c.a.white)&&(t.visible=!0,t.zIndex=1,this.visualizationTint=this.buildableElements[0].color,t.alpha=.8),t.hasTag(c.a.white)&&(t.tint=this.visualizationTint),this.applyTileablesToDrawPart(t)}modulateBuildCandidateTint(e){for(let t of this.drawParts)e.display==h.a.solid?t.hasTag(c.a.white)&&(this.buildCandidateResult.canBuild?t.visible=!1:(t.visible=!0,t.zIndex=1,t.tint=15663104,t.alpha=.7)):e.display==h.a.blueprint&&(t.hasTag(c.a.place)?t.tint=this.buildCandidateResult.canBuild?16777215:15348531:t.hasTag(c.a.white)&&(t.tint=this.buildCandidateResult.canBuild?this.oniItem.backColor:15348531)),this.applyTileablesToDrawPart(t)}modulateSelectedTint(e){for(let t of this.drawParts)e.display==h.a.solid?t.hasTag(c.a.white)&&(-1!=this.visualizationTint?t.tint=r.a.blendColor(this.visualizationTint,5046016,e.sinWave):(t.visible=!0,t.zIndex=1,t.tint=5046016,t.alpha=.8*e.sinWave)):e.display==h.a.blueprint&&(t.hasTag(c.a.place)||t.hasTag(c.a.white))&&(t.tint=r.a.blendColor(t.tint,5046016,e.sinWave)),this.applyTileablesToDrawPart(t)}applyTileablesToDrawPart(e){this.tileable[0]&&e.makeInvisibileIfHasTag(c.a.tileable_left),this.tileable[1]&&e.makeInvisibileIfHasTag(c.a.tileable_right),this.tileable[2]&&e.makeInvisibileIfHasTag(c.a.tileable_up),this.tileable[3]&&e.makeInvisibileIfHasTag(c.a.tileable_down)}drawPixi(e,t){if(this.drawPixiUtility(e,t),this.reloadCamera&&(this.cameraChanged(e),this.reloadCamera=!1),this.updateTileableParts){for(let e of this.drawParts)this.applyTileablesToDrawPart(e);this.updateTileableParts=!1}if(this.selected&&this.modulateSelectedTint(e),this.isBuildCandidate&&this.modulateBuildCandidateTint(e),!this.containerCreated){this.container=t.getNewContainer(),e.addToContainer(this.container),this.containerCreated=!0;for(let e of this.drawParts)e.prepareSprite(this.container,this.oniItem,t)}let i=new n.a(e.currentZoom/100*1,e.currentZoom/100*1),r=new n.a((this.position.x+e.cameraOffset.x+.5)*e.currentZoom,(-this.position.y+e.cameraOffset.y+.5)*e.currentZoom);this.container.x=r.x,this.container.y=r.y,this.container.scale.x=this.scale.x*i.x,this.container.scale.y=this.scale.y*i.y,this.container.angle=this.rotation,this.container.zIndex=this.depth,this.container.alpha=this.alpha}drawPixiUtility(e,t){null==this.utilitySprites&&(this.utilitySprites=[]);for(let i=0;i<this.oniItem.utilityConnections.length;i++){let s=this.oniItem.utilityConnections[i];if(e.overlay!=p.a.getConnectionOverlay(s.type)){null!=this.utilitySprites[i]&&(this.utilitySprites[i].visible=!1);continue}null!=this.utilitySprites[i]&&(this.utilitySprites[i].visible=!0);let o=r.a.rotateVector2(s.offset,n.a.Zero,this.rotation);o=r.a.scaleVector2(o,n.a.Zero,this.scale);let a=new n.a((this.position.x+o.x+e.cameraOffset.x+.25)*e.currentZoom,(-this.position.y-o.y+e.cameraOffset.y+.25)*e.currentZoom),l=new n.a(.5*e.currentZoom,.5*e.currentZoom),u=p.a.getConnectionSprite(s),c=u.color;if(null==this.utilitySprites[i]){let n=f.a.getSpriteInfo(u.spriteInfoId);if(null!=n){let r=n.getTexture(t);null!=r&&(this.utilitySprites[i]=t.getSpriteFrom(r),this.utilitySprites[i].tint=c,this.utilitySprites[i].zIndex=200,e.addToContainer(this.utilitySprites[i]))}}null!=this.utilitySprites[i]&&(this.utilitySprites[i].x=a.x,this.utilitySprites[i].y=a.y,this.utilitySprites[i].width=l.x,this.utilitySprites[i].height=l.y)}}sortChildren(){null!=this.container&&this.container.sortChildren()}destroy(){if(!this.destroyed){if(null!=this.container&&this.container.destroy({baseTexture:!1,texture:!1,children:!0}),null!=this.utilitySprites)for(let e of this.utilitySprites)null!=e&&e.destroy();this.destroyed=!0}}}return e.defaultRotation=0,e.defaultScale=n.a.One,e.defaultTemperature=303.15,e})();class g{constructor(){this.canBuild=!0,this.cantBuildReason=""}}},"eNc/":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t){this.imageId=e,this.imageUrl=t}static get keys(){return Array.from(n.imageSourcesMapPixi.keys())}static init(){n.imageSourcesMapPixi=new Map}static AddImagePixi(e,t){let i=new n(e,t);n.imageSourcesMapPixi.set(i.imageId,i)}static isTextureLoaded(e){let t=n.imageSourcesMapPixi.get(e);return null!=t&&null!=t.baseTexture}static getBaseTexture(e,t){let i=n.imageSourcesMapPixi.get(e);if(null!=i)return null==i.baseTexture&&(i.baseTexture=t.getNewBaseTexture(i.imageUrl)),i.baseTexture}static setBaseTexture(e,t){let i=n.imageSourcesMapPixi.get(e);null!=i&&null==i.baseTexture&&(i.baseTexture=t)}static getUrl(e){let t=n.imageSourcesMapPixi.get(e);if(null==t)throw new Error("ImageSource.getUrl : imageId not found : "+e);return t.imageUrl}static setUrl(e,t){let i=n.imageSourcesMapPixi.get(e);null!=i&&(i.imageUrl=t)}}},eYqy:function(e,t){},ffXJ:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("dUeR"),r=i("G3i9"),s=i("WUnY"),o=i("sGTC"),a=i("kYB/");class l{static createInstance(e){let t,i=a.a.getOniItem(e);if(null==i)throw new Error("BlueprintHelpers.createInstance : OniItem id not found");return t=i.isWire?new r.a(e):i.isTile?new s.a(e):"Element"==i.id?new o.a(e):new n.a(e),t}static cloneBlueprintItem(e,t=!1,i=!1){let n=l.createInstance(e.id),r=e.toMdbBuilding();return t||(r.connections=void 0),i||(r.orientation=void 0),n.importMdbBuilding(r),n}}},gpF3:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("qyOZ"),r=i("lm9q"),s=i("eNc/");class o{constructor(e){this.imageId="",this.uvMin=new n.a,this.uvSize=new n.a,this.realSize=new n.a,this.pivot=new n.a,this.isIcon=!1,this.isInputOutput=!1,this.spriteInfoId=e,this.cleanUp()}cleanUp(){}static get keys(){return Array.from(o.spriteInfosMap.keys())}static get spriteInfos(){return Array.from(o.spriteInfosMap.values())}static init(){o.spriteInfosMap=new Map}static load(e){for(let t of e){let e=new o(t.name);e.copyFrom(t);let i=r.a.createUrl(e.imageId,!1);s.a.AddImagePixi(e.imageId,i),o.addSpriteInfo(e)}}static addSpriteInfoArray(e){for(let t of e){let e=new o(t.name);e.copyFrom(t),o.addSpriteInfo(e)}}static addSpriteInfo(e){o.spriteInfosMap.set(e.spriteInfoId,e)}copyFrom(e){let t=r.a.createUrl(e.textureName,!1);s.a.AddImagePixi(e.textureName,t),this.imageId=e.textureName;let i=n.a.clone(e.uvMin);null==i&&(i=new n.a),this.uvMin=i;let o=n.a.clone(e.uvSize);null==o&&(o=new n.a),this.uvSize=o;let a=n.a.clone(e.realSize);null==a&&(a=new n.a),this.realSize=a;let l=n.a.clone(e.pivot);null==l&&(l=new n.a),this.pivot=l,this.isIcon=e.isIcon,this.isInputOutput=e.isInputOutput}static getSpriteInfo(e){let t=o.spriteInfosMap.get(e);if(null!=t)return t;throw new Error("SpriteInfo.getSpriteInfo : Not found")}getTexture(e){if(null==this.texture){let t=s.a.getBaseTexture(this.imageId,e);if(null==t)return null;let i=e.getNewRectangle(this.uvMin.x,this.uvMin.y,this.uvSize.x,this.uvSize.y);this.texture=e.getNewTexture(t,i)}return this.texture}getTextureWithBleed(e,t=new n.a,i){let r=s.a.getBaseTexture(this.imageId,i);if(null==r)return null;let o=i.getNewRectangle(this.uvMin.x-e,this.uvMin.y-e,this.uvSize.x+2*e,this.uvSize.y+2*e);return o.x<0&&(o.x=0),o.y<0&&(o.y=0),o.x+o.width>r.width&&(o.width=r.width-o.x),o.y+o.height>r.height&&(o.height=r.height-o.y),t.x=this.uvMin.x-o.x,t.y=this.uvMin.y-o.y,i.getNewTexture(r,o)}}},hyoZ:function(e,t,i){"use strict";var n=i("w+qe"),r=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],s=["scalar","sequence","mapping"];e.exports=function(e,t){var i,o;if(t=t||{},Object.keys(t).forEach((function(t){if(-1===r.indexOf(t))throw new n('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=(o={},null!==(i=t.styleAliases||null)&&Object.keys(i).forEach((function(e){i[e].forEach((function(t){o[String(t)]=e}))})),o),-1===s.indexOf(this.kind))throw new n('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}},ilDO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{}t.EndOfStreamError=n},inic:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("qyOZ");class r{constructor(){this.name="",this.textureName="",this.isIcon=!1,this.isInputOutput=!1,this.uvMin=new n.a,this.uvSize=new n.a,this.realSize=new n.a,this.pivot=new n.a}static clone(e){let t=new r;return t.name=e.name,t.textureName=e.textureName,t.isIcon=e.isIcon,t.isInputOutput=e.isInputOutput,t.uvMin=n.a.cloneNullToZero(e.uvMin),t.uvSize=n.a.cloneNullToZero(e.uvSize),t.realSize=n.a.cloneNullToZero(e.realSize),t.pivot=n.a.cloneNullToZero(e.pivot),t}}},jO2K:function(e,t,i){"use strict";var n;try{n=i("tjlA").Buffer}catch(o){}var r=i("hyoZ"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";e.exports=new r("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,i,n=0,r=e.length,o=s;for(i=0;i<r;i++)if(!((t=o.indexOf(e.charAt(i)))>64)){if(t<0)return!1;n+=6}return n%8==0},construct:function(e){var t,i,r=e.replace(/[\r\n=]/g,""),o=r.length,a=s,l=0,u=[];for(t=0;t<o;t++)t%4==0&&t&&(u.push(l>>16&255),u.push(l>>8&255),u.push(255&l)),l=l<<6|a.indexOf(r.charAt(t));return 0==(i=o%4*6)?(u.push(l>>16&255),u.push(l>>8&255),u.push(255&l)):18===i?(u.push(l>>10&255),u.push(l>>2&255)):12===i&&u.push(l>>4&255),n?n.from?n.from(u):new n(u):u},predicate:function(e){return n&&n.isBuffer(e)},represent:function(e){var t,i,n="",r=0,o=e.length,a=s;for(t=0;t<o;t++)t%3==0&&t&&(n+=a[r>>18&63],n+=a[r>>12&63],n+=a[r>>6&63],n+=a[63&r]),r=(r<<8)+e[t];return 0==(i=o%3)?(n+=a[r>>18&63],n+=a[r>>12&63],n+=a[r>>6&63],n+=a[63&r]):2===i?(n+=a[r>>10&63],n+=a[r>>4&63],n+=a[r<<2&63],n+=a[64]):1===i&&(n+=a[r>>2&63],n+=a[r<<4&63],n+=a[64],n+=a[64]),n}})},"kVK+":function(e,t){t.read=function(e,t,i,n,r){var s,o,a=8*r-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=i?r-1:0,d=i?-1:1,p=e[t+h];for(h+=d,s=p&(1<<-c)-1,p>>=-c,c+=a;c>0;s=256*s+e[t+h],h+=d,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=256*o+e[t+h],h+=d,c-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),s-=u}return(p?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,i,n,r,s){var o,a,l,u=8*s-r-1,c=(1<<u)-1,h=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(t*l-1)*Math.pow(2,r),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,r),o=0));r>=8;e[i+p]=255&a,p+=f,a/=256,r-=8);for(o=o<<r|a,u+=r;u>0;e[i+p]=255&o,p+=f,o/=256,u-=8);e[i+p-f]|=128*m}},"kYB/":function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var n=i("Oc1+"),r=i("qyOZ"),s=i("Qn6k"),o=i("DgnE"),a=i("C2gO"),l=i("nG2m"),u=i("4GnO"),c=i("2ont"),h=i("M6zj"),d=i("XPU9"),p=i("zdsv"),f=i("Xtc4"),m=i("GVyg");let g=(()=>{class e{constructor(e){this.name="",this.imageId="",this.iconUrl="",this.spriteModifierId="",this.isWire=!1,this.isTile=!1,this.isBridge=!1,this.isElement=!1,this.size=new r.a,this.tileOffset=new r.a,this.utilityConnections=[],this.backColor=0,this.frontColor=16777215,this.orientations=[],this.dragBuild=!1,this.objectLayer=0,this.buildableElementsArray=[],this.defaultElement=[],this.materialMass=[0],this.uiScreens=[],this.spriteGroup=new l.a,this.tileableLeftRight=!1,this.tileableTopBottom=!1,this.permittedRotations_=u.a.Unrotatable,this.buildLocationRule=m.a.Anywhere,this.zIndex=c.a.Building,this.overlay=h.a.Base,this.id=e,this.cleanUp()}get permittedRotations(){return this.permittedRotations_}set permittedRotations(e){this.permittedRotations_=e,e==u.a.Unrotatable?this.orientations=[n.a.Neutral]:e==u.a.FlipH?this.orientations=[n.a.Neutral,n.a.FlipH]:e==u.a.FlipV?this.orientations=[n.a.Neutral,n.a.FlipV]:e==u.a.R90?this.orientations=[n.a.Neutral,n.a.R90]:e==u.a.R360&&(this.orientations=[n.a.Neutral,n.a.R90,n.a.R180,n.a.R270])}copyFrom(e){this.id=e.prefabId,this.name=e.name,this.size=e.sizeInCells,this.isWire=e.isUtility,this.isBridge=e.isBridge,this.isTile=e.isTile,this.spriteModifierId=e.kanimPrefix,this.iconUrl=d.a.createUrl(e.kanimPrefix+"ui_0",!0),this.zIndex=e.sceneLayer,this.overlay=this.getRealOverlay(e.viewMode),this.backColor=e.backColor,this.frontColor=e.frontColor,this.dragBuild=e.dragBuild,this.objectLayer=e.objectLayer,this.permittedRotations=e.permittedRotations,this.tileableLeftRight=e.tileableLeftRight,this.tileableTopBottom=e.tileableTopBottom,this.buildLocationRule=e.buildLocationRule;let t=e.textureName;d.a.createUrl(t,!1),this.buildableElementsArray=o.a.getElementsFromTags(e.materialCategory),this.defaultElement=[];for(let i=0;i<this.buildableElementsArray.length;i++){let e=this.buildableElementsArray[i];this.defaultElement[i]=e.length>0?e[0]:o.a.getElement("Unobtanium")}this.materialMass=[];for(let i of e.materialMass)this.materialMass.push(i);this.uiScreens=[];for(let i of e.uiScreens)this.uiScreens.push(a.a.clone(i));if(this.spriteGroup=new l.a,this.spriteGroup.importFrom(e.sprites),this.imageId=t,this.utilityConnections=[],null!=e.utilities)for(let i of e.utilities)this.utilityConnections.push({type:i.type,offset:new r.a(i.offset.x,i.offset.y),isSecondary:i.isSecondary})}getRealOverlay(e){let t=e;switch(e){case h.a.Decor:case h.a.Light:case h.a.Oxygen:case h.a.Room:case h.a.Temperature:case h.a.Unknown:t=h.a.Base}return t}cleanUp(){null==this.isTile&&(this.isTile=!1),null==this.isWire&&(this.isWire=!1),null==this.isBridge&&(this.isBridge=!1),null==this.isElement&&(this.isElement=!1),null==this.size&&(this.size=new r.a),null==this.utilityConnections&&(this.utilityConnections=[]),null==this.zIndex&&(this.zIndex=c.a.Building),null==this.permittedRotations&&(this.permittedRotations=u.a.Unrotatable),null==this.backColor&&(this.backColor=0),null==this.frontColor&&(this.frontColor=16777215),null!=this.buildableElementsArray&&0!=this.buildableElementsArray.length||(this.buildableElementsArray=[[o.a.getElement("Vacuum")]]),null==this.materialMass&&(this.materialMass=[0]),null==this.uiScreens&&(this.uiScreens=[]),null==this.spriteGroup&&(this.spriteGroup=new l.a),null==this.tileableLeftRight&&(this.tileableLeftRight=!1),null==this.tileableTopBottom&&(this.tileableTopBottom=!1),null!=this.defaultElement&&0!=this.defaultElement.length||(this.defaultElement=[o.a.getElement("Vacuum")]),null==this.overlay&&(this.overlay=h.a.Base),null==this.buildLocationRule&&(this.buildLocationRule=m.a.Anywhere),this.tileOffset=r.a.Zero.equals(this.size)?r.a.Zero:new r.a(1-(this.size.x+this.size.x%2)/2,0)}static get oniItems(){return Array.from(e.oniItemsMap.values())}static init(){e.oniItemsMap=new Map}static load(t){for(let n of t){let t=new e(n.prefabId);t.copyFrom(n),t.cleanUp(),p.a.AddSpriteModifier(n),e.oniItemsMap.set(t.id,t)}let i=new e(e.elementId);i.name=e.elementId,i.isElement=!0,i.zIndex=17,i.spriteGroup=new l.a,i.spriteGroup.spriteModifiers.push(p.a.getSpriteModifer("gas_tile")),i.spriteGroup.spriteModifiers.push(p.a.getSpriteModifer("gas_tile_front")),i.spriteGroup.spriteModifiers.push(p.a.getSpriteModifer("liquid_tile_front")),i.spriteGroup.spriteModifiers.push(p.a.getSpriteModifer("vacuum_tile_front")),i.cleanUp(),e.oniItemsMap.set(i.id,i)}isOverlayPrimary(e){return e==s.a.getOverlayFromLayer(this.zIndex)}isOverlaySecondary(e){return e==this.overlay}getCategoryFromItem(){if(null!=f.b.buildMenuItems)for(let e of f.b.buildMenuItems)if(e.buildingId==this.id)return f.a.getCategory(e.category);throw new Error("OniItem.getCategoryFromItem : Building not found")}static getOniItem(t){let i=e.oniItemsMap.get(t);if(null!=i)return i;throw new Error("OniItem.getOniItem : OniItem id not found")}}return e.elementId="Element",e.defaultColor="#696969",e})()},kaCr:function(e,t,i){"use strict";i("M6zj"),i("4GnO"),i("qyOZ"),i("2ont"),i("GVyg")},lm9q:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("M6zj"),r=i("qyOZ"),s=i("inic"),o=i("Rntz");let a=(()=>{class e{static createUrl(e,t){return"assets/images/"+(t?"ui/":"")+e+".png"}static getOverlayUrl(t){switch(t){case n.a.Base:return e.createUrl("icon_category_base",!0);case n.a.Power:return e.createUrl("icon_category_electrical",!0);case n.a.Liquid:return e.createUrl("icon_category_plumbing",!0);case n.a.Gas:return e.createUrl("icon_category_ventilation",!0);case n.a.Automation:return e.createUrl("icon_category_automation",!0);case n.a.Conveyor:return e.createUrl("icon_category_shipping",!0);default:return e.createUrl("icon_category_base",!0)}}static rotateVector2(e,t,i){if(0==i)return e;let n=-i*Math.PI/180,s=new r.a(e.x-t.x,e.y-t.y),o=new r.a(Math.cos(n)*s.x-Math.sin(n)*s.y,Math.sin(n)*s.x+Math.cos(n)*s.y);return o.x+=t.x,o.y+=t.y,o}static scaleVector2(e,t,i){if(r.a.One.equals(i))return e;let n=new r.a(e.x,e.y);return-1==i.x&&(n.x=2*t.x-e.x),-1==i.y&&(n.y=2*t.y-e.y),n}static getRandomColor(){return"rgba("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+",1)"}static hexToRgb(e){return e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,t,i,n)=>"#"+t+t+i+i+n+n).substring(1).match(/.{2}/g).map(e=>parseInt(e,16))}static colorToHex(e){let t=(65280&e)>>8,i=255&e;return"#"+this.toHex((16711680&e)>>16)+this.toHex(t)+this.toHex(i)}static toHex(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t}static blendColor(e,t,i){i>1?i=1:i<0&&(i=0);let n=1-i,r=(65280&e)>>8,s=255&e,o=(65280&t)>>8,a=255&t;return Math.round(((16711680&e)>>16)*n+((16711680&t)>>16)*i)<<16|Math.round(r*n+o*i)<<8|Math.round(s*n+a*i)}static getConnectionArray(t){let i=[!1,!1,!1,!1];for(let n=0;n<4;n++)i[n]=(t&e.connectionBits[n])==e.connectionBits[n];return i}static getConnection(t){let i=0;for(let n=0;n<4;n++)t[n]&&(i+=e.connectionBits[n]);return i}static getIntegerTile(e){return new r.a(Math.floor(e.x),Math.ceil(e.y))}static getFloorTile(e){return new r.a(Math.floor(e.x),Math.floor(e.y))}static generateTileSpriteInfo(e,t){let i=[],n=0,o=0,a=0,l=!1,u=!1,c=!1,h=!1,d=new r.a(40,40),p=new r.a(128,128);for(let f=0;f<=15;f++){let f=new s.a;i.push(f),f.name=e,f.textureName=t;let m=new r.a(.5,.5),g=r.a.clone(d),y=r.a.clone(p);l||u||c||h||(f.name=f.name+"None"),l?f.name=f.name+"L":(g.x-=30,y.x+=30,m.x+=30/316),u?f.name=f.name+"R":(y.x+=30,m.x-=30/316),c?f.name=f.name+"U":(g.y-=30,y.y+=30,m.y-=30/316),h?f.name=f.name+"D":(y.y+=30,m.y+=30/316),f.name=f.name+"_place",f.uvMin=r.a.clone(g),f.uvSize=r.a.clone(y),f.realSize=new r.a(y.x/1.28,y.y/1.28),f.pivot=r.a.clone(m),l=!l,n=(n+1)%8,0==n&&(u=!u),o=(o+1)%2,0==o&&(c=!c),a=(a+1)%4,0==a&&(h=!h),d.y+=208,872==d.y&&(d.y=40,d.x+=208)}return i}static getTileIndex(e){return e.x+500+1001*(e.y+500)}static getTilePosition(e){let t=new r.a(0,0);return t.x=e%1001,t.y=(e-=t.x)/1001,t.x-=500,t.y-=500,t}static temperatureToColor(t){for(let i=1;i<e.temperatureThresholds.length;i++)if(t<=e.temperatureThresholds[i].temperature){let n=e.temperatureThresholds[i-1].temperature;return e.blendColor(e.temperatureThresholds[i-1].color,e.temperatureThresholds[i].color,(t-n)/(e.temperatureThresholds[i].temperature-n))}return 0}static temperatureToScale(t){for(let i=0;i<e.scaleSteps.length;i++){let n=e.scaleSteps[i];if(t<n.ymax||i==e.scaleSteps.length-1)return n.xmin+(t-n.ymin)/(n.ymax-n.ymin)*(n.xmax-n.xmin)}return 0}static scaleToTemperature(t){for(let i=0;i<e.scaleSteps.length;i++){let n=e.scaleSteps[i];if(t<n.xmax||i==e.scaleSteps.length-1)return n.ymin+(t-n.xmin)/(n.xmax-n.xmin)*(n.ymax-n.ymin)}return 0}}return e.whiteColor=16777215,e.connectionBits=[1,2,4,8],e.connectionBitsOpposite=[1,0,3,2],e.connectionVectors=[r.a.Left,r.a.Right,r.a.Up,r.a.Down],e.scaleSteps=[{xmin:0,xmax:15,ymin:0,ymax:273.15},{xmin:15,xmax:60,ymin:273.15,ymax:318.15},{xmin:60,xmax:80,ymin:318.15,ymax:373.15},{xmin:80,xmax:90,ymin:373.15,ymax:493.15},{xmin:90,xmax:100,ymin:493.15,ymax:10272.15}],e.temperatureThresholds=[{temperature:0,color:8453872,label:"Absolute Zero"},{temperature:273.15,color:2870271,label:"Cold"},{temperature:283,color:2073087,label:"Chilled"},{temperature:293,color:3931722,label:"Temperate"},{temperature:303,color:15728384,label:"Warm"},{temperature:310,color:16754980,label:"Hot"},{temperature:373,color:16470864,label:"Scorching"},{temperature:2073,color:16450048,label:"Molten"},{temperature:10272.15,color:16450048,label:"Molten"}],e.connectionString=["None_place","L_place","R_place","LR_place","U_place","LU_place","RU_place","LRU_place","D_place","LD_place","RD_place","LRD_place","UD_place","LUD_place","RUD_place","LRUD_place"],e.connectionTag=[o.a.noConnection,o.a.L,o.a.R,o.a.LR,o.a.U,o.a.LU,o.a.RU,o.a.LRU,o.a.D,o.a.LD,o.a.RD,o.a.LRD,o.a.UD,o.a.LUD,o.a.RUD,o.a.LRUD],e.connectionStringSolid=["None","L","R","LR","U","LU","RU","LRU","D","LD","RD","LRD","UD","LUD","RUD","LRUD"],e.overlayString=["Buildings","Power","Plumbing","Ventilation","Automation","Oxygen","Shipment","Decor","Light","Temperature","Room","Unknown"],e})()},m587:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("gpF3"),r=i("qyOZ"),s=i("OVEG"),o=i("Rntz");class a{constructor(){this.alpha_=0,this.tint_=0,this.zIndex_=0,this.visible_=!1,this.isReady=!1,this.alpha=1,this.tint=16777215}get alpha(){return this.alpha_}set alpha(e){null!=this.sprite&&(this.sprite.alpha=e),this.alpha_=e}get tint(){return this.tint_}set tint(e){null!=this.sprite&&(this.sprite.tint=e),this.tint_=e}get zIndex(){return this.zIndex_}set zIndex(e){null!=this.sprite&&(this.sprite.zIndex=e),this.zIndex_=e}get visible(){return this.visible_}set visible(e){null!=this.sprite&&(this.sprite.visible=e),this.visible_=e}prepareSprite(e,t,i){if(!this.isReady){let s;if(null!=this.spriteModifier&&(this.spriteInfo=n.a.getSpriteInfo(this.spriteModifier.spriteInfoName)),null!=this.spriteInfo&&(s=this.spriteInfo.getTexture(i)),null!=s){this.sprite=i.getSpriteFrom(s),this.sprite.anchor.set(this.spriteInfo.pivot.x,1-this.spriteInfo.pivot.y),this.sprite.alpha=this.alpha,this.sprite.tint=this.tint,this.sprite.zIndex=this.zIndex,this.sprite.visible=this.visible;let n=new r.a(t.size.x%2==0?50:0,-50);this.sprite.x=0+(this.spriteModifier.translation.x+n.x),this.sprite.y=0-(this.spriteModifier.translation.y+n.y),this.sprite.scale.x=1,this.sprite.scale.y=1,this.sprite.width=this.spriteInfo.realSize.x,this.sprite.height=this.spriteInfo.realSize.y,this.sprite.scale.x*=this.spriteModifier.scale.x,this.sprite.scale.y*=this.spriteModifier.scale.y,this.sprite.angle=-this.spriteModifier.rotation,e.addChild(this.sprite),this.isReady=!0}}}hasTag(e){return this.spriteModifier.hasTag(e)}prepareVisibilityBasedOnDisplay(e){this.visible=null!=this.spriteModifier&&!!this.hasTag(e==s.a.blueprint?o.a.place:o.a.solid)}makeEverythingButThisTagInvisible(e){this.visible=null!=this.spriteModifier&&!!this.hasTag(e)&&this.visible&&!0}makeInvisibileIfHasTag(e){this.hasTag(e)&&(this.visible=!1)}makeVisibileIfHasTag(e){this.hasTag(e)&&(this.visible=!0)}addToContainer(e){null!=this.spriteModifier&&(this.spriteInfo=n.a.getSpriteInfo(this.spriteModifier.spriteInfoName))}}},mviE:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("qyOZ"),r=i("OVEG"),s=i("0AM7");class o{constructor(e){this.overlay_=-1,this.display_=-1,this.visualization_=-1,this.lastZoomCenter=new n.a,this.zoomLevels=[16,18,20,23,27,32,38,45,54,64,76,90,108,128],null==o.cameraService_&&(o.cameraService_=this),this.container=e,this.cameraOffset=new n.a,this.targetCameraOffset=new n.a,this.currentZoomIndex=7,this.targetZoom=this.currentZoom=this.zoomLevels[this.currentZoomIndex],this.sinWaveTime=0,this.sinWave=0,this.spinner=0,this.triggerSortChildren=!0,this.observersCameraChange=[],this.observersToAnimationChange=[],this.overlay=-1,this.display=-1,this.visualization=-1}get overlay(){return this.overlay_}set overlay(e){let t=this.overlay_!=e;this.overlay_=e,t&&(this.triggerSortChildren=!0,this.observersCameraChange.map(e=>{e.cameraChanged(this)}))}get display(){return this.display_}set display(e){let t=this.display_!=e;this.display_=e,t&&(this.triggerSortChildren=!0,this.observersCameraChange.map(e=>{e.cameraChanged(this)})),e==r.a.blueprint&&(this.visualization=s.a.none)}get visualization(){return this.visualization_}set visualization(e){let t=this.visualization_!=e;this.visualization_=e,t&&(this.triggerSortChildren=!0,this.observersCameraChange.map(e=>{e.cameraChanged(this)})),e!=s.a.none&&(this.display=r.a.solid)}get showElementReport(){return this.visualization==s.a.elements}get showTemperatureScale(){return this.visualization==s.a.temperature}addToContainer(e){this.container.addChild(e),this.triggerSortChildren=!0}static get cameraService(){return o.cameraService_}subscribeCameraChange(e){this.observersCameraChange.push(e)}subscribeAnimationChange(e){this.observersToAnimationChange.push(e)}setOverlayForItem(e){this.overlay=e.overlay}updateZoom(){this.currentZoom!=this.targetZoom&&(Math.abs(this.currentZoom-this.targetZoom)<.1?this.changeZoom(this.targetZoom-this.currentZoom,this.lastZoomCenter):this.changeZoom((this.targetZoom-this.currentZoom)/10,this.lastZoomCenter))}resetSinWave(){this.sinWaveTime=45}updateAnimations(e){this.updateSinWave(e),this.updateSpinner(e),this.observersToAnimationChange.map(e=>{e.animationChanged()})}updateSinWave(e){this.sinWaveTime+=e/3,this.sinWaveTime>360&&(this.sinWaveTime-=360),this.sinWave=Math.sin(this.sinWaveTime*Math.PI/180)/2+.5}updateSpinner(e){this.spinner+=e/6,this.spinner>360&&(this.spinner-=360)}resetZoom(e){this.currentZoomIndex=7,this.targetZoom=this.currentZoom=this.zoomLevels[this.currentZoomIndex],this.cameraOffset.x=.5*e.x/this.currentZoom,this.cameraOffset.y=.5*e.y/this.currentZoom}zoom(e,t){this.lastZoomCenter=t,this.currentZoomIndex+=e,this.currentZoomIndex<0&&(this.currentZoomIndex=0),this.currentZoomIndex>=this.zoomLevels.length&&(this.currentZoomIndex=this.zoomLevels.length-1),this.targetZoom=this.zoomLevels[this.currentZoomIndex]}setHardZoom(e){this.targetZoom=this.currentZoom=e}changeZoom(e,t){let i=this.getTileCoordsForZoom(t);this.currentZoom+=e;let n=this.getTileCoordsForZoom(t);this.cameraOffset.x+=n.x-i.x,this.cameraOffset.y+=n.y-i.y,this.targetCameraOffset.x+=n.x-i.x,this.targetCameraOffset.y+=n.y-i.y}getTileCoordsForZoom(e){let t=new n.a;return t.x=e.x/this.currentZoom-this.cameraOffset.x,t.y=e.y/this.currentZoom-this.cameraOffset.y,t}getTileCoords(e){return new n.a(e.x/this.currentZoom-this.cameraOffset.x,-e.y/this.currentZoom+this.cameraOffset.y)}}},nG2m:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("zdsv");class r{constructor(){this.groupName="",this.spriteModifiers=[]}importFrom(e){this.groupName=e.groupName;for(let t of e.spriteNames){let e=n.a.getSpriteModifer(t);null!=e&&this.spriteModifiers.push(e)}}}},npUC:function(e,t){},peYA:function(e,t,i){"use strict";var n=i("hyoZ");e.exports=new n("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},pzZA:function(e,t,i){"use strict";var n=i("hyoZ"),r=Object.prototype.hasOwnProperty;e.exports=new n("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,i=e;for(t in i)if(r.call(i,t)&&null!==i[t])return!1;return!0},construct:function(e){return null!==e?e:{}}})},qyOZ:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));let n=(()=>{class e{constructor(e=0,t=0){this.x=e,this.y=t}equals(e){return null!=e&&this.x==e.x&&this.y==e.y}static compare(e,t){return null==e&&null==t||null!=e&&null!=t&&e.x==t.x&&e.y==t.y}copyFrom(e){null!=e&&null!=e.x&&(this.x=e.x),null!=e&&null!=e.y&&(this.y=e.y)}clone(){let t=new e;return t.copyFrom(this),t}get length(){return Math.sqrt(this.lengthSquared)}get lengthSquared(){return this.x*this.x+this.y*this.y}static clone(t){if(null==t)return null;let i=new e;return i.copyFrom(t),i}static cloneNullToZero(t){if(null==t||null==t)return e.zero();let i=new e;return i.copyFrom(t),i}static zero(){return new e(0,0)}static one(){return new e(1,1)}}return e.Zero=new e,e.One=new e(1,1),e.Left=new e(-1,0),e.Right=new e(1,0),e.Up=new e(0,1),e.Down=new e(0,-1),e})()},rv2l:function(e,t,i){"use strict";function n(e){return e>=55296&&e<=56319}function r(e){return e>=56320&&e<=57343}e.exports=function(e,t,i){if("string"!=typeof t)throw new Error("Input must be string");for(var s,o,a=t.length,l=0,u=0;u<a;u+=1){if(s=t.charCodeAt(u),o=t[u],n(s)&&r(t.charCodeAt(u+1))&&(o+=t[u+=1]),(l+=e(o))===i)return t.slice(0,u+1);if(l>i)return t.slice(0,u-o.length+1)}return t}},sGTC:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("dUeR"),r=i("M6zj"),s=i("Rntz"),o=i("OVEG"),a=i("0AM7"),l=i("lm9q");let u=(()=>{class e extends n.a{constructor(e){super(e),this.mass=0}get header(){return this.buildableElements[0].name}prepareSpriteVisibility(e){}updateTileables(e){}drawTemplateItem(e,t){}importMdbBuilding(e){this.mass=null==e.mass?0:e.mass,super.importMdbBuilding(e)}toMdbBuilding(){let t=super.toMdbBuilding();return this.mass!=e.defaultMass&&(t.mass=this.mass),t}cleanUp(){null==this.mass&&(this.mass=e.defaultMass),super.cleanUp()}cameraChanged(e){this.isOpaque=e.overlay==r.a.Gas||e.overlay==r.a.Base,this.depth=e.overlay==r.a.Gas?67:17,this.alpha=1;for(let t of this.drawParts)t.visible=!1,!this.buildableElements[0].hasTag("Gas")||e.display!=o.a.solid||e.overlay!=r.a.Base&&e.overlay!=r.a.Gas?!this.buildableElements[0].hasTag("Liquid")||e.display!=o.a.solid||e.overlay!=r.a.Base&&e.overlay!=r.a.Liquid?!this.buildableElements[0].hasTag("Vacuum")||e.display!=o.a.solid||e.overlay!=r.a.Base&&e.overlay!=r.a.Gas||t.hasTag(s.a.element_vacuum_front)&&(t.visible=!0,t.zIndex=1,t.alpha=.8,t.tint=16777215):t.hasTag(s.a.element_gas_back)?(t.visible=!0,t.zIndex=0,t.alpha=.5,this.visualizationTint=e.visualization==a.a.temperature?l.a.temperatureToColor(this.temperature):this.buildableElements[0].uiColor,t.tint=this.visualizationTint):t.hasTag(s.a.element_liquid_front)&&(t.visible=!0,t.zIndex=1,t.alpha=.8,t.tint=16777215):t.hasTag(s.a.element_gas_back)?(t.visible=!0,t.zIndex=0,t.alpha=.5,this.visualizationTint=e.visualization==a.a.temperature?l.a.temperatureToColor(this.temperature):this.buildableElements[0].uiColor,t.tint=this.visualizationTint):t.hasTag(s.a.element_gas_front)&&(t.visible=!0,t.zIndex=1,t.alpha=.8,t.tint=16777215)}modulateSelectedTint(e){if(e.display==o.a.solid)for(let t of this.drawParts)t.hasTag(s.a.element_gas_back)&&t.visible&&-1!=this.visualizationTint&&(t.tint=l.a.blendColor(this.visualizationTint,5046016,e.sinWave))}}return e.defaultMass=0,e})()},spQ0:function(e,t,i){"use strict";var n=i("hyoZ");e.exports=new n("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}})},tN50:function(e,t,i){"use strict";var n=i("Y2Yi");function r(e,t,i,n,r){this.name=e,this.buffer=t,this.position=i,this.line=n,this.column=r}r.prototype.getSnippet=function(e,t){var i,r,s,o,a;if(!this.buffer)return null;for(e=e||4,t=t||75,i="",r=this.position;r>0&&-1==="\0\r\n\x85\u2028\u2029".indexOf(this.buffer.charAt(r-1));)if(this.position-(r-=1)>t/2-1){i=" ... ",r+=5;break}for(s="",o=this.position;o<this.buffer.length&&-1==="\0\r\n\x85\u2028\u2029".indexOf(this.buffer.charAt(o));)if((o+=1)-this.position>t/2-1){s=" ... ",o-=5;break}return a=this.buffer.slice(r,o),n.repeat(" ",e)+i+a+s+"\n"+n.repeat(" ",e+this.position-r+i.length)+"^"},r.prototype.toString=function(e){var t,i="";return this.name&&(i+='in "'+this.name+'" '),i+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet())&&(i+=":\n"+t),i},e.exports=r},tjlA:function(e,t,i){"use strict";var n=i("H7XF"),r=i("kVK+"),s=i("49sm");function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return u(this,e,t,i)}function u(e,t,i,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,i,n){if(i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t),e}(e,t,i,n):"string"==typeof t?function(e,t,i){if("string"==typeof i&&""!==i||(i="utf8"),!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,i),r=(e=a(e,n)).write(t,i);return r!==n&&(e=e.slice(0,r)),e}(e,t,i):function(e,t){if(l.isBuffer(t)){var i=0|p(t.length);return 0===(e=a(e,i)).length||t.copy(e,0,0,i),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):d(e,t);if("Buffer"===t.type&&s(t.data))return d(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(c(t),e=a(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function d(e,t){var i=t.length<0?0:0|p(t.length);e=a(e,i);for(var n=0;n<i;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return z(e).length;default:if(n)return U(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,i);case"utf8":case"utf-8":return D(this,t,i);case"ascii":return k(this,t,i);case"latin1":case"binary":return I(this,t,i);case"base64":return E(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function y(e,t,i,n,r){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:v(e,t,i,n,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):v(e,[t],i,n,r);throw new TypeError("val must be string, number or Buffer")}function v(e,t,i,n,r){var s,o=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,i/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var c=-1;for(s=i;s<a;s++)if(u(e,s)===u(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===l)return c*o}else-1!==c&&(s-=s-c),c=-1}else for(i+l>a&&(i=a-l),s=i;s>=0;s--){for(var h=!0,d=0;d<l;d++)if(u(e,s+d)!==u(t,d)){h=!1;break}if(h)return s}return-1}function b(e,t,i,n){i=Number(i)||0;var r=e.length-i;n?(n=Number(n))>r&&(n=r):n=r;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[i+o]=a}return o}function w(e,t,i,n){return V(U(t,e.length-i),e,i,n)}function x(e,t,i,n){return V(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function C(e,t,i,n){return x(e,t,i,n)}function _(e,t,i,n){return V(z(t),e,i,n)}function S(e,t,i,n){return V(function(e,t){for(var i,n,r=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(i=e.charCodeAt(s))>>8,r.push(i%256),r.push(n);return r}(t,e.length-i),e,i,n)}function E(e,t,i){return n.fromByteArray(0===t&&i===e.length?e:e.slice(t,i))}function D(e,t,i){i=Math.min(e.length,i);for(var n=[],r=t;r<i;){var s,o,a,l,u=e[r],c=null,h=u>239?4:u>223?3:u>191?2:1;if(r+h<=i)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(s=e[r+1]))&&(l=(31&u)<<6|63&s)>127&&(c=l);break;case 3:o=e[r+2],128==(192&(s=e[r+1]))&&128==(192&o)&&(l=(15&u)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[r+2],a=e[r+3],128==(192&(s=e[r+1]))&&128==(192&o)&&128==(192&a)&&(l=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(n.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),n.push(c),r+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var i="",n=0;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return i}(n)}function k(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(127&e[r]);return n}function I(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(e[r]);return n}function T(e,t,i){var n,r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);for(var s="",o=t;o<i;++o)s+=(n=e[o])<16?"0"+n.toString(16):n.toString(16);return s}function A(e,t,i){for(var n=e.slice(t,i),r="",s=0;s<n.length;s+=2)r+=String.fromCharCode(n[s]+256*n[s+1]);return r}function O(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,i,n,r,s){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<s)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function B(e,t,i,n){t<0&&(t=65535+t+1);for(var r=0,s=Math.min(e.length-i,2);r<s;++r)e[i+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function M(e,t,i,n){t<0&&(t=4294967295+t+1);for(var r=0,s=Math.min(e.length-i,4);r<s;++r)e[i+r]=t>>>8*(n?r:3-r)&255}function P(e,t,i,n,r,s){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function L(e,t,i,n,s){return s||P(e,0,i,4),r.write(e,t,i,n,23,4),i+4}function N(e,t,i,n,s){return s||P(e,0,i,8),r.write(e,t,i,n,52,8),i+8}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,i){return u(null,e,t,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,i){return function(e,t,i,n){return c(t),t<=0?a(null,t):void 0!==i?"string"==typeof n?a(null,t).fill(i,n):a(null,t).fill(i):a(null,t)}(0,e,t,i)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,r=0,s=Math.min(i,n);r<s;++r)if(e[r]!==t[r]){i=e[r],n=t[r];break}return i<n?-1:n<i?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=l.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var o=e[i];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?D(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,i,n,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||i>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=i)return 0;if(n>=r)return-1;if(t>=i)return 1;if(this===e)return 0;for(var s=(r>>>=0)-(n>>>=0),o=(i>>>=0)-(t>>>=0),a=Math.min(s,o),u=this.slice(n,r),c=e.slice(t,i),h=0;h<a;++h)if(u[h]!==c[h]){s=u[h],o=c[h];break}return s<o?-1:o<s?1:0},l.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return y(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return y(this,e,t,i,!1)},l.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-t;if((void 0===i||i>r)&&(i=r),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return b(this,e,t,i);case"utf8":case"utf-8":return w(this,e,t,i);case"ascii":return x(this,e,t,i);case"latin1":case"binary":return C(this,e,t,i);case"base64":return _(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},l.prototype.slice=function(e,t){var i,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;i=new l(r,void 0);for(var s=0;s<r;++s)i[s]=this[s+e]}return i},l.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||O(e,t,this.length);for(var n=this[e],r=1,s=0;++s<t&&(r*=256);)n+=this[e+s]*r;return n},l.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||O(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},l.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||O(e,t,this.length);for(var n=this[e],r=1,s=0;++s<t&&(r*=256);)n+=this[e+s]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||O(e,t,this.length);for(var n=t,r=1,s=this[e+--n];n>0&&(r*=256);)s+=this[e+--n]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*t)),s},l.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,i,n){e=+e,t|=0,i|=0,n||F(this,e,t,i,Math.pow(2,8*i)-1,0);var r=1,s=0;for(this[t]=255&e;++s<i&&(r*=256);)this[t+s]=e/r&255;return t+i},l.prototype.writeUIntBE=function(e,t,i,n){e=+e,t|=0,i|=0,n||F(this,e,t,i,Math.pow(2,8*i)-1,0);var r=i-1,s=1;for(this[t+r]=255&e;--r>=0&&(s*=256);)this[t+r]=e/s&255;return t+i},l.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*i-1);F(this,e,t,i,r-1,-r)}var s=0,o=1,a=0;for(this[t]=255&e;++s<i&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i},l.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*i-1);F(this,e,t,i,r-1,-r)}var s=i-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,i){return L(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return L(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return N(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return N(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r,s=n-i;if(this===e&&i<t&&t<n)for(r=s-1;r>=0;--r)e[r+t]=this[r+i];else if(s<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)e[r+t]=this[r+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+s),t);return s},l.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var s;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(s=t;s<i;++s)this[s]=e;else{var o=l.isBuffer(e)?e:U(new l(e,n).toString()),a=o.length;for(s=0;s<i-t;++s)this[s+t]=o[s%a]}return this};var R=/[^+\/0-9A-Za-z-_]/g;function U(e,t){var i;t=t||1/0;for(var n=e.length,r=null,s=[],o=0;o<n;++o){if((i=e.charCodeAt(o))>55295&&i<57344){if(!r){if(i>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&s.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(t-=3)>-1&&s.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;s.push(i)}else if(i<2048){if((t-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function z(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(R,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,i,n){for(var r=0;r<n&&!(r+i>=t.length||r>=e.length);++r)t[r+i]=e[r];return r}},tyaE:function(e,t,i){"use strict";function n(e){return e>=55296&&e<=56319}function r(e){return e>=56320&&e<=57343}e.exports=function(e){if("string"!=typeof e)throw new Error("Input must be string");for(var t=e.length,i=0,s=null,o=null,a=0;a<t;a++)r(s=e.charCodeAt(a))?null!=o&&n(o)?i+=1:i+=3:s<=127?i+=1:s>=128&&s<=2047?i+=2:s>=2048&&s<=65535&&(i+=3),o=s;return i}},ui0K:function(e,t){},vQl5:function(e,t,i){"use strict";var n=i("hyoZ");e.exports=new n("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},vi9k:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("qyOZ"),r=i("Oc1+");class s{constructor(){this.offset=new n.a,this.buildingdef="",this.orientation=r.a.Neutral,this.flags=0,this.selected_elements=[]}}},"w+qe":function(e,t,i){"use strict";function n(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(n.prototype=Object.create(Error.prototype)).constructor=n,n.prototype.toString=function(e){var t=this.name+": ";return t+=this.reason||"(unknown reason)",!e&&this.mark&&(t+=" "+this.mark.toString()),t},e.exports=n},wGfR:function(e,t){},xOOu:function(e,t,i){e.exports=function e(t,i,n){function r(o,a){if(!i[o]){if(!t[o]){if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[o]={exports:{}};t[o][0].call(u.exports,(function(e){return r(t[o][1][e]||e)}),u,u.exports,e,t,i,n)}return i[o].exports}for(var s=!1,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){"use strict";var n=e("./utils"),r=e("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(e){for(var t,i,r,o,a,l,u=[],c=0,h=e.length,d=h,p="string"!==n.getTypeOf(e);c<e.length;)d=h-c,r=p?(t=e[c++],i=c<h?e[c++]:0,c<h?e[c++]:0):(t=e.charCodeAt(c++),i=c<h?e.charCodeAt(c++):0,c<h?e.charCodeAt(c++):0),o=(3&t)<<4|i>>4,a=1<d?(15&i)<<2|r>>6:64,l=2<d?63&r:64,u.push(s.charAt(t>>2)+s.charAt(o)+s.charAt(a)+s.charAt(l));return u.join("")},i.decode=function(e){var t,i,n,o,a,l,u=0,c=0,h="data:";if(e.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var d,p=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===s.charAt(64)&&p--,e.charAt(e.length-2)===s.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=r.uint8array?new Uint8Array(0|p):new Array(0|p);u<e.length;)t=s.indexOf(e.charAt(u++))<<2|(o=s.indexOf(e.charAt(u++)))>>4,i=(15&o)<<4|(a=s.indexOf(e.charAt(u++)))>>2,n=(3&a)<<6|(l=s.indexOf(e.charAt(u++))),d[c++]=t,64!==a&&(d[c++]=i),64!==l&&(d[c++]=n);return d}},{"./support":30,"./utils":32}],2:[function(e,t,i){"use strict";var n=e("./external"),r=e("./stream/DataWorker"),s=e("./stream/DataLengthProbe"),o=e("./stream/Crc32Probe");function a(e,t,i,n,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=i,this.compression=n,this.compressedContent=r}s=e("./stream/DataLengthProbe"),a.prototype={getContentWorker:function(){var e=new r(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new r(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(e,t,i){return e.pipe(new o).pipe(new s("uncompressedSize")).pipe(t.compressWorker(i)).pipe(new s("compressedSize")).withStreamInfo("compression",t)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,i){"use strict";var n=e("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(e){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},i.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,i){"use strict";var n=e("./utils"),r=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,i,n){var s=r,o=0+i;e^=-1;for(var a=0;a<o;a++)e=e>>>8^s[255&(e^t[a])];return-1^e}(0|t,e,e.length):function(e,t,i,n){var s=r,o=0+i;e^=-1;for(var a=0;a<o;a++)e=e>>>8^s[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,i){"use strict";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(e,t,i){"use strict";var n;n="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),s=e("./utils"),o=e("./stream/GenericWorker"),a=n?"uint8array":"array";function l(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}i.magic="\b\0",s.inherits(l,o),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(a,e.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},i.compressWorker=function(e){return new l("Deflate",e)},i.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,i){"use strict";function n(e,t){var i,n="";for(i=0;i<t;i++)n+=String.fromCharCode(255&e),e>>>=8;return n}function r(e,t,i,r,o,c){var h,d,p=e.file,f=e.compression,m=c!==a.utf8encode,g=s.transformTo("string",c(p.name)),y=s.transformTo("string",a.utf8encode(p.name)),v=p.comment,b=s.transformTo("string",c(v)),w=s.transformTo("string",a.utf8encode(v)),x=y.length!==p.name.length,C=w.length!==v.length,_="",S="",E="",D=p.dir,k=p.date,I={crc32:0,compressedSize:0,uncompressedSize:0};t&&!i||(I.crc32=e.crc32,I.compressedSize=e.compressedSize,I.uncompressedSize=e.uncompressedSize);var T=0;t&&(T|=8),m||!x&&!C||(T|=2048);var A=0,O=0;D&&(A|=16),"UNIX"===o?(O=798,A|=function(e,t){var i=e;return e||(i=t?16893:33204),(65535&i)<<16}(p.unixPermissions,D)):(O=20,A|=function(e){return 63&(e||0)}(p.dosPermissions)),h=k.getUTCHours(),h<<=6,h|=k.getUTCMinutes(),h<<=5,h|=k.getUTCSeconds()/2,d=k.getUTCFullYear()-1980,d<<=4,d|=k.getUTCMonth()+1,d<<=5,d|=k.getUTCDate(),x&&(S=n(1,1)+n(l(g),4)+y,_+="up"+n(S.length,2)+S),C&&(E=n(1,1)+n(l(b),4)+w,_+="uc"+n(E.length,2)+E);var F="";return F+="\n\0",F+=n(T,2),F+=f.magic,F+=n(h,2),F+=n(d,2),F+=n(I.crc32,4),F+=n(I.compressedSize,4),F+=n(I.uncompressedSize,4),F+=n(g.length,2),F+=n(_.length,2),{fileRecord:u.LOCAL_FILE_HEADER+F+g+_,dirRecord:u.CENTRAL_FILE_HEADER+n(O,2)+F+n(b.length,2)+"\0\0\0\0"+n(A,4)+n(r,4)+g+_+b}}var s=e("../utils"),o=e("../stream/GenericWorker"),a=e("../utf8"),l=e("../crc32"),u=e("../signature");function c(e,t,i,n){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=i,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(c,o),c.prototype.push=function(e){var t=e.meta.percent||0,i=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:i?(t+100*(i-n-1))/i:100}}))},c.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var i=r(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,i=r(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),t)this.push({data:function(e){return u.DATA_DESCRIPTOR+n(e.crc32,4)+n(e.compressedSize,4)+n(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var i=function(e,t,i,r,o){var a=s.transformTo("string",o(r));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(e,2)+n(e,2)+n(t,4)+n(i,4)+n(a.length,2)+a}(this.dirRecords.length,this.bytesWritten-e,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var i=0;i<t.length;i++)try{t[i].error(e)}catch(e){}return!0},c.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,i){"use strict";var n=e("../compressions"),r=e("./ZipFileWorker");i.generateWorker=function(e,t,i){var s=new r(t.streamFiles,i,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,i){o++;var r=function(e,t){var i=e||t,r=n[i];if(!r)throw new Error(i+" is not a valid compression method !");return r}(i.options.compression,t.compression),a=i.dir,l=i.date;i._compressWorker(r,i.options.compressionOptions||t.compressionOptions||{}).withStreamInfo("file",{name:e,dir:a,date:l,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(s)})),s.entriesCount=o}catch(e){s.error(e)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,i){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.5.0",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,i){"use strict";var n=e("./utils"),r=e("./external"),s=e("./utf8"),o=(n=e("./utils"),e("./zipEntries")),a=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function u(e){return new r.Promise((function(t,i){var n=e.decompressed.getContentWorker().pipe(new a);n.on("error",(function(e){i(e)})).on("end",(function(){n.streamInfo.crc32!==e.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var i=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),l.isNode&&l.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var i=new o(t);return i.load(e),i})).then((function(e){var i=[r.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var s=0;s<n.length;s++)i.push(u(n[s]));return r.Promise.all(i)})).then((function(e){for(var n=e.shift(),r=n.files,s=0;s<r.length;s++){var o=r[s];i.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders})}return n.zipComment.length&&(i.comment=n.zipComment),i}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,i){"use strict";var n=e("../utils"),r=e("../stream/GenericWorker");function s(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(s,r),s.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},s.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,i){"use strict";var n=e("readable-stream").Readable;function r(e,t,i){n.call(this,t),this._helper=e;var r=this;e.on("data",(function(e,t){r.push(e)||r._helper.pause(),i&&i(t)})).on("error",(function(e){r.emit("error",e)})).on("end",(function(){r.push(null)}))}e("../utils").inherits(r,n),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,t,i){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,i){"use strict";function n(e,t,i){var n,r,a=s.getTypeOf(t),h=s.extend(i||{},l);h.date=h.date||new Date,null!==h.compression&&(h.compression=h.compression.toUpperCase()),"string"==typeof h.unixPermissions&&(h.unixPermissions=parseInt(h.unixPermissions,8)),h.unixPermissions&&16384&h.unixPermissions&&(h.dir=!0),h.dosPermissions&&16&h.dosPermissions&&(h.dir=!0),h.dir&&(e=m(e)),h.createFolders&&(n=f(e))&&g.call(this,n,!0),i&&void 0!==i.binary||(h.binary=!("string"===a&&!1===h.binary&&!1===h.base64)),(t instanceof u&&0===t.uncompressedSize||h.dir||!t||0===t.length)&&(h.base64=!1,h.binary=!0,t="",h.compression="STORE",a="string"),r=t instanceof u||t instanceof o?t:d.isNode&&d.isStream(t)?new p(e,t):s.prepareContent(e,t,h.binary,h.optimizedBinaryString,h.base64);var y=new c(e,r,h);this.files[e]=y}var r=e("./utf8"),s=e("./utils"),o=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),l=e("./defaults"),u=e("./compressedObject"),c=e("./zipObject"),h=e("./generate"),d=e("./nodejsUtils"),p=e("./nodejs/NodejsStreamInputAdapter"),f=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:l.createFolders,e=m(e),this.files[e]||n.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function y(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,i,n;for(t in this.files)this.files.hasOwnProperty(t)&&(n=this.files[t],(i=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(i,n))},filter:function(e){var t=[];return this.forEach((function(i,n){e(i,n)&&t.push(n)})),t},file:function(e,t,i){if(1!==arguments.length)return n.call(this,e=this.root+e,t,i),this;if(y(e)){var r=e;return this.filter((function(e,t){return!t.dir&&r.test(e)}))}var s=this.files[this.root+e];return s&&!s.dir?s:null},folder:function(e){if(!e)return this;if(y(e))return this.filter((function(t,i){return i.dir&&e.test(t)}));var t=g.call(this,this.root+e),i=this.clone();return i.root=t.name,i},remove:function(e){var t=this.files[e=this.root+e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var i=this.filter((function(t,i){return i.name.slice(0,e.length)===e})),n=0;n<i.length;n++)delete this.files[i[n].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,i={};try{if((i=s.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");s.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS"),t=h.generateWorker(this,i,i.comment||this.comment||"")}catch(e){(t=new o("error")).error(e)}return new a(t,i.type||"string",i.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,i){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,i){"use strict";var n=e("./DataReader");function r(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(r,n),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),i=e.charCodeAt(1),n=e.charCodeAt(2),r=e.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===t&&this.data[s+1]===i&&this.data[s+2]===n&&this.data[s+3]===r)return s-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1),n=e.charCodeAt(2),r=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&i===s[1]&&n===s[2]&&r===s[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,t,i){"use strict";var n=e("../utils");function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,i=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)i=(i<<8)+this.byteAt(t);return this.index+=e,i},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=r},{"../utils":32}],19:[function(e,t,i){"use strict";var n=e("./Uint8ArrayReader");function r(e){n.call(this,e)}e("../utils").inherits(r,n),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,i){"use strict";var n=e("./DataReader");function r(e){n.call(this,e)}e("../utils").inherits(r,n),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,t,i){"use strict";var n=e("./ArrayReader");function r(e){n.call(this,e)}e("../utils").inherits(r,n),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,i){"use strict";var n=e("../utils"),r=e("../support"),s=e("./ArrayReader"),o=e("./StringReader"),a=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new a(e):r.uint8array?new l(n.transformTo("uint8array",e)):new s(n.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,i){"use strict";i.LOCAL_FILE_HEADER="PK\x03\x04",i.CENTRAL_FILE_HEADER="PK\x01\x02",i.CENTRAL_DIRECTORY_END="PK\x05\x06",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,i){"use strict";var n=e("./GenericWorker"),r=e("../utils");function s(e){n.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(s,n),s.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,i){"use strict";var n=e("./GenericWorker"),r=e("../crc32");function s(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(s,n),s.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,i){"use strict";var n=e("../utils"),r=e("./GenericWorker");function s(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(s,r),s.prototype.processChunk=function(e){e&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+e.data.length),r.prototype.processChunk.call(this,e)},t.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,i){"use strict";var n=e("../utils"),r=e("./GenericWorker");function s(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}n.inherits(s,r),s.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,i){"use strict";function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var i=0;i<this._listeners[e].length;i++)this._listeners[e][i].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],29:[function(e,t,i){"use strict";var n=e("../utils"),r=e("./ConvertWorker"),s=e("./GenericWorker"),o=e("../base64"),a=e("../support"),l=e("../external"),u=null;if(a.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function c(e,t,i){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=i,n.checkSupport(o),this._worker=e.pipe(new r(o)),e.lock()}catch(e){this._worker=new s("error"),this._worker.error(e)}}c.prototype={accumulate:function(e){return function(e,t){return new l.Promise((function(i,r){var s=[],a=e._internalType,l=e._outputType,u=e._mimeType;e.on("data",(function(e,i){s.push(e),t&&t(i)})).on("error",(function(e){s=[],r(e)})).on("end",(function(){try{var e=function(e,t,i){switch(e){case"blob":return n.newBlob(n.transformTo("arraybuffer",t),i);case"base64":return o.encode(t);default:return n.transformTo(e,t)}}(l,function(e,t){var i,n=0,r=null,s=0;for(i=0;i<t.length;i++)s+=t[i].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(s),i=0;i<t.length;i++)r.set(t[i],n),n+=t[i].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(a,s),u);i(e)}catch(e){r(e)}s=[]})).resume()}))}(this,e)},on:function(e,t){var i=this;return this._worker.on(e,"data"===e?function(e){t.call(i,e.data,e.meta)}:function(){n.delay(t,arguments,i)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,i){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer="undefined"!=typeof Buffer,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var n=new ArrayBuffer(0);try{i.blob=0===new Blob([n],{type:"application/zip"}).size}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(n),i.blob=0===r.getBlob("application/zip").size}catch(e){i.blob=!1}}}try{i.nodestream=!!e("readable-stream").Readable}catch(e){i.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,i){"use strict";for(var n=e("./utils"),r=e("./support"),s=e("./nodejsUtils"),o=e("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(){o.call(this,"utf-8 decode"),this.leftOver=null}function c(){o.call(this,"utf-8 encode")}a[254]=a[254]=1,i.utf8encode=function(e){return r.nodebuffer?s.newBufferFrom(e,"utf-8"):function(e){var t,i,n,s,o,a=e.length,l=0;for(s=0;s<a;s++)55296==(64512&(i=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(n=e.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=r.uint8array?new Uint8Array(l):new Array(l),s=o=0;o<l;s++)55296==(64512&(i=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(n=e.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),i<128?t[o++]=i:(i<2048?t[o++]=192|i>>>6:(i<65536?t[o++]=224|i>>>12:(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63),t[o++]=128|i>>>6&63),t[o++]=128|63&i);return t}(e)},i.utf8decode=function(e){return r.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,i,r,s,o=e.length,l=new Array(2*o);for(t=i=0;t<o;)if((r=e[t++])<128)l[i++]=r;else if(4<(s=a[r]))l[i++]=65533,t+=s-1;else{for(r&=2===s?31:3===s?15:7;1<s&&t<o;)r=r<<6|63&e[t++],s--;1<s?l[i++]=65533:r<65536?l[i++]=r:(l[i++]=55296|(r-=65536)>>10&1023,l[i++]=56320|1023&r)}return l.length!==i&&(l.subarray?l=l.subarray(0,i):l.length=i),n.applyFromCharCode(l)}(e=n.transformTo(r.uint8array?"uint8array":"array",e))},n.inherits(u,o),u.prototype.processChunk=function(e){var t=n.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var s=t;(t=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),t.set(s,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;0<=i&&128==(192&e[i]);)i--;return i<0||0===i?t:i+a[e[i]]>t?i:t}(t),l=t;o!==t.length&&(r.uint8array?(l=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(l=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:i.utf8decode(l),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=u,n.inherits(c,o),c.prototype.processChunk=function(e){this.push({data:i.utf8encode(e.data),meta:e.meta})},i.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,i){"use strict";var n=e("./support"),r=e("./base64"),s=e("./nodejsUtils"),o=e("set-immediate-shim"),a=e("./external");function l(e){return e}function u(e,t){for(var i=0;i<e.length;++i)t[i]=255&e.charCodeAt(i);return t}i.newBlob=function(t,n){i.checkSupport("blob");try{return new Blob([t],{type:n})}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(t),r.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,i){var n=[],r=0,s=e.length;if(s<=i)return String.fromCharCode.apply(null,e);for(;r<s;)n.push(String.fromCharCode.apply(null,"array"===t||"nodebuffer"===t?e.slice(r,Math.min(r+i,s)):e.subarray(r,Math.min(r+i,s)))),r+=i;return n.join("")},stringifyByChar:function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,s.allocBuffer(1)).length}catch(e){return!1}}()}};function h(e){var t=65536,n=i.getTypeOf(e),r=!0;if("uint8array"===n?r=c.applyCanBeUsed.uint8array:"nodebuffer"===n&&(r=c.applyCanBeUsed.nodebuffer),r)for(;1<t;)try{return c.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function d(e,t){for(var i=0;i<e.length;i++)t[i]=e[i];return t}i.applyFromCharCode=h;var p={};p.string={string:l,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:function(e){return u(e,s.allocBuffer(e.length))}},p.array={string:h,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(e)}},p.arraybuffer={string:function(e){return h(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:h,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return s.newBufferFrom(e)}},p.nodebuffer={string:h,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:l},i.transformTo=function(e,t){if(t=t||"",!e)return t;i.checkSupport(e);var n=i.getTypeOf(t);return p[n][e](t)},i.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&s.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(e){if(!n[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(e){var t,i,n="";for(i=0;i<(e||"").length;i++)n+="\\x"+((t=e.charCodeAt(i))<16?"0":"")+t.toString(16).toUpperCase();return n},i.delay=function(e,t,i){o((function(){e.apply(i||null,t||[])}))},i.inherits=function(e,t){function i(){}i.prototype=t.prototype,e.prototype=new i},i.extend=function(){var e,t,i={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===i[t]&&(i[t]=arguments[e][t]);return i},i.prepareContent=function(e,t,s,o,l){return a.Promise.resolve(t).then((function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,i){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){i(e.target.error)},n.readAsArrayBuffer(e)})):e})).then((function(t){var c=i.getTypeOf(t);return c?("arraybuffer"===c?t=i.transformTo("uint8array",t):"string"===c&&(l?t=r.decode(t):s&&!0!==o&&(t=function(e){return u(e,n.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,i){"use strict";var n=e("./reader/readerFor"),r=e("./utils"),s=e("./signature"),o=e("./zipEntry"),a=(e("./utf8"),e("./support"));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var i=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(i),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=r.transformTo(a.uint8array?"uint8array":"array",e);this.zipComment=this.loadOptions.decodeFileName(t)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,i,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),i=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)this.reader.setIndex((t=this.files[e]).localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var n=t-i;if(0<n)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,i){"use strict";var n=e("./reader/readerFor"),r=e("./utils"),s=e("./compressedObject"),o=e("./crc32"),a=e("./utf8"),l=e("./compressions"),u=e("./support");function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,i;if(e.skip(22),this.fileNameLength=e.readInt(2),i=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=n(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,i,n,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<r;)t=e.readInt(2),i=e.readInt(2),n=e.readData(i),this.extraFields[t]={id:t,length:i,value:n};e.setIndex(r)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var i=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var s=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null}},t.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,i){"use strict";function n(e,t,i){this.name=e,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=t,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}}var r=e("./stream/StreamHelper"),s=e("./stream/DataWorker"),o=e("./utf8"),a=e("./compressedObject"),l=e("./stream/GenericWorker");n.prototype={internalStream:function(e){var t=null,i="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(i=e.toLowerCase())||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),t=this._decompressWorker();var s=!this._dataBinary;s&&!n&&(t=t.pipe(new o.Utf8EncodeWorker)),!s&&n&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new r(t,i,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(i,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof l?this._data:new s(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)n.prototype[u[h]]=c;t.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,i){(function(e){"use strict";var i,n,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var s=0,o=new r(c),a=e.document.createTextNode("");o.observe(a,{characterData:!0}),i=function(){a.data=s=++s%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,i=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,t;n=!0;for(var i=u.length;i;){for(t=u,u=[],e=-1;++e<i;)t[e]();i=u.length}n=!1}t.exports=function(e){1!==u.push(e)||n||i()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,i){"use strict";var n=e("immediate");function r(){}var s={},o=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&p(this,e)}function c(e,t,i){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function h(e,t,i){n((function(){var n;try{n=t(i)}catch(n){return s.reject(e,n)}n===e?s.reject(e,new TypeError("Cannot resolve promise with itself")):s.resolve(e,n)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var i=!1;function n(t){i||(i=!0,s.reject(e,t))}function r(t){i||(i=!0,s.resolve(e,t))}var o=f((function(){t(r,n)}));"error"===o.status&&n(o.value)}function f(e,t){var i={};try{i.value=e(t),i.status="success"}catch(e){i.status="error",i.value=e}return i}(t.exports=u).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){throw i}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===o)return this;var i=new this.constructor(r);return this.state!==l?h(i,this.state===a?e:t,this.outcome):this.queue.push(new c(i,e,t)),i},c.prototype.callFulfilled=function(e){s.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){s.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},s.resolve=function(e,t){var i=f(d,t);if("error"===i.status)return s.reject(e,i.value);var n=i.value;if(n)p(e,n);else{e.state=a,e.outcome=t;for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callFulfilled(t)}return e},s.reject=function(e,t){e.state=o,e.outcome=t;for(var i=-1,n=e.queue.length;++i<n;)e.queue[i].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:s.resolve(new this(r),e)},u.reject=function(e){var t=new this(r);return s.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,n=!1;if(!i)return this.resolve([]);for(var o=new Array(i),a=0,l=-1,u=new this(r);++l<i;)c(e[l],l);return u;function c(e,r){t.resolve(e).then((function(e){o[r]=e,++a!==i||n||(n=!0,s.resolve(u,o))}),(function(e){n||(n=!0,s.reject(u,e))}))}},u.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,i=!1;if(!t)return this.resolve([]);for(var n=-1,o=new this(r);++n<t;)this.resolve(e[n]).then((function(e){i||(i=!0,s.resolve(o,e))}),(function(e){i||(i=!0,s.reject(o,e))}));return o}},{immediate:36}],38:[function(e,t,i){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,i){"use strict";var n=e("./zlib/deflate"),r=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/messages"),a=e("./zlib/zstream"),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var i=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==i)throw new Error(o[i]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(i=n.deflateSetDictionary(this.strm,c)))throw new Error(o[i]);this._dict_set=!0}}function c(e,t){var i=new u(t);if(i.push(e,!0),i.err)throw i.msg||o[i.err];return i.result}u.prototype.push=function(e,t){var i,o,a=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,a.input="string"==typeof e?s.string2buf(e):"[object ArrayBuffer]"===l.call(e)?new Uint8Array(e):e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new r.Buf8(u),a.next_out=0,a.avail_out=u),1!==(i=n.deflate(a,o))&&0!==i)return this.onEnd(i),!(this.ended=!0);0!==a.avail_out&&(0!==a.avail_in||4!==o&&2!==o)||this.onData("string"===this.options.to?s.buf2binstring(r.shrinkBuf(a.output,a.next_out)):r.shrinkBuf(a.output,a.next_out))}while((0<a.avail_in||0===a.avail_out)&&1!==i);return 4===o?(i=n.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==o||(this.onEnd(0),!(a.avail_out=0))},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Deflate=u,i.deflate=c,i.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},i.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,i){"use strict";var n=e("./zlib/inflate"),r=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/constants"),a=e("./zlib/messages"),l=e("./zlib/zstream"),u=e("./zlib/gzheader"),c=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=n.inflateInit2(this.strm,t.windowBits);if(i!==o.Z_OK)throw new Error(a[i]);this.header=new u,n.inflateGetHeader(this.strm,this.header)}function d(e,t){var i=new h(t);if(i.push(e,!0),i.err)throw i.msg||a[i.err];return i.result}h.prototype.push=function(e,t){var i,a,l,u,h,d,p=this.strm,f=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,p.input="string"==typeof e?s.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?new Uint8Array(e):e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new r.Buf8(f),p.next_out=0,p.avail_out=f),(i=n.inflate(p,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&m&&(d="string"==typeof m?s.string2buf(m):"[object ArrayBuffer]"===c.call(m)?new Uint8Array(m):m,i=n.inflateSetDictionary(this.strm,d)),i===o.Z_BUF_ERROR&&!0===g&&(i=o.Z_OK,g=!1),i!==o.Z_STREAM_END&&i!==o.Z_OK)return this.onEnd(i),!(this.ended=!0);p.next_out&&(0!==p.avail_out&&i!==o.Z_STREAM_END&&(0!==p.avail_in||a!==o.Z_FINISH&&a!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=s.utf8border(p.output,p.next_out),u=p.next_out-l,h=s.buf2string(p.output,l),p.next_out=u,p.avail_out=f-u,u&&r.arraySet(p.output,p.output,l,u,0),this.onData(h)):this.onData(r.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(g=!0)}while((0<p.avail_in||0===p.avail_out)&&i!==o.Z_STREAM_END);return i===o.Z_STREAM_END&&(a=o.Z_FINISH),a===o.Z_FINISH?(i=n.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===o.Z_OK):a!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(p.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===o.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=h,i.inflate=d,i.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},i.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,i,n,r){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+n),r);else for(var s=0;s<n;s++)e[r+s]=t[i+s]},flattenChunks:function(e){var t,i,n,r,s,o;for(t=n=0,i=e.length;t<i;t++)n+=e[t].length;for(o=new Uint8Array(n),t=r=0,i=e.length;t<i;t++)o.set(s=e[t],r),r+=s.length;return o}},s={arraySet:function(e,t,i,n,r){for(var s=0;s<n;s++)e[r+s]=t[i+s]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,r)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(n)},{}],42:[function(e,t,i){"use strict";var n=e("./common"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var o=new n.Buf8(256),a=0;a<256;a++)o[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function l(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var i="",o=0;o<t;o++)i+=String.fromCharCode(e[o]);return i}o[254]=o[254]=1,i.string2buf=function(e){var t,i,r,s,o,a=e.length,l=0;for(s=0;s<a;s++)55296==(64512&(i=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(r=e.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(r-56320),s++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=new n.Buf8(l),s=o=0;o<l;s++)55296==(64512&(i=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(r=e.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(r-56320),s++),i<128?t[o++]=i:(i<2048?t[o++]=192|i>>>6:(i<65536?t[o++]=224|i>>>12:(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63),t[o++]=128|i>>>6&63),t[o++]=128|63&i);return t},i.buf2binstring=function(e){return l(e,e.length)},i.binstring2buf=function(e){for(var t=new n.Buf8(e.length),i=0,r=t.length;i<r;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,n,r,s,a=t||e.length,u=new Array(2*a);for(i=n=0;i<a;)if((r=e[i++])<128)u[n++]=r;else if(4<(s=o[r]))u[n++]=65533,i+=s-1;else{for(r&=2===s?31:3===s?15:7;1<s&&i<a;)r=r<<6|63&e[i++],s--;1<s?u[n++]=65533:r<65536?u[n++]=r:(u[n++]=55296|(r-=65536)>>10&1023,u[n++]=56320|1023&r)}return l(u,n)},i.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;0<=i&&128==(192&e[i]);)i--;return i<0||0===i?t:i+o[e[i]]>t?i:t}},{"./common":41}],43:[function(e,t,i){"use strict";t.exports=function(e,t,i,n){for(var r=65535&e|0,s=e>>>16&65535|0,o=0;0!==i;){for(i-=o=2e3<i?2e3:i;s=s+(r=r+t[n++]|0)|0,--o;);r%=65521,s%=65521}return r|s<<16|0}},{}],44:[function(e,t,i){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,i){"use strict";var n=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t,i,r){var s=n,o=r+i;e^=-1;for(var a=r;a<o;a++)e=e>>>8^s[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,i){"use strict";var n,r=e("../utils/common"),s=e("./trees"),o=e("./adler32"),a=e("./crc32"),l=e("./messages"),u=-2,c=258,h=262,d=113;function p(e,t){return e.msg=l[t],t}function f(e){return(e<<1)-(4<e?9:0)}function m(e){for(var t=e.length;0<=--t;)e[t]=0}function g(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(r.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function y(e,t){s._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,g(e.strm)}function v(e,t){e.pending_buf[e.pending++]=t}function b(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function w(e,t){var i,n,r=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,u=e.window,d=e.w_mask,p=e.prev,f=e.strstart+c,m=u[s+o-1],g=u[s+o];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do{if(u[(i=t)+o]===g&&u[i+o-1]===m&&u[i]===u[s]&&u[++i]===u[s+1]){s+=2,i++;do{}while(u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&s<f);if(n=c-(f-s),s=f-c,o<n){if(e.match_start=t,a<=(o=n))break;m=u[s+o-1],g=u[s+o]}}}while((t=p[t&d])>l&&0!=--r);return o<=e.lookahead?o:e.lookahead}function x(e){var t,i,n,s,l,u,c,d,p,f,m=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-h)){for(r.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=i=e.hash_size;n=e.head[--t],e.head[t]=m<=n?n-m:0,--i;);for(t=i=m;n=e.prev[--t],e.prev[t]=m<=n?n-m:0,--i;);s+=m}if(0===e.strm.avail_in)break;if(c=e.window,d=e.strstart+e.lookahead,f=void 0,(p=s)<(f=(u=e.strm).avail_in)&&(f=p),i=0===f?0:(u.avail_in-=f,r.arraySet(c,u.input,u.next_in,f,d),1===u.state.wrap?u.adler=o(u.adler,c,f,d):2===u.state.wrap&&(u.adler=a(u.adler,c,f,d)),u.next_in+=f,u.total_in+=f,f),e.lookahead+=i,e.lookahead+e.insert>=3)for(e.ins_h=e.window[l=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function C(e,t){for(var i,n;;){if(e.lookahead<h){if(x(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-h&&(e.match_length=w(e,i)),e.match_length>=3)if(n=s._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function _(e,t){for(var i,n,r;;){if(e.lookahead<h){if(x(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-h&&(e.match_length=w(e,i),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(r=e.strstart+e.lookahead-3,n=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(y(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=s._tr_tally(e,0,e.window[e.strstart-1]))&&y(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function S(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}function E(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function D(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:d,e.adler=2===t.wrap?0:1,t.last_flush=0,s._tr_init(t),0):p(e,u)}function k(e){var t=D(e);return 0===t&&function(e){e.window_size=2*e.w_size,m(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}function I(e,t,i,n,s,o){if(!e)return u;var a=1;if(-1===t&&(t=6),n<0?(a=0,n=-n):15<n&&(a=2,n-=16),s<1||9<s||8!==i||n<8||15<n||t<0||9<t||o<0||4<o)return p(e,u);8===n&&(n=9);var l=new E;return(e.state=l).strm=e,l.wrap=a,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=i,k(e)}n=[new S(0,0,0,0,(function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(x(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+i;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,y(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&y(e,!1),1)})),new S(4,4,8,4,C),new S(4,5,16,8,C),new S(4,6,32,32,C),new S(4,4,16,16,_),new S(8,16,32,32,_),new S(8,16,128,128,_),new S(8,32,128,256,_),new S(32,128,258,1024,_),new S(32,258,258,4096,_)],i.deflateInit=function(e,t){return I(e,t,8,15,8,0)},i.deflateInit2=I,i.deflateReset=k,i.deflateResetKeep=D,i.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=t,0):u},i.deflate=function(e,t){var i,r,o,l;if(!e||!e.state||5<t||t<0)return e?p(e,u):u;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&4!==t)return p(e,0===e.avail_out?-5:u);if(r.strm=e,i=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,v(r,31),v(r,139),v(r,8),r.gzhead?(v(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),v(r,255&r.gzhead.time),v(r,r.gzhead.time>>8&255),v(r,r.gzhead.time>>16&255),v(r,r.gzhead.time>>24&255),v(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),v(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(v(r,255&r.gzhead.extra.length),v(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=a(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(v(r,0),v(r,0),v(r,0),v(r,0),v(r,0),v(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),v(r,3),r.status=d);else{var h=8+(r.w_bits-8<<4)<<8;h|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=d,b(r,h),0!==r.strstart&&(b(r,e.adler>>>16),b(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),g(e),o=r.pending,r.pending!==r.pending_buf_size));)v(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),g(e),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,v(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),g(e),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,v(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&g(e),r.pending+2<=r.pending_buf_size&&(v(r,255&e.adler),v(r,e.adler>>8&255),e.adler=0,r.status=d)):r.status=d),0!==r.pending){if(g(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&f(t)<=f(i)&&4!==t)return p(e,-5);if(666===r.status&&0!==e.avail_in)return p(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&666!==r.status){var w=2===r.strategy?function(e,t){for(var i;;){if(0===e.lookahead&&(x(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,i=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var i,n,r,o,a=e.window;;){if(e.lookahead<=c){if(x(e),e.lookahead<=c&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(n=a[r=e.strstart-1])===a[++r]&&n===a[++r]&&n===a[++r]){o=e.strstart+c;do{}while(n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&r<o);e.match_length=c-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=s._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(r,t):n[r.level].func(r,t);if(3!==w&&4!==w||(r.status=666),1===w||3===w)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===w&&(1===t?s._tr_align(r):5!==t&&(s._tr_stored_block(r,0,0,!1),3===t&&(m(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),g(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(v(r,255&e.adler),v(r,e.adler>>8&255),v(r,e.adler>>16&255),v(r,e.adler>>24&255),v(r,255&e.total_in),v(r,e.total_in>>8&255),v(r,e.total_in>>16&255),v(r,e.total_in>>24&255)):(b(r,e.adler>>>16),b(r,65535&e.adler)),g(e),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?0:1)},i.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==d&&666!==t?p(e,u):(e.state=null,t===d?p(e,-3):0):u},i.deflateSetDictionary=function(e,t){var i,n,s,a,l,c,h,d,p=t.length;if(!e||!e.state)return u;if(2===(a=(i=e.state).wrap)||1===a&&42!==i.status||i.lookahead)return u;for(1===a&&(e.adler=o(e.adler,t,p,0)),i.wrap=0,p>=i.w_size&&(0===a&&(m(i.head),i.strstart=0,i.block_start=0,i.insert=0),d=new r.Buf8(i.w_size),r.arraySet(d,t,p-i.w_size,i.w_size,0),t=d,p=i.w_size),l=e.avail_in,c=e.next_in,h=e.input,e.avail_in=p,e.next_in=0,e.input=t,x(i);i.lookahead>=3;){for(n=i.strstart,s=i.lookahead-2;i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+3-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++,--s;);i.strstart=n,i.lookahead=2,x(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=c,e.input=h,e.avail_in=l,i.wrap=a,0},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,i){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,i){"use strict";t.exports=function(e,t){var i,n,r,s,o,a,l,u,c,h,d,p,f,m,g,y,v,b,w,x,C,_,S,E,D;E=e.input,r=(n=e.next_in)+(e.avail_in-5),D=e.output,o=(s=e.next_out)-(t-e.avail_out),a=s+(e.avail_out-257),l=(i=e.state).dmax,u=i.wsize,c=i.whave,h=i.wnext,d=i.window,p=i.hold,f=i.bits,m=i.lencode,g=i.distcode,y=(1<<i.lenbits)-1,v=(1<<i.distbits)-1;e:do{f<15&&(p+=E[n++]<<f,p+=E[n++]<<(f+=8),f+=8),b=m[p&y];t:for(;;){if(p>>>=w=b>>>24,f-=w,0==(w=b>>>16&255))D[s++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(p&(1<<w)-1)];continue t}if(32&w){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}x=65535&b,(w&=15)&&(f<w&&(p+=E[n++]<<f,f+=8),x+=p&(1<<w)-1,p>>>=w,f-=w),f<15&&(p+=E[n++]<<f,p+=E[n++]<<(f+=8),f+=8),b=g[p&v];i:for(;;){if(p>>>=w=b>>>24,f-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(p&(1<<w)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(C=65535&b,f<(w&=15)&&(p+=E[n++]<<f,(f+=8)<w&&(p+=E[n++]<<f,f+=8)),l<(C+=p&(1<<w)-1)){e.msg="invalid distance too far back",i.mode=30;break e}if(p>>>=w,f-=w,(w=s-o)<C){if(c<(w=C-w)&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(S=d,(_=0)===h){if(_+=u-w,w<x){for(x-=w;D[s++]=d[_++],--w;);_=s-C,S=D}}else if(h<w){if(_+=u+h-w,(w-=h)<x){for(x-=w;D[s++]=d[_++],--w;);if(_=0,h<x){for(x-=w=h;D[s++]=d[_++],--w;);_=s-C,S=D}}}else if(_+=h-w,w<x){for(x-=w;D[s++]=d[_++],--w;);_=s-C,S=D}for(;2<x;)D[s++]=S[_++],D[s++]=S[_++],D[s++]=S[_++],x-=3;x&&(D[s++]=S[_++],1<x&&(D[s++]=S[_++]))}else{for(_=s-C;D[s++]=D[_++],D[s++]=D[_++],D[s++]=D[_++],2<(x-=3););x&&(D[s++]=D[_++],1<x&&(D[s++]=D[_++]))}break}}break}}while(n<r&&s<a);n-=x=f>>3,p&=(1<<(f-=x<<3))-1,e.next_in=n,e.next_out=s,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=s<a?a-s+257:257-(s-a),i.hold=p,i.bits=f}},{}],49:[function(e,t,i){"use strict";var n=e("../utils/common"),r=e("./adler32"),s=e("./crc32"),o=e("./inffast"),a=e("./inftrees"),l=-2;function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(e){var t;return e&&e.state?(e.total_in=e.total_out=(t=e.state).total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(852),t.distcode=t.distdyn=new n.Buf32(592),t.sane=1,t.back=-1,0):l}function d(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,h(e)):l}function p(e,t){var i,n;return e&&e.state?(n=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?l:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,d(e))):l}function f(e,t){var i,n;return e?(n=new c,(e.state=n).window=null,0!==(i=p(e,t))&&(e.state=null),i):l}var m,g,y=!0;function v(e){if(y){var t;for(m=new n.Buf32(512),g=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,m,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,g,0,e.work,{bits:5}),y=!1}e.lencode=m,e.lenbits=9,e.distcode=g,e.distbits=5}function b(e,t,i,r){var s,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),r>=o.wsize?(n.arraySet(o.window,t,i-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(r<(s=o.wsize-o.wnext)&&(s=r),n.arraySet(o.window,t,i-r,s,o.wnext),(r-=s)?(n.arraySet(o.window,t,i-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}i.inflateReset=d,i.inflateReset2=p,i.inflateResetKeep=h,i.inflateInit=function(e){return f(e,15)},i.inflateInit2=f,i.inflate=function(e,t){var i,c,h,d,p,f,m,g,y,w,x,C,_,S,E,D,k,I,T,A,O,F,B,M,P=0,L=new n.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;12===(i=e.state).mode&&(i.mode=13),p=e.next_out,h=e.output,d=e.next_in,c=e.input,g=i.hold,y=i.bits,w=f=e.avail_in,x=m=e.avail_out,F=0;e:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;y<16;){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}if(2&i.wrap&&35615===g){L[i.check=0]=255&g,L[1]=g>>>8&255,i.check=s(i.check,L,2,0),y=g=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&g)<<8)+(g>>8))%31){e.msg="incorrect header check",i.mode=30;break}if(8!=(15&g)){e.msg="unknown compression method",i.mode=30;break}if(y-=4,O=8+(15&(g>>>=4)),0===i.wbits)i.wbits=O;else if(O>i.wbits){e.msg="invalid window size",i.mode=30;break}i.dmax=1<<O,e.adler=i.check=1,i.mode=512&g?10:12,y=g=0;break;case 2:for(;y<16;){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}if(i.flags=g,8!=(255&i.flags)){e.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=g>>8&1),512&i.flags&&(L[0]=255&g,L[1]=g>>>8&255,i.check=s(i.check,L,2,0)),y=g=0,i.mode=3;case 3:for(;y<32;){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}i.head&&(i.head.time=g),512&i.flags&&(L[0]=255&g,L[1]=g>>>8&255,L[2]=g>>>16&255,L[3]=g>>>24&255,i.check=s(i.check,L,4,0)),y=g=0,i.mode=4;case 4:for(;y<16;){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}i.head&&(i.head.xflags=255&g,i.head.os=g>>8),512&i.flags&&(L[0]=255&g,L[1]=g>>>8&255,i.check=s(i.check,L,2,0)),y=g=0,i.mode=5;case 5:if(1024&i.flags){for(;y<16;){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}i.length=g,i.head&&(i.head.extra_len=g),512&i.flags&&(L[0]=255&g,L[1]=g>>>8&255,i.check=s(i.check,L,2,0)),y=g=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&(f<(C=i.length)&&(C=f),C&&(i.head&&(O=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),n.arraySet(i.head.extra,c,d,C,O)),512&i.flags&&(i.check=s(i.check,c,C,d)),f-=C,d+=C,i.length-=C),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===f)break e;for(C=0;O=c[d+C++],i.head&&O&&i.length<65536&&(i.head.name+=String.fromCharCode(O)),O&&C<f;);if(512&i.flags&&(i.check=s(i.check,c,C,d)),f-=C,d+=C,O)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===f)break e;for(C=0;O=c[d+C++],i.head&&O&&i.length<65536&&(i.head.comment+=String.fromCharCode(O)),O&&C<f;);if(512&i.flags&&(i.check=s(i.check,c,C,d)),f-=C,d+=C,O)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;y<16;){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}if(g!==(65535&i.check)){e.msg="header crc mismatch",i.mode=30;break}y=g=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=12;break;case 10:for(;y<32;){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}e.adler=i.check=u(g),y=g=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=p,e.avail_out=m,e.next_in=d,e.avail_in=f,i.hold=g,i.bits=y,2;e.adler=i.check=1,i.mode=12;case 12:if(5===t||6===t)break e;case 13:if(i.last){g>>>=7&y,y-=7&y,i.mode=27;break}for(;y<3;){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}switch(i.last=1&g,y-=1,3&(g>>>=1)){case 0:i.mode=14;break;case 1:if(v(i),i.mode=20,6!==t)break;g>>>=2,y-=2;break e;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=30}g>>>=2,y-=2;break;case 14:for(g>>>=7&y,y-=7&y;y<32;){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}if((65535&g)!=(g>>>16^65535)){e.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&g,y=g=0,i.mode=15,6===t)break e;case 15:i.mode=16;case 16:if(C=i.length){if(f<C&&(C=f),m<C&&(C=m),0===C)break e;n.arraySet(h,c,d,C,p),f-=C,d+=C,m-=C,p+=C,i.length-=C;break}i.mode=12;break;case 17:for(;y<14;){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}if(i.nlen=257+(31&g),y-=5,i.ndist=1+(31&(g>>>=5)),y-=5,i.ncode=4+(15&(g>>>=5)),g>>>=4,y-=4,286<i.nlen||30<i.ndist){e.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;y<3;){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}i.lens[N[i.have++]]=7&g,g>>>=3,y-=3}for(;i.have<19;)i.lens[N[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,F=a(0,i.lens,0,19,i.lencode,0,i.work,B={bits:i.lenbits}),i.lenbits=B.bits,F){e.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;D=(P=i.lencode[g&(1<<i.lenbits)-1])>>>16&255,k=65535&P,!((E=P>>>24)<=y);){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}if(k<16)g>>>=E,y-=E,i.lens[i.have++]=k;else{if(16===k){for(M=E+2;y<M;){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}if(g>>>=E,y-=E,0===i.have){e.msg="invalid bit length repeat",i.mode=30;break}O=i.lens[i.have-1],C=3+(3&g),g>>>=2,y-=2}else if(17===k){for(M=E+3;y<M;){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}y-=E,O=0,C=3+(7&(g>>>=E)),g>>>=3,y-=3}else{for(M=E+7;y<M;){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}y-=E,O=0,C=11+(127&(g>>>=E)),g>>>=7,y-=7}if(i.have+C>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=30;break}for(;C--;)i.lens[i.have++]=O}}if(30===i.mode)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,F=a(1,i.lens,0,i.nlen,i.lencode,0,i.work,B={bits:i.lenbits}),i.lenbits=B.bits,F){e.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,F=a(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,B={bits:i.distbits}),i.distbits=B.bits,F){e.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===t)break e;case 20:i.mode=21;case 21:if(6<=f&&258<=m){e.next_out=p,e.avail_out=m,e.next_in=d,e.avail_in=f,i.hold=g,i.bits=y,o(e,x),p=e.next_out,h=e.output,m=e.avail_out,d=e.next_in,c=e.input,f=e.avail_in,g=i.hold,y=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;D=(P=i.lencode[g&(1<<i.lenbits)-1])>>>16&255,k=65535&P,!((E=P>>>24)<=y);){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}if(D&&0==(240&D)){for(I=E,T=D,A=k;D=(P=i.lencode[A+((g&(1<<I+T)-1)>>I)])>>>16&255,k=65535&P,!(I+(E=P>>>24)<=y);){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}g>>>=I,y-=I,i.back+=I}if(g>>>=E,y-=E,i.back+=E,i.length=k,0===D){i.mode=26;break}if(32&D){i.back=-1,i.mode=12;break}if(64&D){e.msg="invalid literal/length code",i.mode=30;break}i.extra=15&D,i.mode=22;case 22:if(i.extra){for(M=i.extra;y<M;){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}i.length+=g&(1<<i.extra)-1,g>>>=i.extra,y-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;D=(P=i.distcode[g&(1<<i.distbits)-1])>>>16&255,k=65535&P,!((E=P>>>24)<=y);){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}if(0==(240&D)){for(I=E,T=D,A=k;D=(P=i.distcode[A+((g&(1<<I+T)-1)>>I)])>>>16&255,k=65535&P,!(I+(E=P>>>24)<=y);){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}g>>>=I,y-=I,i.back+=I}if(g>>>=E,y-=E,i.back+=E,64&D){e.msg="invalid distance code",i.mode=30;break}i.offset=k,i.extra=15&D,i.mode=24;case 24:if(i.extra){for(M=i.extra;y<M;){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}i.offset+=g&(1<<i.extra)-1,g>>>=i.extra,y-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===m)break e;if(i.offset>(C=x-m)){if((C=i.offset-C)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=30;break}_=C>i.wnext?i.wsize-(C-=i.wnext):i.wnext-C,C>i.length&&(C=i.length),S=i.window}else S=h,_=p-i.offset,C=i.length;for(m<C&&(C=m),m-=C,i.length-=C;h[p++]=S[_++],--C;);0===i.length&&(i.mode=21);break;case 26:if(0===m)break e;h[p++]=i.length,m--,i.mode=21;break;case 27:if(i.wrap){for(;y<32;){if(0===f)break e;f--,g|=c[d++]<<y,y+=8}if(e.total_out+=x-=m,i.total+=x,x&&(e.adler=i.check=i.flags?s(i.check,h,x,p-x):r(i.check,h,x,p-x)),x=m,(i.flags?g:u(g))!==i.check){e.msg="incorrect data check",i.mode=30;break}y=g=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;y<32;){if(0===f)break e;f--,g+=c[d++]<<y,y+=8}if(g!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=30;break}y=g=0}i.mode=29;case 29:F=1;break e;case 30:F=-3;break e;case 31:return-4;case 32:default:return l}return e.next_out=p,e.avail_out=m,e.next_in=d,e.avail_in=f,i.hold=g,i.bits=y,(i.wsize||x!==e.avail_out&&i.mode<30&&(i.mode<27||4!==t))&&b(e,e.output,e.next_out,x-e.avail_out)?(i.mode=31,-4):(x-=e.avail_out,e.total_in+=w-=e.avail_in,e.total_out+=x,i.total+=x,i.wrap&&x&&(e.adler=i.check=i.flags?s(i.check,h,x,e.next_out-x):r(i.check,h,x,e.next_out-x)),e.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0==w&&0===x||4===t)&&0===F&&(F=-5),F)},i.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},i.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?l:((i.head=t).done=!1,0):l},i.inflateSetDictionary=function(e,t){var i,n=t.length;return e&&e.state?0!==(i=e.state).wrap&&11!==i.mode?l:11===i.mode&&r(1,t,n,0)!==i.check?-3:b(e,t,n,n)?(i.mode=31,-4):(i.havedict=1,0):l},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,i){"use strict";var n=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,l,u,c,h,d){var p,f,m,g,y,v,b,w,x,C=d.bits,_=0,S=0,E=0,D=0,k=0,I=0,T=0,A=0,O=0,F=0,B=null,M=0,P=new n.Buf16(16),L=new n.Buf16(16),N=null,R=0;for(_=0;_<=15;_++)P[_]=0;for(S=0;S<l;S++)P[t[i+S]]++;for(k=C,D=15;1<=D&&0===P[D];D--);if(D<k&&(k=D),0===D)return u[c++]=20971520,u[c++]=20971520,d.bits=1,0;for(E=1;E<D&&0===P[E];E++);for(k<E&&(k=E),_=A=1;_<=15;_++)if(A<<=1,(A-=P[_])<0)return-1;if(0<A&&(0===e||1!==D))return-1;for(L[1]=0,_=1;_<15;_++)L[_+1]=L[_]+P[_];for(S=0;S<l;S++)0!==t[i+S]&&(h[L[t[i+S]]++]=S);if(v=0===e?(B=N=h,19):1===e?(B=r,M-=257,N=s,R-=257,256):(B=o,N=a,-1),_=E,y=c,T=S=F=0,m=-1,g=(O=1<<(I=k))-1,1===e&&852<O||2===e&&592<O)return 1;for(;;){for(b=_-T,x=h[S]<v?(w=0,h[S]):h[S]>v?(w=N[R+h[S]],B[M+h[S]]):(w=96,0),p=1<<_-T,E=f=1<<I;u[y+(F>>T)+(f-=p)]=b<<24|w<<16|x|0,0!==f;);for(p=1<<_-1;F&p;)p>>=1;if(0!==p?(F&=p-1,F+=p):F=0,S++,0==--P[_]){if(_===D)break;_=t[i+h[S]]}if(k<_&&(F&g)!==m){for(0===T&&(T=k),y+=E,A=1<<(I=_-T);I+T<D&&!((A-=P[I+T])<=0);)I++,A<<=1;if(O+=1<<I,1===e&&852<O||2===e&&592<O)return 1;u[m=F&g]=k<<24|I<<16|y-c|0}}return 0!==F&&(u[y+F]=_-T<<24|64<<16|0),d.bits=k,0}},{"../utils/common":41}],51:[function(e,t,i){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,i){"use strict";var n=e("../utils/common");function r(e){for(var t=e.length;0<=--t;)e[t]=0}var s=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);r(u);var c=new Array(60);r(c);var h=new Array(512);r(h);var d=new Array(256);r(d);var p=new Array(29);r(p);var f,m,g,y=new Array(30);function v(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function w(e){return e<256?h[e]:h[256+(e>>>7)]}function x(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function C(e,t,i){e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,x(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function _(e,t,i){C(e,i[2*t],i[2*t+1])}function S(e,t){for(var i=0;i|=1&e,e>>>=1,i<<=1,0<--t;);return i>>>1}function E(e,t,i){var n,r,s=new Array(16),o=0;for(n=1;n<=15;n++)s[n]=o=o+i[n-1]<<1;for(r=0;r<=t;r++){var a=e[2*r+1];0!==a&&(e[2*r]=S(s[a]++,a))}}function D(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function k(e){8<e.bi_valid?x(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function I(e,t,i,n){var r=2*t,s=2*i;return e[r]<e[s]||e[r]===e[s]&&n[t]<=n[i]}function T(e,t,i){for(var n=e.heap[i],r=i<<1;r<=e.heap_len&&(r<e.heap_len&&I(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!I(t,n,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=n}function A(e,t,i){var n,r,a,l,u=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],r=e.pending_buf[e.l_buf+u],u++,0===n?_(e,r,t):(_(e,(a=d[r])+256+1,t),0!==(l=s[a])&&C(e,r-=p[a],l),_(e,a=w(--n),i),0!==(l=o[a])&&C(e,n-=y[a],l)),u<e.last_lit;);_(e,256,t)}function O(e,t){var i,n,r,s=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,i=0;i<l;i++)0!==s[2*i]?(e.heap[++e.heap_len]=u=i,e.depth[i]=0):s[2*i+1]=0;for(;e.heap_len<2;)s[2*(r=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[r]=0,e.opt_len--,a&&(e.static_len-=o[2*r+1]);for(t.max_code=u,i=e.heap_len>>1;1<=i;i--)T(e,s,i);for(r=l;i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],T(e,s,1),n=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=n,s[2*r]=s[2*i]+s[2*n],e.depth[r]=(e.depth[i]>=e.depth[n]?e.depth[i]:e.depth[n])+1,s[2*i+1]=s[2*n+1]=r,e.heap[1]=r++,T(e,s,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,n,r,s,o,a,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,f=t.stat_desc.max_length,m=0;for(s=0;s<=15;s++)e.bl_count[s]=0;for(l[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<573;i++)f<(s=l[2*l[2*(n=e.heap[i])+1]+1]+1)&&(s=f,m++),l[2*n+1]=s,u<n||(e.bl_count[s]++,o=0,p<=n&&(o=d[n-p]),e.opt_len+=(a=l[2*n])*(s+o),h&&(e.static_len+=a*(c[2*n+1]+o)));if(0!==m){do{for(s=f-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[f]--,m-=2}while(0<m);for(s=f;0!==s;s--)for(n=e.bl_count[s];0!==n;)u<(r=e.heap[--i])||(l[2*r+1]!==s&&(e.opt_len+=(s-l[2*r+1])*l[2*r],l[2*r+1]=s),n--)}}(e,t),E(s,u,e.bl_count)}function F(e,t,i){var n,r,s=-1,o=t[1],a=0,l=7,u=4;for(0===o&&(l=138,u=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)r=o,o=t[2*(n+1)+1],++a<l&&r===o||(a<u?e.bl_tree[2*r]+=a:0!==r?(r!==s&&e.bl_tree[2*r]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=r,u=(a=0)===o?(l=138,3):r===o?(l=6,3):(l=7,4))}function B(e,t,i){var n,r,s=-1,o=t[1],a=0,l=7,u=4;for(0===o&&(l=138,u=3),n=0;n<=i;n++)if(r=o,o=t[2*(n+1)+1],!(++a<l&&r===o)){if(a<u)for(;_(e,r,e.bl_tree),0!=--a;);else 0!==r?(r!==s&&(_(e,r,e.bl_tree),a--),_(e,16,e.bl_tree),C(e,a-3,2)):a<=10?(_(e,17,e.bl_tree),C(e,a-3,3)):(_(e,18,e.bl_tree),C(e,a-11,7));s=r,u=(a=0)===o?(l=138,3):r===o?(l=6,3):(l=7,4)}}r(y);var M=!1;function P(e,t,i,r){C(e,0+(r?1:0),3),function(e,t,i,r){k(e),x(e,i),x(e,~i),n.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i)}i._tr_init=function(e){M||(function(){var e,t,i,n,r,l=new Array(16);for(n=i=0;n<28;n++)for(p[n]=i,e=0;e<1<<s[n];e++)d[i++]=n;for(d[i-1]=n,n=r=0;n<16;n++)for(y[n]=r,e=0;e<1<<o[n];e++)h[r++]=n;for(r>>=7;n<30;n++)for(y[n]=r<<7,e=0;e<1<<o[n]-7;e++)h[256+r++]=n;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,l[8]++;for(;e<=255;)u[2*e+1]=9,e++,l[9]++;for(;e<=279;)u[2*e+1]=7,e++,l[7]++;for(;e<=287;)u[2*e+1]=8,e++,l[8]++;for(E(u,287,l),e=0;e<30;e++)c[2*e+1]=5,c[2*e]=S(e,5);f=new v(u,s,257,286,15),m=new v(c,o,0,30,15),g=new v(new Array(0),a,0,19,7)}(),M=!0),e.l_desc=new b(e.dyn_ltree,f),e.d_desc=new b(e.dyn_dtree,m),e.bl_desc=new b(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,D(e)},i._tr_stored_block=P,i._tr_flush_block=function(e,t,i,n){var r,s,o=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),O(e,e.l_desc),O(e,e.d_desc),o=function(e){var t;for(F(e,e.dyn_ltree,e.l_desc.max_code),F(e,e.dyn_dtree,e.d_desc.max_code),O(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(s=e.static_len+3+7>>>3)<=(r=e.opt_len+3+7>>>3)&&(r=s)):r=s=i+5,i+4<=r&&-1!==t?P(e,t,i,n):4===e.strategy||s===r?(C(e,2+(n?1:0),3),A(e,u,c)):(C(e,4+(n?1:0),3),function(e,t,i,n){var r;for(C(e,t-257,5),C(e,i-1,5),C(e,n-4,4),r=0;r<n;r++)C(e,e.bl_tree[2*l[r]+1],3);B(e,e.dyn_ltree,t-1),B(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),A(e,e.dyn_ltree,e.dyn_dtree)),D(e),n&&k(e)},i._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(d[i]+256+1)]++,e.dyn_dtree[2*w(t)]++),e.last_lit===e.lit_bufsize-1},i._tr_align=function(e){C(e,2,3),_(e,256,u),function(e){16===e.bi_valid?(x(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,i){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,i){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)},ydHo:function(e,t,i){"use strict";var n=i("Y2Yi"),r=i("hyoZ");function s(e){return 48<=e&&e<=55}function o(e){return 48<=e&&e<=57}e.exports=new r("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,i,n=e.length,r=0,a=!1;if(!n)return!1;if("-"!==(t=e[r])&&"+"!==t||(t=e[++r]),"0"===t){if(r+1===n)return!0;if("b"===(t=e[++r])){for(r++;r<n;r++)if("_"!==(t=e[r])){if("0"!==t&&"1"!==t)return!1;a=!0}return a&&"_"!==t}if("x"===t){for(r++;r<n;r++)if("_"!==(t=e[r])){if(!(48<=(i=e.charCodeAt(r))&&i<=57||65<=i&&i<=70||97<=i&&i<=102))return!1;a=!0}return a&&"_"!==t}for(;r<n;r++)if("_"!==(t=e[r])){if(!s(e.charCodeAt(r)))return!1;a=!0}return a&&"_"!==t}if("_"===t)return!1;for(;r<n;r++)if("_"!==(t=e[r])){if(":"===t)break;if(!o(e.charCodeAt(r)))return!1;a=!0}return!(!a||"_"===t)&&(":"!==t||/^(:[0-5]?[0-9])+$/.test(e.slice(r)))},construct:function(e){var t,i,n=e,r=1,s=[];return-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(t=n[0])&&"+"!==t||("-"===t&&(r=-1),t=(n=n.slice(1))[0]),"0"===n?0:"0"===t?"b"===n[1]?r*parseInt(n.slice(2),2):"x"===n[1]?r*parseInt(n,16):r*parseInt(n,8):-1!==n.indexOf(":")?(n.split(":").forEach((function(e){s.unshift(parseInt(e,10))})),n=0,i=1,s.forEach((function(e){n+=e*i,i*=60})),r*n):r*parseInt(n,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!n.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},zUnb:function(e,t,i){"use strict";function n(e){return"function"==typeof e}i.r(t);let r=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}};function o(e){setTimeout(()=>{throw e},0)}const a={closed:!0,next(e){},error(e){if(s.useDeprecatedSynchronousErrorHandling)throw e;o(e)},complete(){}},l=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function u(e){return null!==e&&"object"==typeof e}const c=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let h=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:i,_ctorUnsubscribe:r,_unsubscribe:s,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof e)i.remove(this);else if(null!==i)for(let e=0;e<i.length;++e)i[e].remove(this);if(n(s)){r&&(this._unsubscribe=void 0);try{s.call(this)}catch(a){t=a instanceof c?d(a.errors):[a]}}if(l(o)){let e=-1,i=o.length;for(;++e<i;){const i=o[e];if(u(i))try{i.unsubscribe()}catch(a){t=t||[],a instanceof c?t=t.concat(d(a.errors)):t.push(a)}}}if(t)throw new c(t)}add(t){let i=t;if(!t)return e.EMPTY;switch(typeof t){case"function":i=new e(t);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof e)){const t=i;i=new e,i._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=i;if(null===n)i._parentOrParents=this;else if(n instanceof e){if(n===this)return i;i._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return i;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[i]:r.push(i),i}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function d(e){return e.reduce((e,t)=>e.concat(t instanceof c?t.errors:t),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof f?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,e,t,i)}}[p](){return this}static create(e,t,i){const n=new f(e,t,i);return n.syncErrorThrowable=!1,n}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class m extends f{constructor(e,t,i,r){let s;super(),this._parentSubscriber=e;let o=this;n(t)?s=t:t&&(s=t.next,i=t.error,r=t.complete,t!==a&&(o=Object.create(t),n(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=i,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=s;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):o(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;o(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw i;o(i)}}__tryOrSetError(e,t,i){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(n){return s.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=n,e.syncErrorThrown=!0,!0):(o(n),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(e){return e}let v=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const i=new e;return i.source=this,i.operator=t,i}subscribe(e,t,i){const{operator:n}=this,r=function(e,t,i){if(e){if(e instanceof f)return e;if(e[p])return e[p]()}return e||t||i?new f(e,t,i):new f(a)}(e,t,i);if(r.add(n?n.call(r,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),s.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){s.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:i,isStopped:n}=e;if(t||n)return!1;e=i&&i instanceof f?i:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=b(t))((t,i)=>{let n;n=this.subscribe(t=>{try{e(t)}catch(r){i(r),n&&n.unsubscribe()}},i,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[g](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=b(e))((e,t)=>{let i;this.subscribe(e=>i=e,e=>t(e),()=>e(i))})}}return e.create=t=>new e(t),e})();function b(e){if(e||(e=s.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const w=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class x extends h{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}class C extends f{constructor(e){super(e),this.destination=e}}let _=(()=>{class e extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new C(this)}lift(e){const t=new S(this,this);return t.operator=e,t}next(e){if(this.closed)throw new w;if(!this.isStopped){const{observers:t}=this,i=t.length,n=t.slice();for(let r=0;r<i;r++)n[r].next(e)}}error(e){if(this.closed)throw new w;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,i=t.length,n=t.slice();for(let r=0;r<i;r++)n[r].error(e);this.observers.length=0}complete(){if(this.closed)throw new w;this.isStopped=!0;const{observers:e}=this,t=e.length,i=e.slice();for(let n=0;n<t;n++)i[n].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new w;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new w;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new x(this,e))}asObservable(){const e=new v;return e.source=this,e}}return e.create=(e,t)=>new S(e,t),e})();class S extends _{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):h.EMPTY}}function E(e){return e&&"function"==typeof e.schedule}function D(e,t){return function(i){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new k(e,t))}}class k{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new I(e,this.project,this.thisArg))}}class I extends f{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const T=e=>t=>{for(let i=0,n=e.length;i<n&&!t.closed;i++)t.next(e[i]);t.complete()};function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const O=A(),F=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function B(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const M=e=>{if(e&&"function"==typeof e[g])return n=e,e=>{const t=n[g]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(F(e))return T(e);if(B(e))return i=e,e=>(i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e);if(e&&"function"==typeof e[O])return t=e,e=>{const i=t[O]();for(;;){let t;try{t=i.next()}catch(n){return e.error(n),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof i.return&&e.add(()=>{i.return&&i.return()}),e};{const t=u(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,i,n};function P(e,t){return new v(i=>{const n=new h;let r=0;return n.add(t.schedule((function(){r!==e.length?(i.next(e[r++]),i.closed||n.add(this.schedule())):i.complete()}))),n})}function L(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[g]}(e))return function(e,t){return new v(i=>{const n=new h;return n.add(t.schedule(()=>{const r=e[g]();n.add(r.subscribe({next(e){n.add(t.schedule(()=>i.next(e)))},error(e){n.add(t.schedule(()=>i.error(e)))},complete(){n.add(t.schedule(()=>i.complete()))}}))})),n})}(e,t);if(B(e))return function(e,t){return new v(i=>{const n=new h;return n.add(t.schedule(()=>e.then(e=>{n.add(t.schedule(()=>{i.next(e),n.add(t.schedule(()=>i.complete()))}))},e=>{n.add(t.schedule(()=>i.error(e)))}))),n})}(e,t);if(F(e))return P(e,t);if(function(e){return e&&"function"==typeof e[O]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new v(i=>{const n=new h;let r;return n.add(()=>{r&&"function"==typeof r.return&&r.return()}),n.add(t.schedule(()=>{r=e[O](),n.add(t.schedule((function(){if(i.closed)return;let e,t;try{const i=r.next();e=i.value,t=i.done}catch(n){return void i.error(n)}t?i.complete():(i.next(e),this.schedule())})))})),n})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof v?e:new v(M(e))}class N extends f{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class R extends f{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function U(e,t){if(!t.closed)return e instanceof v?e.subscribe(t):M(e)(t)}function z(e,t,i=Number.POSITIVE_INFINITY){return"function"==typeof t?n=>n.pipe(z((i,n)=>L(e(i,n)).pipe(D((e,r)=>t(i,e,n,r))),i)):("number"==typeof t&&(i=t),t=>t.lift(new V(e,i)))}class V{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new j(e,this.project,this.concurrent))}}class j extends R{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(t)}_innerSub(e){const t=new N(this),i=this.destination;i.add(t);const n=U(e,t);n!==t&&i.add(n)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function H(e=Number.POSITIVE_INFINITY){return z(y,e)}function W(e,t){return t?P(e,t):new v(T(e))}function G(){return function(e){return e.lift(new q(e))}}class q{constructor(e){this.connectable=e}call(e,t){const{connectable:i}=this;i._refCount++;const n=new $(e,i),r=t.subscribe(n);return n.closed||(n.connection=i.connect()),r}}class $ extends f{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:i}=this,n=e._connection;this.connection=null,!n||i&&n!==i||n.unsubscribe()}}class Z extends v{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new h,e.add(this.source.subscribe(new Y(this.getSubject(),this))),e.closed&&(this._connection=null,e=h.EMPTY)),e}refCount(){return G()(this)}}const X=(()=>{const e=Z.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class Y extends C{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function K(){return new _}function J(e){return{toString:e}.toString()}function Q(e,t,i){return J(()=>{const n=function(e){return function(...t){if(e){const i=e(...t);for(const e in i)this[e]=i[e]}}}(t);function r(...e){if(this instanceof r)return n.apply(this,e),this;const t=new r(...e);return i.annotation=t,i;function i(e,i,n){const r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;for(;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(t),e}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}const ee=Q("Inject",e=>({token:e})),te=Q("Optional"),ie=Q("Self"),ne=Q("SkipSelf");var re=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function se(e){for(let t in e)if(e[t]===se)return t;throw Error("Could not find renamed property on target object.")}function oe(e,t){for(const i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function ae(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function le(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function ue(e){return ce(e,e[de])||ce(e,e[me])}function ce(e,t){return t&&t.token===e?t:null}function he(e){return e&&(e.hasOwnProperty(pe)||e.hasOwnProperty(ge))?e[pe]:null}const de=se({\u0275prov:se}),pe=se({\u0275inj:se}),fe=se({\u0275provFallback:se}),me=se({ngInjectableDef:se}),ge=se({ngInjectorDef:se});function ye(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ye).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function ve(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const be=se({__forward_ref__:se});function we(e){return e.__forward_ref__=we,e.toString=function(){return ye(this())},e}function xe(e){return Ce(e)?e():e}function Ce(e){return"function"==typeof e&&e.hasOwnProperty(be)&&e.__forward_ref__===we}const _e="undefined"!=typeof globalThis&&globalThis,Se="undefined"!=typeof window&&window,Ee="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,De="undefined"!=typeof global&&global,ke=_e||De||Se||Ee,Ie=se({\u0275cmp:se}),Te=se({\u0275dir:se}),Ae=se({\u0275pipe:se}),Oe=se({\u0275mod:se}),Fe=se({\u0275loc:se}),Be=se({\u0275fac:se}),Me=se({__NG_ELEMENT_ID__:se});class Pe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ae({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const Le=new Pe("INJECTOR",-1),Ne={},Re=/\n/gm,Ue=se({provide:String,useValue:se});let ze,Ve=void 0;function je(e){const t=Ve;return Ve=e,t}function He(e){const t=ze;return ze=e,t}function We(e,t=re.Default){if(void 0===Ve)throw new Error("inject() must be called from an injection context");return null===Ve?$e(e,void 0,t):Ve.get(e,t&re.Optional?null:void 0,t)}function Ge(e,t=re.Default){return(ze||We)(xe(e),t)}const qe=Ge;function $e(e,t,i){const n=ue(e);if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(i&re.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${ye(e)}]`)}function Ze(e){const t=[];for(let i=0;i<e.length;i++){const n=xe(e[i]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");let e=void 0,i=re.Default;for(let t=0;t<n.length;t++){const r=n[t];r instanceof te||"Optional"===r.ngMetadataName||r===te?i|=re.Optional:r instanceof ne||"SkipSelf"===r.ngMetadataName||r===ne?i|=re.SkipSelf:r instanceof ie||"Self"===r.ngMetadataName||r===ie?i|=re.Self:e=r instanceof ee||r===ee?r.token:r}t.push(Ge(e,i))}else t.push(Ge(n))}return t}class Xe{get(e,t=Ne){if(t===Ne){const t=new Error(`NullInjectorError: No provider for ${ye(e)}!`);throw t.name="NullInjectorError",t}return t}}class Ye{}class Ke{}function Je(e,t){e.forEach(e=>Array.isArray(e)?Je(e,t):t(e))}function Qe(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function et(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function tt(e,t){const i=[];for(let n=0;n<e;n++)i.push(t);return i}function it(e,t,i){let n=rt(e,t);return n>=0?e[1|n]=i:(n=~n,function(e,t,i,n){let r=e.length;if(r==t)e.push(i,n);else if(1===r)e.push(n,e[0]),e[0]=i;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=i,e[t+1]=n}}(e,n,t,i)),n}function nt(e,t){const i=rt(e,t);if(i>=0)return e[1|i]}function rt(e,t){return function(e,t,i){let n=0,r=e.length>>1;for(;r!==n;){const i=n+(r-n>>1),s=e[i<<1];if(t===s)return i<<1;s>t?r=i:n=i+1}return~(r<<1)}(e,t)}var st=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),ot=function(e){return e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const at={},lt=[];let ut=0;function ct(e){return J(()=>{const t={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===st.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||lt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ot.Emulated,id:"c",styles:e.styles||lt,_:null,setInput:null,schemas:e.schemas||null,tView:null},n=e.directives,r=e.features,s=e.pipes;return i.id+=ut++,i.inputs=mt(e.inputs,t),i.outputs=mt(e.outputs),r&&r.forEach(e=>e(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(ht):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(dt):null,i})}function ht(e){return vt(e)||function(e){return e[Te]||null}(e)}function dt(e){return function(e){return e[Ae]||null}(e)}const pt={};function ft(e){const t={type:e.type,bootstrap:e.bootstrap||lt,declarations:e.declarations||lt,imports:e.imports||lt,exports:e.exports||lt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&J(()=>{pt[e.id]=e.type}),t}function mt(e,t){if(null==e)return at;const i={};for(const n in e)if(e.hasOwnProperty(n)){let r=e[n],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),i[r]=n,t&&(t[r]=s)}return i}const gt=ct;function yt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function vt(e){return e[Ie]||null}function bt(e,t){return e.hasOwnProperty(Be)?e[Be]:null}function wt(e,t){const i=e[Oe]||null;if(!i&&!0===t)throw new Error(`Type ${ye(e)} does not have '\u0275mod' property.`);return i}function xt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ct(e){return Array.isArray(e)&&!0===e[1]}function _t(e){return 0!=(8&e.flags)}function St(e){return 2==(2&e.flags)}function Et(e){return 1==(1&e.flags)}function Dt(e){return null!==e.template}function kt(e){return 0!=(512&e[2])}class It{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Tt(){return At}function At(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ft),Ot}function Ot(){const e=Bt(this),t=null==e?void 0:e.current;if(t){const i=e.previous;if(i===at)e.previous=t;else for(let e in t)i[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Ft(e,t,i,n){const r=Bt(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:at,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[i],l=o[a];s[a]=new It(l&&l.currentValue,t,o===at),e[n]=t}function Bt(e){return e.__ngSimpleChanges__||null}Tt.ngInherit=!0;let Mt=void 0;function Pt(e){return!!e.listen}const Lt={createRenderer:(e,t)=>void 0!==Mt?Mt:"undefined"!=typeof document?document:void 0};function Nt(e){for(;Array.isArray(e);)e=e[0];return e}function Rt(e,t){return Nt(t[e+20])}function Ut(e,t){return Nt(t[e.index])}function zt(e,t){return e.data[t+20]}function Vt(e,t){return e[t+20]}function jt(e,t){const i=t[e];return xt(i)?i:i[0]}function Ht(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Wt(e){return 4==(4&e[2])}function Gt(e){return 128==(128&e[2])}function qt(e,t){return null===e||null==t?null:e[t]}function $t(e){e[18]=0}function Zt(e,t){e[5]+=t;let i=e,n=e[3];for(;null!==n&&(1===t&&1===i[5]||-1===t&&0===i[5]);)n[5]+=t,i=n,n=n[3]}const Xt={lFrame:yi(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Yt(){return Xt.bindingsEnabled}function Kt(){return Xt.lFrame.lView}function Jt(){return Xt.lFrame.tView}function Qt(e){Xt.lFrame.contextLView=e}function ei(){return Xt.lFrame.previousOrParentTNode}function ti(e,t){Xt.lFrame.previousOrParentTNode=e,Xt.lFrame.isParent=t}function ii(){return Xt.lFrame.isParent}function ni(){Xt.lFrame.isParent=!1}function ri(){return Xt.checkNoChangesMode}function si(e){Xt.checkNoChangesMode=e}function oi(){const e=Xt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ai(){return Xt.lFrame.bindingIndex}function li(){return Xt.lFrame.bindingIndex++}function ui(e){const t=Xt.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function ci(e,t){const i=Xt.lFrame;i.bindingIndex=i.bindingRootIndex=e,hi(t)}function hi(e){Xt.lFrame.currentDirectiveIndex=e}function di(){return Xt.lFrame.currentQueryIndex}function pi(e){Xt.lFrame.currentQueryIndex=e}function fi(e,t){const i=gi();Xt.lFrame=i,i.previousOrParentTNode=t,i.lView=e}function mi(e,t){const i=gi(),n=e[1];Xt.lFrame=i,i.previousOrParentTNode=t,i.lView=e,i.tView=n,i.contextLView=e,i.bindingIndex=n.bindingStartIndex}function gi(){const e=Xt.lFrame,t=null===e?null:e.child;return null===t?yi(e):t}function yi(e){const t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function vi(){const e=Xt.lFrame;return Xt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}const bi=vi;function wi(){const e=vi();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function xi(){return Xt.lFrame.selectedIndex}function Ci(e){Xt.lFrame.selectedIndex=e}function _i(){const e=Xt.lFrame;return zt(e.tView,e.selectedIndex)}function Si(){Xt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Ei(){Xt.lFrame.currentNamespace=null}function Di(e,t){for(let i=t.directiveStart,n=t.directiveEnd;i<n;i++){const t=e.data[i].type.prototype,{ngAfterContentInit:n,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;n&&(e.contentHooks||(e.contentHooks=[])).push(-i,n),r&&((e.contentHooks||(e.contentHooks=[])).push(i,r),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(i,r)),s&&(e.viewHooks||(e.viewHooks=[])).push(-i,s),o&&((e.viewHooks||(e.viewHooks=[])).push(i,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(i,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(i,a)}}function ki(e,t,i){Ai(e,t,3,i)}function Ii(e,t,i,n){(3&e[2])===i&&Ai(e,t,i,n)}function Ti(e,t){let i=e[2];(3&i)===t&&(i&=2047,i+=1,e[2]=i)}function Ai(e,t,i,n){const r=null!=n?n:-1;let s=0;for(let o=void 0!==n?65535&e[18]:0;o<t.length;o++)if("number"==typeof t[o+1]){if(s=t[o],null!=n&&s>=n)break}else t[o]<0&&(e[18]+=65536),(s<r||-1==r)&&(Oi(e,i,t,o),e[18]=(4294901760&e[18])+o+2),o++}function Oi(e,t,i,n){const r=i[n]<0,s=i[n+1],o=e[r?-i[n]:i[n]];r?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,s.call(o)):s.call(o)}class Fi{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Bi(e,t,i){const n=Pt(e);let r=0;for(;r<i.length;){const s=i[r];if("number"==typeof s){if(0!==s)break;r++;const o=i[r++],a=i[r++],l=i[r++];n?e.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=i[++r];Pi(o)?n&&e.setProperty(t,o,a):n?e.setAttribute(t,o,a):t.setAttribute(o,a),r++}}return r}function Mi(e){return 3===e||4===e||6===e}function Pi(e){return 64===e.charCodeAt(0)}function Li(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let n=0;n<t.length;n++){const r=t[n];"number"==typeof r?i=r:0===i||Ni(e,i,r,null,-1===i||2===i?t[++n]:null)}}return e}function Ni(e,t,i,n,r){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const i=e[s++];if("number"==typeof i){if(i===t){o=-1;break}if(i>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===i){if(null===n)return void(null!==r&&(e[s+1]=r));if(n===e[s+1])return void(e[s+2]=r)}s++,null!==n&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,i),null!==n&&e.splice(s++,0,n),null!==r&&e.splice(s++,0,r)}function Ri(e){return-1!==e}function Ui(e){return 32767&e}function zi(e){return e>>16}function Vi(e,t){let i=zi(e),n=t;for(;i>0;)n=n[15],i--;return n}function ji(e){return"string"==typeof e?e:null==e?"":""+e}function Hi(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ji(e)}const Wi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ke))();function Gi(e){return{name:"document",target:e.ownerDocument}}function qi(e){return e instanceof Function?e():e}let $i=!0;function Zi(e){const t=$i;return $i=e,t}let Xi=0;function Yi(e,t){const i=Ji(e,t);if(-1!==i)return i;const n=t[1];n.firstCreatePass&&(e.injectorIndex=t.length,Ki(n.data,e),Ki(t,null),Ki(n.blueprint,null));const r=Qi(e,t),s=e.injectorIndex;if(Ri(r)){const e=Ui(r),i=Vi(r,t),n=i[1].data;for(let r=0;r<8;r++)t[s+r]=i[e+r]|n[e+r]}return t[s+8]=r,s}function Ki(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ji(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Qi(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=t[6],n=1;for(;i&&-1===i.injectorIndex;)i=(t=t[15])?t[6]:null,n++;return i?i.injectorIndex|n<<16:-1}function en(e,t,i){!function(e,t,i){let n;"string"==typeof i?n=i.charCodeAt(0)||0:i.hasOwnProperty(Me)&&(n=i[Me]),null==n&&(n=i[Me]=Xi++);const r=255&n,s=1<<r,o=64&r,a=32&r,l=t.data;128&r?o?a?l[e+7]|=s:l[e+6]|=s:a?l[e+5]|=s:l[e+4]|=s:o?a?l[e+3]|=s:l[e+2]|=s:a?l[e+1]|=s:l[e]|=s}(e,t,i)}function tn(e,t,i,n=re.Default,r){if(null!==e){const r=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Me)?e[Me]:void 0;return"number"==typeof t&&t>0?255&t:t}(i);if("function"==typeof r){fi(t,e);try{const e=r();if(null!=e||n&re.Optional)return e;throw new Error(`No provider for ${Hi(i)}!`)}finally{bi()}}else if("number"==typeof r){if(-1===r)return new un(e,t);let s=null,o=Ji(e,t),a=-1,l=n&re.Host?t[16][6]:null;for((-1===o||n&re.SkipSelf)&&(a=-1===o?Qi(e,t):t[o+8],ln(n,!1)?(s=t[1],o=Ui(a),t=Vi(a,t)):o=-1);-1!==o;){a=t[o+8];const e=t[1];if(an(r,o,e.data)){const e=rn(o,t,i,s,n,l);if(e!==nn)return e}ln(n,t[1].data[o+8]===l)&&an(r,o,t)?(s=e,o=Ui(a),t=Vi(a,t)):o=-1}}}if(n&re.Optional&&void 0===r&&(r=null),0==(n&(re.Self|re.Host))){const e=t[9],s=He(void 0);try{return e?e.get(i,r,n&re.Optional):$e(i,r,n&re.Optional)}finally{He(s)}}if(n&re.Optional)return r;throw new Error(`NodeInjector: NOT_FOUND [${Hi(i)}]`)}const nn={};function rn(e,t,i,n,r,s){const o=t[1],a=o.data[e+8],l=sn(a,o,i,null==n?St(a)&&$i:n!=o&&3===a.type,r&re.Host&&s===a);return null!==l?on(t,o,l,a):nn}function sn(e,t,i,n,r){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,u=s>>20,c=r?a+u:e.directiveEnd;for(let h=n?a:a+u;h<c;h++){const e=o[h];if(h<l&&i===e||h>=l&&e.type===i)return h}if(r){const e=o[l];if(e&&Dt(e)&&e.type===i)return l}return null}function on(e,t,i,n){let r=e[i];const s=t.data;if(r instanceof Fi){const o=r;if(o.resolving)throw new Error("Circular dep for "+Hi(s[i]));const a=Zi(o.canSeeViewProviders);let l;o.resolving=!0,o.injectImpl&&(l=He(o.injectImpl)),fi(e,n);try{r=e[i]=o.factory(void 0,s,e,n),t.firstCreatePass&&i>=n.directiveStart&&function(e,t,i){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(n){const n=At(t);(i.preOrderHooks||(i.preOrderHooks=[])).push(e,n),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,n)}r&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-e,r),s&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e,s),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,s))}(i,s[i],t)}finally{o.injectImpl&&He(l),Zi(a),o.resolving=!1,bi()}}return r}function an(e,t,i){const n=64&e,r=32&e;let s;return s=128&e?n?r?i[t+7]:i[t+6]:r?i[t+5]:i[t+4]:n?r?i[t+3]:i[t+2]:r?i[t+1]:i[t],!!(s&1<<e)}function ln(e,t){return!(e&re.Self||e&re.Host&&t)}class un{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return tn(this._tNode,this._lView,e,void 0,t)}}function cn(e){const t=e;if(Ce(e))return()=>{const e=cn(xe(t));return e?e():null};let i=bt(t);if(null===i){const e=he(t);i=e&&e.factory}return i||null}function hn(e){return J(()=>{const t=e.prototype.constructor,i=t[Be]||cn(t),n=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==n;){const e=r[Be]||cn(r);if(e&&e!==i)return e;r=Object.getPrototypeOf(r)}return e=>new e})}function dn(e){return e.ngDebugContext}function pn(e){return e.ngOriginalError}function fn(e,...t){e.error(...t)}class mn{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=this._findContext(e),n=function(e){return e.ngErrorLogger||fn}(e);n(this._console,"ERROR",e),t&&n(this._console,"ORIGINAL ERROR",t),i&&n(this._console,"ERROR CONTEXT",i)}_findContext(e){return e?dn(e)?dn(e):this._findContext(pn(e)):null}_findOriginalError(e){let t=pn(e);for(;t&&pn(t);)t=pn(t);return t}}class gn{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}function yn(e){return e instanceof gn?e.changingThisBreaksApplicationSecurity:e}let vn=!0,bn=!1;function wn(){return bn=!0,vn}const xn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Cn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var _n=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function Sn(e){const t=function(){const e=Kt();return e&&e[12]}();return t?t.sanitize(_n.URL,e)||"":function(e,t){const i=function(e){return e instanceof gn&&e.getTypeName()||null}(e);if(null!=i&&i!==t){if("ResourceURL"===i&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${i} (see http://g.co/ng/security#xss)`)}return i===t}(e,"URL")?yn(e):(i=ji(e),(i=String(i)).match(xn)||i.match(Cn)?i:(wn()&&console.warn(`WARNING: sanitizing unsafe URL value ${i} (see http://g.co/ng/security#xss)`),"unsafe:"+i));var i}function En(e,t){e.__ngContext__=t}function Dn(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function kn(){throw new Error("Cannot mix multi providers and regular providers")}function In(e,t,i){let n=e.length;for(;;){const r=e.indexOf(t,i);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const i=t.length;if(r+i===n||e.charCodeAt(r+i)<=32)return r}i=r+1}}function Tn(e,t,i){let n=0;for(;n<e.length;){let r=e[n++];if(i&&"class"===r){if(r=e[n],-1!==In(r.toLowerCase(),t,0))return!0}else if(1===r){for(;n<e.length&&"string"==typeof(r=e[n++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function An(e){return 0===e.type&&"ng-template"!==e.tagName}function On(e,t,i){return t===(0!==e.type||i?e.tagName:"ng-template")}function Fn(e,t,i){let n=4;const r=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(Mi(e[t]))return t;return e.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!On(e,l,i)||""===l&&1===t.length){if(Bn(n))return!1;o=!0}}else{const u=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!Tn(e.attrs,u,i)){if(Bn(n))return!1;o=!0}continue}const c=Mn(8&n?"class":l,r,An(e),i);if(-1===c){if(Bn(n))return!1;o=!0;continue}if(""!==u){let e;e=c>s?"":r[c+1].toLowerCase();const t=8&n?e:null;if(t&&-1!==In(t,u,0)||2&n&&u!==e){if(Bn(n))return!1;o=!0}}}}else{if(!o&&!Bn(n)&&!Bn(l))return!1;if(o&&Bn(l))continue;o=!1,n=l|1&n}}return Bn(n)||o}function Bn(e){return 0==(1&e)}function Mn(e,t,i,n){if(null===t)return-1;let r=0;if(n||!i){let i=!1;for(;r<t.length;){const n=t[r];if(n===e)return r;if(3===n||6===n)i=!0;else{if(1===n||2===n){let e=t[++r];for(;"string"==typeof e;)e=t[++r];continue}if(4===n)break;if(0===n){r+=4;continue}}r+=i?1:2}return-1}return function(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const n=e[i];if("number"==typeof n)return-1;if(n===t)return i;i++}return-1}(t,e)}function Pn(e,t,i=!1){for(let n=0;n<t.length;n++)if(Fn(e,t[n],i))return!0;return!1}function Ln(e,t){e:for(let i=0;i<t.length;i++){const n=t[i];if(e.length===n.length){for(let t=0;t<e.length;t++)if(e[t]!==n[t])continue e;return!0}}return!1}function Nn(e,t){return e?":not("+t.trim()+")":t}function Rn(e){let t=e[0],i=1,n=2,r="",s=!1;for(;i<e.length;){let o=e[i];if("string"==typeof o)if(2&n){const t=e[++i];r+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&n?r+="."+o:4&n&&(r+=" "+o);else""===r||Bn(o)||(t+=Nn(s,r),r=""),n=o,s=s||!Bn(n);i++}return""!==r&&(t+=Nn(s,r)),t}const Un={};function zn(e){const t=e[3];return Ct(t)?t[3]:t}function Vn(e){return Hn(e[13])}function jn(e){return Hn(e[4])}function Hn(e){for(;null!==e&&!Ct(e);)e=e[4];return e}function Wn(e){Gn(Jt(),Kt(),xi()+e,ri())}function Gn(e,t,i,n){if(!n)if(3==(3&t[2])){const n=e.preOrderCheckHooks;null!==n&&ki(t,n,i)}else{const n=e.preOrderHooks;null!==n&&Ii(t,n,0,i)}Ci(i)}function qn(e,t){return e<<17|t<<2}function $n(e){return e>>17&32767}function Zn(e){return 2|e}function Xn(e){return(131068&e)>>2}function Yn(e,t){return-131069&e|t<<2}function Kn(e){return 1|e}function Jn(e,t){const i=e.contentQueries;if(null!==i)for(let n=0;n<i.length;n+=2){const r=i[n],s=i[n+1];if(-1!==s){const i=e.data[s];pi(r),i.contentQueries(2,t[s],s)}}}function Qn(e,t,i){return Pt(t)?t.createElement(e,i):null===i?t.createElement(e):t.createElementNS(i,e)}function er(e,t,i,n,r,s,o,a,l,u){const c=t.blueprint.slice();return c[0]=r,c[2]=140|n,$t(c),c[3]=c[15]=e,c[8]=i,c[10]=o||e&&e[10],c[11]=a||e&&e[11],c[12]=l||e&&e[12]||null,c[9]=u||e&&e[9]||null,c[6]=s,c[16]=2==t.type?e[16]:c,c}function tr(e,t,i,n,r,s){const o=i+20,a=e.data[o]||function(e,t,i,n,r,s){const o=ei(),a=ii(),l=a?o:o&&o.parent,u=e.data[i]=dr(0,l&&l!==t?l:null,n,i,r,s);return null===e.firstChild&&(e.firstChild=u),o&&(!a||null!=o.child||null===u.parent&&2!==o.type?a||(o.next=u):o.child=u),u}(e,t,o,n,r,s);return ti(a,!0),a}function ir(e,t,i){mi(t,t[6]);try{const n=e.viewQuery;null!==n&&Mr(1,n,i);const r=e.template;null!==r&&sr(e,t,r,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Jn(e,t),e.staticViewQueries&&Mr(2,e.viewQuery,i);const s=e.components;null!==s&&function(e,t){for(let i=0;i<t.length;i++)Tr(e,t[i])}(t,s)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),n}finally{t[2]&=-5,wi()}}function nr(e,t,i,n){const r=t[2];if(256==(256&r))return;mi(t,t[6]);const s=ri();try{$t(t),Xt.lFrame.bindingIndex=e.bindingStartIndex,null!==i&&sr(e,t,i,2,n);const o=3==(3&r);if(!s)if(o){const i=e.preOrderCheckHooks;null!==i&&ki(t,i,null)}else{const i=e.preOrderHooks;null!==i&&Ii(t,i,0,null),Ti(t,0)}if(function(e){for(let t=Vn(e);null!==t;t=jn(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const i=e[t],n=i[3];0==(1024&i[2])&&Zt(n,1),i[2]|=1024}}}(t),function(e){for(let t=Vn(e);null!==t;t=jn(t))for(let e=10;e<t.length;e++){const i=t[e],n=i[1];Gt(i)&&nr(n,i,n.template,i[8])}}(t),null!==e.contentQueries&&Jn(e,t),!s)if(o){const i=e.contentCheckHooks;null!==i&&ki(t,i)}else{const i=e.contentHooks;null!==i&&Ii(t,i,1),Ti(t,1)}!function(e,t){try{const i=e.expandoInstructions;if(null!==i){let n=e.expandoStartIndex,r=-1,s=-1;for(let e=0;e<i.length;e++){const o=i[e];"number"==typeof o?o<=0?(s=0-o,Ci(s),n+=9+i[++e],r=n):n+=o:(null!==o&&(ci(n,r),o(2,t[r])),r++)}}}finally{Ci(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let i=0;i<t.length;i++)Ir(e,t[i])}(t,a);const l=e.viewQuery;if(null!==l&&Mr(2,l,n),!s)if(o){const i=e.viewCheckHooks;null!==i&&ki(t,i)}else{const i=e.viewHooks;null!==i&&Ii(t,i,2),Ti(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Zt(t[3],-1))}finally{wi()}}function rr(e,t,i,n){const r=t[10],s=!ri(),o=Wt(t);try{s&&!o&&r.begin&&r.begin(),o&&ir(e,t,n),nr(e,t,i,n)}finally{s&&!o&&r.end&&r.end()}}function sr(e,t,i,n,r){const s=xi();try{Ci(-1),2&n&&t.length>20&&Gn(e,t,0,ri()),i(n,r)}finally{Ci(s)}}function or(e,t,i){if(_t(t)){const n=t.directiveEnd;for(let r=t.directiveStart;r<n;r++){const t=e.data[r];t.contentQueries&&t.contentQueries(1,i[r],r)}}}function ar(e,t,i){Yt()&&(function(e,t,i,n){const r=i.directiveStart,s=i.directiveEnd;e.firstCreatePass||Yi(i,t),En(n,t);const o=i.initialInputs;for(let a=r;a<s;a++){const n=e.data[a],s=Dt(n);s&&Sr(t,i,n);const l=on(t,e,a,i);En(l,t),null!==o&&Er(0,a-r,l,n,0,o),s&&(jt(i.index,t)[8]=l)}}(e,t,i,Ut(i,t)),128==(128&i.flags)&&function(e,t,i){const n=i.directiveStart,r=i.directiveEnd,s=e.expandoInstructions,o=e.firstCreatePass,a=i.index-20,l=Xt.lFrame.currentDirectiveIndex;try{Ci(a);for(let i=n;i<r;i++){const n=e.data[i],r=t[i];hi(i),null!==n.hostBindings||0!==n.hostVars||null!==n.hostAttrs?vr(n,r):o&&s.push(null)}}finally{Ci(-1),hi(l)}}(e,t,i))}function lr(e,t,i=Ut){const n=t.localNames;if(null!==n){let r=t.index+1;for(let s=0;s<n.length;s+=2){const o=n[s+1],a=-1===o?i(t,e):e[o];e[r++]=a}}}function ur(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=cr(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function cr(e,t,i,n,r,s,o,a,l,u){const c=20+n,h=c+r,d=function(e,t){const i=[];for(let n=0;n<t;n++)i.push(n<e?null:Un);return i}(c,h);return d[1]={type:e,id:t,blueprint:d,template:i,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:u,incompleteFirstPass:!1}}function hr(e,t,i,n){const r=Lr(t);r.push(i),e.firstCreatePass&&function(e){return e.cleanup||(e.cleanup=[])}(e).push(n,r.length-1)}function dr(e,t,i,n,r,s){return{type:i,index:n,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function pr(e,t,i){for(let n in e)if(e.hasOwnProperty(n)){const r=e[n];(i=null===i?{}:i).hasOwnProperty(n)?i[n].push(t,r):i[n]=[t,r]}return i}function fr(e,t,i,n,r,s,o,a){const l=Ut(t,i);let u,c=t.inputs;var h;!a&&null!=c&&(u=c[n])?(Rr(e,i,u,n,r),St(t)&&function(e,t){const i=jt(t,e);16&i[2]||(i[2]|=64)}(i,t.index)):3===t.type&&(n="class"===(h=n)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,r=null!=o?o(r,t.tagName||"",n):r,Pt(s)?s.setProperty(l,n,r):Pi(n)||(l.setProperty?l.setProperty(n,r):l[n]=r))}function mr(e,t,i,n){let r=!1;if(Yt()){const s=function(e,t,i){const n=e.directiveRegistry;let r=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];Pn(i,o.selectors,!1)&&(r||(r=[]),en(Yi(i,t),e,o.type),Dt(o)?(2&i.flags&&Dn(i),wr(e,i),r.unshift(o)):r.push(o))}return r}(e,t,i),o=null===n?null:{"":-1};if(null!==s){let n=0;r=!0,Cr(i,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}br(e,i,s.length);let a=!1,l=!1;for(let r=0;r<s.length;r++){const u=s[r];i.mergedAttrs=Li(i.mergedAttrs,u.hostAttrs),_r(e,t,u),xr(e.data.length-1,u,o),null!==u.contentQueries&&(i.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(i.flags|=128);const c=u.type.prototype;!a&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i.index-20),a=!0),l||!c.ngOnChanges&&!c.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i.index-20),l=!0),gr(e,u),n+=u.hostVars}!function(e,t){const i=t.directiveEnd,n=e.data,r=t.attrs,s=[];let o=null,a=null;for(let l=t.directiveStart;l<i;l++){const e=n[l],i=e.inputs,u=null===r||An(t)?null:Dr(i,r);s.push(u),o=pr(i,l,o),a=pr(e.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,i),yr(e,t,n)}o&&function(e,t,i){if(t){const n=e.localNames=[];for(let e=0;e<t.length;e+=2){const r=i[t[e+1]];if(null==r)throw new Error(`Export of name '${t[e+1]}' not found!`);n.push(t[e],r)}}}(i,n,o)}return i.mergedAttrs=Li(i.mergedAttrs,i.attrs),r}function gr(e,t){const i=e.expandoInstructions;i.push(t.hostBindings),0!==t.hostVars&&i.push(t.hostVars)}function yr(e,t,i){for(let n=0;n<i;n++)t.push(Un),e.blueprint.push(Un),e.data.push(null)}function vr(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function br(e,t,i){const n=20-t.index,r=e.data.length-(1048575&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(n,r,i)}function wr(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function xr(e,t,i){if(i){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)i[t.exportAs[n]]=e;Dt(t)&&(i[""]=e)}}function Cr(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}function _r(e,t,i){e.data.push(i);const n=i.factory||(i.factory=bt(i.type)),r=new Fi(n,Dt(i),null);e.blueprint.push(r),t.push(r)}function Sr(e,t,i){const n=Ut(t,e),r=ur(i),s=e[10],o=Ar(e,er(e,r,null,i.onPush?64:16,n,t,s,s.createRenderer(n,i)));e[t.index]=o}function Er(e,t,i,n,r,s){const o=s[t];if(null!==o){const e=n.setInput;for(let t=0;t<o.length;){const r=o[t++],s=o[t++],a=o[t++];null!==e?n.setInput(i,a,r,s):i[s]=a}}}function Dr(e,t){let i=null,n=0;for(;n<t.length;){const r=t[n];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===i&&(i=[]),i.push(r,e[r],t[n+1])),n+=2}else n+=2;else n+=4}return i}function kr(e,t,i,n){return new Array(e,!0,!1,t,null,0,n,i,null,null)}function Ir(e,t){const i=jt(t,e);if(Gt(i)){const e=i[1];80&i[2]?nr(e,i,e.template,i[8]):i[5]>0&&function e(t){for(let n=Vn(t);null!==n;n=jn(n))for(let t=10;t<n.length;t++){const i=n[t];if(1024&i[2]){const e=i[1];nr(e,i,e.template,i[8])}else i[5]>0&&e(i)}const i=t[1].components;if(null!==i)for(let n=0;n<i.length;n++){const r=jt(i[n],t);Gt(r)&&r[5]>0&&e(r)}}(i)}}function Tr(e,t){const i=jt(t,e),n=i[1];!function(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}(n,i),ir(n,i,i[8])}function Ar(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Or(e){for(;e;){e[2]|=64;const t=zn(e);if(kt(e)&&!t)return e;e=t}return null}function Fr(e,t,i){const n=t[10];n.begin&&n.begin();try{nr(e,t,e.template,i)}catch(r){throw Nr(t,r),r}finally{n.end&&n.end()}}function Br(e){!function(e){for(let t=0;t<e.components.length;t++){const i=e.components[t],n=Ht(i),r=n[1];rr(r,n,r.template,i)}}(e[8])}function Mr(e,t,i){pi(0),t(e,i)}const Pr=(()=>Promise.resolve(null))();function Lr(e){return e[7]||(e[7]=[])}function Nr(e,t){const i=e[9],n=i?i.get(mn,null):null;n&&n.handleError(t)}function Rr(e,t,i,n,r){for(let s=0;s<i.length;){const o=i[s++],a=i[s++],l=t[o],u=e.data[o];null!==u.setInput?u.setInput(l,r,n,a):l[a]=r}}function Ur(e,t,i){const n=Rt(t,e),r=e[11];Pt(r)?r.setValue(n,i):n.textContent=i}function zr(e,t){const i=t[3];return-1===e.index?Ct(i)?i:null:i}function Vr(e,t){const i=zr(e,t);return i?Qr(t[11],i[7]):null}function jr(e,t,i,n,r){if(null!=n){let s,o=!1;Ct(n)?s=n:xt(n)&&(o=!0,n=n[0]);const a=Nt(n);0===e&&null!==i?null==r?Kr(t,i,a):Yr(t,i,a,r||null):1===e&&null!==i?Yr(t,i,a,r||null):2===e?function(e,t,i){const n=Qr(e,t);n&&function(e,t,i,n){Pt(e)?e.removeChild(t,i,n):t.removeChild(i)}(e,n,t,i)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,i,n,r){const s=i[7];s!==Nt(i)&&jr(t,e,n,s,r);for(let o=10;o<i.length;o++){const r=i[o];rs(r[1],r,e,t,n,s)}}(t,e,s,i,r)}}function Hr(e,t,i,n){const r=Vr(e.node,t);r&&rs(e,t,t[11],i?1:2,r,n)}function Wr(e,t){const i=e[9],n=i.indexOf(t);1024&t[2]&&Zt(t[3],-1),i.splice(n,1)}function Gr(e,t){if(e.length<=10)return;const i=10+t,n=e[i];if(n){const r=n[17];null!==r&&r!==e&&Wr(r,n),t>0&&(e[i-1][4]=n[4]);const s=et(e,10+t);Hr(n[1],n,!1,null);const o=s[19];null!==o&&o.detachView(s[1]),n[3]=null,n[4]=null,n[2]&=-129}return n}function qr(e,t){if(!(256&t[2])){const i=t[11];Pt(i)&&i.destroyNode&&rs(e,t,i,3,null,null),function(e){let t=e[13];if(!t)return Zr(e[1],e);for(;t;){let i=null;if(xt(t))i=t[13];else{const e=t[10];e&&(i=e)}if(!i){for(;t&&!t[4]&&t!==e;)xt(t)&&Zr(t[1],t),t=$r(t,e);null===t&&(t=e),xt(t)&&Zr(t[1],t),i=t&&t[4]}t=i}}(t)}}function $r(e,t){let i;return xt(e)&&(i=e[6])&&2===i.type?zr(i,e):e[3]===t?null:e[3]}function Zr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let n=0;n<i.length;n+=2){const e=t[i[n]];if(!(e instanceof Fi)){const t=i[n+1];if(Array.isArray(t))for(let i=0;i<t.length;i+=2)t[i+1].call(e[t[i]]);else t.call(e)}}}(e,t),function(e,t){const i=e.cleanup;if(null!==i){const e=t[7];for(let n=0;n<i.length-1;n+=2)if("string"==typeof i[n]){const r=i[n+1],s="function"==typeof r?r(t):Nt(t[r]),o=e[i[n+2]],a=i[n+3];"boolean"==typeof a?s.removeEventListener(i[n],o,a):a>=0?e[a]():e[-a].unsubscribe(),n+=2}else i[n].call(e[i[n+1]]);t[7]=null}}(e,t);const i=t[6];i&&3===i.type&&Pt(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Ct(t[3])){n!==t[3]&&Wr(n,t);const i=t[19];null!==i&&i.detachView(e)}}}function Xr(e,t,i){let n=t.parent;for(;null!=n&&(4===n.type||5===n.type);)n=(t=n).parent;if(null==n){const e=i[6];return 2===e.type?Vr(e,i):i[0]}if(t&&5===t.type&&4&t.flags)return Ut(t,i).parentNode;if(2&n.flags){const t=e.data,i=t[t[n.index].directiveStart].encapsulation;if(i!==ot.ShadowDom&&i!==ot.Native)return null}return Ut(n,i)}function Yr(e,t,i,n){Pt(e)?e.insertBefore(t,i,n):t.insertBefore(i,n,!0)}function Kr(e,t,i){Pt(e)?e.appendChild(t,i):t.appendChild(i)}function Jr(e,t,i,n){null!==n?Yr(e,t,i,n):Kr(e,t,i)}function Qr(e,t){return Pt(e)?e.parentNode(t):t.parentNode}function es(e,t){if(2===e.type){const i=zr(e,t);return null===i?null:is(i.indexOf(t,10)-10,i)}return 4===e.type||5===e.type?Ut(e,t):null}function ts(e,t,i,n){const r=Xr(e,n,t);if(null!=r){const e=t[11],s=es(n.parent||t[6],t);if(Array.isArray(i))for(let t=0;t<i.length;t++)Jr(e,r,i[t],s);else Jr(e,r,i,s)}}function is(e,t){const i=10+e+1;if(i<t.length){const e=t[i],n=e[1].firstChild;if(null!==n)return function e(t,i){if(null!==i){const n=i.type;if(3===n)return Ut(i,t);if(0===n)return is(-1,t[i.index]);if(4===n||5===n){const n=i.child;if(null!==n)return e(t,n);{const e=t[i.index];return Ct(e)?is(-1,e):Nt(e)}}{const n=t[16],r=n[6],s=zn(n),o=r.projection[i.projection];return null!=o?e(s,o):e(t,i.next)}}return null}(e,n)}return t[7]}function ns(e,t,i,n,r,s,o){for(;null!=i;){const a=n[i.index],l=i.type;o&&0===t&&(a&&En(Nt(a),n),i.flags|=4),64!=(64&i.flags)&&(4===l||5===l?(ns(e,t,i.child,n,r,s,!1),jr(t,e,r,a,s)):1===l?ss(e,t,n,i,r,s):jr(t,e,r,a,s)),i=o?i.projectionNext:i.next}}function rs(e,t,i,n,r,s){ns(i,n,e.node.child,t,r,s,!1)}function ss(e,t,i,n,r,s){const o=i[16],a=o[6].projection[n.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)jr(t,e,r,a[l],s);else ns(e,t,a,o[3],r,s,!0)}function os(e,t,i){Pt(e)?e.setAttribute(t,"style",i):t.style.cssText=i}function as(e,t,i){Pt(e)?""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i):t.className=i}class ls{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const e=this._lView;return null==e[0]?function e(t,i,n,r,s=!1){for(;null!==n;){const o=i[n.index];if(null!==o&&r.push(Nt(o)),Ct(o))for(let t=10;t<o.length;t++){const i=o[t],n=i[1].firstChild;null!==n&&e(i[1],i,n,r)}const a=n.type;if(4===a||5===a)e(t,i,n.child,r);else if(1===a){const t=i[16],s=t[6].projection[n.projection];if(Array.isArray(s))r.push(...s);else{const i=zn(t);e(i[1],i,s,r,!0)}}n=s?n.projectionNext:n.next}return r}(e[1],e,e[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}qr(this._lView[1],this._lView)}onDestroy(e){hr(this._lView[1],this._lView,null,e)}markForCheck(){Or(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Fr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,i){si(!0);try{Fr(e,t,i)}finally{si(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){var e;this._appRef=null,rs(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class us extends ls{constructor(e){super(e),this._view=e}detectChanges(){Br(this._view)}checkNoChanges(){!function(e){si(!0);try{Br(e)}finally{si(!1)}}(this._view)}get context(){return null}}let cs,hs,ds;function ps(e,t,i){return cs||(cs=class extends e{}),new cs(Ut(t,i))}function fs(e,t,i,n){return hs||(hs=class extends e{constructor(e,t,i){super(),this._declarationView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=er(this._declarationView,t,e,16,null,t.node);i[17]=this._declarationView[this._declarationTContainer.index];const n=this._declarationView[19];return null!==n&&(i[19]=n.createEmbeddedView(t)),ir(t,i,e),new ls(i)}}),0===i.type?new hs(n,i,ps(t,i,n)):null}function ms(e,t,i,n){let r;ds||(ds=class extends e{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostView=i}get element(){return ps(t,this._hostTNode,this._hostView)}get injector(){return new un(this._hostTNode,this._hostView)}get parentInjector(){const e=Qi(this._hostTNode,this._hostView),t=Vi(e,this._hostView),i=function(e,t,i){if(i.parent&&-1!==i.parent.injectorIndex){const e=i.parent.injectorIndex;let t=i.parent;for(;null!=t.parent&&e==t.parent.injectorIndex;)t=t.parent;return t}let n=zi(e),r=t,s=t[6];for(;n>1;)r=r[15],s=r[6],n--;return s}(e,this._hostView,this._hostTNode);return Ri(e)&&null!=i?new un(i,t):new un(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const n=e.createEmbeddedView(t||{});return this.insert(n,i),n}createComponent(e,t,i,n,r){const s=i||this.parentInjector;if(!r&&null==e.ngModule&&s){const e=s.get(Ye,null);e&&(r=e)}const o=e.create(s,n,void 0,r);return this.insert(o.hostView,t),o}insert(e,t){const i=e._lView,n=i[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ct(i[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=i[3],n=new ds(t,t[6],t[3]);n.detach(n.indexOf(e))}}const r=this._adjustIndex(t);return function(e,t,i,n){const r=10+n,s=i.length;n>0&&(i[r-1][4]=t),n<s-10?(t[4]=i[r],Qe(i,10+n,t)):(i.push(t),t[4]=null),t[3]=i;const o=t[17];null!==o&&i!==o&&function(e,t){const i=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===i?e[9]=[t]:i.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(n,i,this._lContainer,r),Hr(n,i,!0,is(r,this._lContainer)),e.attachToViewContainerRef(this),Qe(this._lContainer[8],r,e),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}indexOf(e){const t=this._lContainer[8];return null!==t?t.indexOf(e):-1}remove(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1);!function(e,t){const i=Gr(e,t);i&&qr(i[1],i)}(this._lContainer,t),et(this._lContainer[8],t)}detach(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),i=Gr(this._lContainer,t);return i&&null!=et(this._lContainer[8],t)?new ls(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=n[i.index];if(Ct(s))r=s;else{let e;if(4===i.type)e=Nt(s);else if(e=n[11].createComment(""),kt(n)){const t=n[11],r=Ut(i,n);Yr(t,Qr(t,r),e,function(e,t){return Pt(e)?e.nextSibling(t):t.nextSibling}(t,r))}else ts(n[1],n,e,i);n[i.index]=r=kr(s,n,e,i),Ar(n,r)}return new ds(r,i,n)}function gs(e=!1){return function(e,t,i){if(!i&&St(e)){const i=jt(e.index,t);return new ls(i,i)}return 3===e.type||0===e.type||4===e.type||5===e.type?new ls(t[16],t):null}(ei(),Kt(),e)}let ys=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>vs(),e})();const vs=gs,bs=Function,ws=new Pe("Set Injector scope."),xs={},Cs={},_s=[];let Ss=void 0;function Es(){return void 0===Ss&&(Ss=new Xe),Ss}function Ds(e,t=null,i=null,n){return new ks(e,i,t||Es(),n)}class ks{constructor(e,t,i,n=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];t&&Je(t,i=>this.processProvider(i,e,t)),Je([e],e=>this.processInjectorType(e,[],r)),this.records.set(Le,As(void 0,this));const s=this.records.get(ws);this.scope=null!=s?s.value:null,this.source=n||("object"==typeof e?null:ye(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Ne,i=re.Default){this.assertNotDestroyed();const n=je(this);try{if(!(i&re.SkipSelf)){let t=this.records.get(e);if(void 0===t){const i=("function"==typeof(r=e)||"object"==typeof r&&r instanceof Pe)&&ue(e);t=i&&this.injectableDefInScope(i)?As(Is(e),xs):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(i&re.Self?Es():this.parent).get(e,t=i&re.Optional&&t===Ne?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(ye(e)),n)throw s;return function(e,t,i,n){const r=e.ngTempTokenPath;throw t.__source&&r.unshift(t.__source),e.message=function(e,t,i,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let r=ye(t);if(Array.isArray(t))r=t.map(ye).join(" -> ");else if("object"==typeof t){let e=[];for(let i in t)if(t.hasOwnProperty(i)){let n=t[i];e.push(i+":"+("string"==typeof n?JSON.stringify(n):ye(n)))}r=`{${e.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${e.replace(Re,"\n  ")}`}("\n"+e.message,r,i,n),e.ngTokenPath=r,e.ngTempTokenPath=null,e}(s,e,"R3InjectorError",this.source)}throw s}finally{je(n)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,i)=>e.push(ye(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,i){if(!(e=xe(e)))return!1;let n=he(e);const r=null==n&&e.ngModule||void 0,s=void 0===r?e:r,o=-1!==i.indexOf(s);if(void 0!==r&&(n=he(r)),null==n)return!1;if(null!=n.imports&&!o){let e;i.push(s);try{Je(n.imports,n=>{this.processInjectorType(n,t,i)&&(void 0===e&&(e=[]),e.push(n))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:i,providers:n}=e[t];Je(n,e=>this.processProvider(e,i,n||_s))}}this.injectorDefTypes.add(s),this.records.set(s,As(n.factory,xs));const a=n.providers;if(null!=a&&!o){const t=e;Je(a,e=>this.processProvider(e,t,a))}return void 0!==r&&void 0!==e.providers}processProvider(e,t,i){let n=Fs(e=xe(e))?e:xe(e&&e.provide);const r=function(e,t,i){return Os(e)?As(void 0,e.useValue):As(Ts(e,t,i),xs)}(e,t,i);if(Fs(e)||!0!==e.multi){const e=this.records.get(n);e&&void 0!==e.multi&&kn()}else{let t=this.records.get(n);t?void 0===t.multi&&kn():(t=As(void 0,xs,!0),t.factory=()=>Ze(t.multi),this.records.set(n,t)),n=e,t.multi.push(e)}this.records.set(n,r)}hydrate(e,t){var i;return t.value===Cs?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(ye(e)):t.value===xs&&(t.value=Cs,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(i=t.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function Is(e){const t=ue(e),i=null!==t?t.factory:bt(e);if(null!==i)return i;const n=he(e);if(null!==n)return n.factory;if(e instanceof Pe)throw new Error(`Token ${ye(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const i=tt(t,"?");throw new Error(`Can't resolve all parameters for ${ye(e)}: (${i.join(", ")}).`)}const i=function(e){const t=e&&(e[de]||e[me]||e[fe]&&e[fe]());if(t){const i=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),t}return null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new Error("unreachable")}function Ts(e,t,i){let n=void 0;if(Fs(e)){const t=xe(e);return bt(t)||Is(t)}if(Os(e))n=()=>xe(e.useValue);else if((r=e)&&r.useFactory)n=()=>e.useFactory(...Ze(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))n=()=>Ge(xe(e.useExisting));else{const r=xe(e&&(e.useClass||e.provide));if(r||function(e,t,i){let n="";throw e&&t&&(n=` - only instances of Provider and Type are allowed, got: [${t.map(e=>e==i?"?"+i+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${ye(e)}'`+n)}(t,i,e),!function(e){return!!e.deps}(e))return bt(r)||Is(r);n=()=>new r(...Ze(e.deps))}var r;return n}function As(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function Os(e){return null!==e&&"object"==typeof e&&Ue in e}function Fs(e){return"function"==typeof e}const Bs=function(e,t,i){return function(e,t=null,i=null,n){const r=Ds(e,t,i,n);return r._resolveInjectorDefTypes(),r}({name:i},t,e,i)};let Ms=(()=>{class e{static create(e,t){return Array.isArray(e)?Bs(e,t,""):Bs(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Ne,e.NULL=new Xe,e.\u0275prov=ae({token:e,providedIn:"any",factory:()=>Ge(Le)}),e.__NG_ELEMENT_ID__=-1,e})();const Ps=new Pe("AnalyzeForEntryComponents");function Ls(e,t,i){let n=i?e.styles:null,r=i?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?r=ve(r,e):2==s&&(n=ve(n,e+": "+t[++o]+";"))}i?e.styles=n:e.stylesWithoutHost=n,i?e.classes=r:e.classesWithoutHost=r}let Ns=null;function Rs(){if(!Ns){const e=ke.Symbol;if(e&&e.iterator)Ns=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Ns=i)}}}return Ns}class Us{constructor(e){this.wrapped=e}static wrap(e){return new Us(e)}static unwrap(e){return Us.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Us}}function zs(e){return!!Vs(e)&&(Array.isArray(e)||!(e instanceof Map)&&Rs()in e)}function Vs(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function js(e,t,i){return e[t]=i}function Hs(e,t){return e[t]}function Ws(e,t,i){return!Object.is(e[t],i)&&(e[t]=i,!0)}function Gs(e,t,i,n){const r=Ws(e,t,i);return Ws(e,t+1,n)||r}function qs(e,t,i,n,r){const s=Gs(e,t,i,n);return Ws(e,t+2,r)||s}function $s(e,t,i,n,r,s){const o=Gs(e,t,i,n);return Gs(e,t+2,r,s)||o}function Zs(e,t,i,n){const r=Kt();return Ws(r,li(),t)&&(Jt(),function(e,t,i,n,r,s){const o=Ut(e,t),a=t[11];if(null==n)Pt(a)?a.removeAttribute(o,i,s):o.removeAttribute(i);else{const t=null==r?ji(n):r(n,e.tagName||"",i);Pt(a)?a.setAttribute(o,i,t,s):s?o.setAttributeNS(s,i,t):o.setAttribute(i,t)}}(_i(),r,e,t,i,n)),Zs}function Xs(e,t,i,n){return Ws(e,li(),i)?t+ji(i)+n:Un}function Ys(e,t,i,n,r,s,o,a){const l=Kt(),u=Jt(),c=e+20,h=u.firstCreatePass?function(e,t,i,n,r,s,o,a,l){const u=t.consts,c=tr(t,i[6],e,0,o||null,qt(u,a));mr(t,i,c,qt(u,l)),Di(t,c);const h=c.tViews=cr(2,-1,n,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u),d=dr(0,null,2,-1,null,null);return d.injectorIndex=c.injectorIndex,h.node=d,null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(e,u,l,t,i,n,r,s,o):u.data[c];ti(h,!1);const d=l[11].createComment("");ts(u,l,d,h),En(d,l),Ar(l,l[c]=kr(d,l,d,h)),Et(h)&&ar(u,l,h),null!=o&&lr(l,h,a)}function Ks(e){return Vt(Xt.lFrame.contextLView,e)}function Js(e,t=re.Default){const i=Kt();return null==i?Ge(e,t):tn(ei(),i,xe(e),t)}function Qs(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const i=e.attrs;if(i){const e=i.length;let n=0;for(;n<e;){const r=i[n];if(Mi(r))break;if(0===r)n+=2;else if("number"==typeof r)for(n++;n<e&&"string"==typeof i[n];)n++;else{if(r===t)return i[n+1];n+=2}}}return null}(ei(),e)}function eo(e,t,i){const n=Kt();return Ws(n,li(),t)&&fr(Jt(),_i(),n,e,t,n[11],i,!1),eo}function to(e,t,i,n,r){const s=r?"class":"style";Rr(e,i,t.inputs[s],s,n)}function io(e,t,i,n){const r=Kt(),s=Jt(),o=20+e,a=r[11],l=r[o]=Qn(t,a,Xt.lFrame.currentNamespace),u=s.firstCreatePass?function(e,t,i,n,r,s,o){const a=t.consts,l=qt(a,s),u=tr(t,i[6],e,3,r,l);return mr(t,i,u,qt(a,o)),null!==u.attrs&&Ls(u,u.attrs,!1),null!==u.mergedAttrs&&Ls(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(e,s,r,0,t,i,n):s.data[o];ti(u,!0);const c=u.mergedAttrs;null!==c&&Bi(a,l,c);const h=u.classes;null!==h&&as(a,l,h);const d=u.styles;null!==d&&os(a,l,d),ts(s,r,l,u),0===Xt.lFrame.elementDepthCount&&En(l,r),Xt.lFrame.elementDepthCount++,Et(u)&&(ar(s,r,u),or(s,u,r)),null!==n&&lr(r,u)}function no(){let e=ei();ii()?ni():(e=e.parent,ti(e,!1));const t=e;Xt.lFrame.elementDepthCount--;const i=Jt();i.firstCreatePass&&(Di(i,e),_t(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&to(i,t,Kt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&to(i,t,Kt(),t.stylesWithoutHost,!1)}function ro(e,t,i,n){io(e,t,i,n),no()}function so(e,t,i){const n=Kt(),r=Jt(),s=e+20,o=r.firstCreatePass?function(e,t,i,n,r){const s=t.consts,o=qt(s,n),a=tr(t,i[6],e,4,"ng-container",o);return null!==o&&Ls(a,o,!0),mr(t,i,a,qt(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(e,r,n,t,i):r.data[s];ti(o,!0);const a=n[s]=n[11].createComment("");ts(r,n,a,o),En(a,n),Et(o)&&(ar(r,n,o),or(r,o,n)),null!=i&&lr(n,o)}function oo(){let e=ei();const t=Jt();ii()?ni():(e=e.parent,ti(e,!1)),t.firstCreatePass&&(Di(t,e),_t(e)&&t.queries.elementEnd(e))}function ao(e,t,i){so(e,t,i),oo()}function lo(){return Kt()}function uo(e){return!!e&&"function"==typeof e.then}function co(e){return!!e&&"function"==typeof e.subscribe}function ho(e,t,i=!1,n){const r=Kt(),s=Jt(),o=ei();return function(e,t,i,n,r,s,o=!1,a){const l=Et(n),u=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),c=Lr(t);let h=!0;if(3===n.type){const d=Ut(n,t),p=a?a(d):at,f=p.target||d,m=c.length,g=a?e=>a(Nt(e[n.index])).target:n.index;if(Pt(i)){let o=null;if(!a&&l&&(o=function(e,t,i,n){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const e=r[s];if(e===i&&r[s+1]===n){const e=t[7],i=r[s+2];return e.length>i?e[i]:null}"string"==typeof e&&(s+=2)}return null}(e,t,r,n.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=fo(n,t,s,!1);const e=i.listen(p.name||f,r,s);c.push(s,e),u&&u.push(r,g,m,m+1)}}else s=fo(n,t,s,!0),f.addEventListener(r,s,o),c.push(s),u&&u.push(r,g,m,o)}const d=n.outputs;let p;if(h&&null!==d&&(p=d[r])){const e=p.length;if(e)for(let i=0;i<e;i+=2){const e=t[p[i]][p[i+1]].subscribe(s),o=c.length;c.push(s,e),u&&u.push(r,n.index,o,-(o+1))}}}(s,r,r[11],o,e,t,i,n),ho}function po(e,t,i){try{return!1!==t(i)}catch(n){return Nr(e,n),!1}}function fo(e,t,i,n){return function r(s){if(s===Function)return i;const o=2&e.flags?jt(e.index,t):t;0==(32&t[2])&&Or(o);let a=po(t,i,s),l=r.__ngNextListenerFn__;for(;l;)a=po(t,l,s)&&a,l=l.__ngNextListenerFn__;return n&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function mo(e=1){return function(e){return(Xt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Xt.lFrame.contextLView))[8]}(e)}function go(e,t){let i=null;const n=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===n?Pn(e,s,!0):Ln(n,s))return r}else i=r}return i}function yo(e){const t=Kt()[16][6];if(!t.projection){const i=t.projection=tt(e?e.length:1,null),n=i.slice();let r=t.child;for(;null!==r;){const t=e?go(r,e):0;null!==t&&(n[t]?n[t].projectionNext=r:i[t]=r,n[t]=r),r=r.next}}}function vo(e,t=0,i){const n=Kt(),r=Jt(),s=tr(r,n[6],e,1,null,i||null);null===s.projection&&(s.projection=t),ni(),function(e,t,i){ss(t[11],0,t,i,Xr(e,i,t),es(i.parent||t[6],t))}(r,n,s)}function bo(e,t,i){return wo(e,"",t,"",i),bo}function wo(e,t,i,n,r){const s=Kt(),o=Xs(s,t,i,n);return o!==Un&&fr(Jt(),_i(),s,e,o,s[11],r,!1),wo}const xo=[];function Co(e,t,i,n,r){const s=e[i+1],o=null===t;let a=n?$n(s):Xn(s),l=!1;for(;0!==a&&(!1===l||o);){const i=e[a+1];_o(e[a],t)&&(l=!0,e[a+1]=n?Kn(i):Zn(i)),a=n?$n(i):Xn(i)}l&&(e[i+1]=n?Zn(s):Kn(s))}function _o(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&rt(e,t)>=0}const So={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Eo(e){return e.substring(So.key,So.keyEnd)}function Do(e){return e.substring(So.value,So.valueEnd)}function ko(e,t){const i=So.textEnd;return i===t?-1:(t=So.keyEnd=function(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}(e,So.key=t,i),Ao(e,t,i))}function Io(e,t){const i=So.textEnd;let n=So.key=Ao(e,t,i);return i===n?-1:(n=So.keyEnd=function(e,t,i){let n;for(;t<i&&(45===(n=e.charCodeAt(t))||95===n||(-33&n)>=65&&(-33&n)<=90);)t++;return t}(e,n,i),n=Oo(e,n,i),n=So.value=Ao(e,n,i),n=So.valueEnd=function(e,t,i){let n=-1,r=-1,s=-1,o=t,a=o;for(;o<i;){const l=e.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=Fo(e,l,o,i):t===o-4&&85===s&&82===r&&76===n&&40===l?a=o=Fo(e,41,o,i):l>32&&(a=o),s=r,r=n,n=-33&l}return a}(e,n,i),Oo(e,n,i))}function To(e){So.key=0,So.keyEnd=0,So.value=0,So.valueEnd=0,So.textEnd=e.length}function Ao(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function Oo(e,t,i,n){return(t=Ao(e,t,i))<i&&t++,t}function Fo(e,t,i,n){let r=-1,s=i;for(;s<n;){const i=e.charCodeAt(s++);if(i==t&&92!==r)return s;r=92==i&&92===r?0:i}throw new Error}function Bo(e,t,i){return Uo(e,t,i,!1),Bo}function Mo(e,t){return Uo(e,t,null,!0),Mo}function Po(e){zo(Go,Lo,e,!1)}function Lo(e,t){for(let i=function(e){return To(e),Io(e,Ao(e,0,So.textEnd))}(t);i>=0;i=Io(t,i))Go(e,Eo(t),Do(t))}function No(e){zo(it,Ro,e,!0)}function Ro(e,t){for(let i=function(e){return To(e),ko(e,Ao(e,0,So.textEnd))}(t);i>=0;i=ko(t,i))it(e,Eo(t),!0)}function Uo(e,t,i,n){const r=Kt(),s=Jt(),o=ui(2);s.firstUpdatePass&&jo(s,e,o,n),t!==Un&&Ws(r,o,t)&&qo(s,s.data[xi()+20],r,r[11],e,r[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ye(yn(e)))),e}(t,i),n,o)}function zo(e,t,i,n){const r=Jt(),s=ui(2);r.firstUpdatePass&&jo(r,null,s,n);const o=Kt();if(i!==Un&&Ws(o,s,i)){const a=r.data[xi()+20];if(Xo(a,n)&&!Vo(r,s)){let e=n?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(i=ve(e,i||"")),to(r,a,o,i,n)}else!function(e,t,i,n,r,s,o,a){r===Un&&(r=xo);let l=0,u=0,c=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;null!==c||null!==h;){const d=l<r.length?r[l+1]:void 0,p=u<s.length?s[u+1]:void 0;let f=null,m=void 0;c===h?(l+=2,u+=2,d!==p&&(f=h,m=p)):null===h||null!==c&&c<h?(l+=2,f=c):(u+=2,f=h,m=p),null!==f&&qo(e,t,i,n,f,m,o,a),c=l<r.length?r[l]:null,h=u<s.length?s[u]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function(e,t,i){if(null==i||""===i)return xo;const n=[],r=yn(i);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(n,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&e(n,s,r[s]);else"string"==typeof r&&t(n,r);return n}(e,t,i),n,s)}}function Vo(e,t){return t>=e.expandoStartIndex}function jo(e,t,i,n){const r=e.data;if(null===r[i+1]){const s=r[xi()+20],o=Vo(e,i);Xo(s,n)&&null===t&&!o&&(t=!1),t=function(e,t,i,n){const r=function(e){const t=Xt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=n?t.residualClasses:t.residualStyles;if(null===r)0===(n?t.classBindings:t.styleBindings)&&(i=Wo(i=Ho(null,e,t,i,n),t.attrs,n),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==r)if(i=Ho(r,e,t,i,n),null===s){let i=function(e,t,i){const n=i?t.classBindings:t.styleBindings;if(0!==Xn(n))return e[$n(n)]}(e,t,n);void 0!==i&&Array.isArray(i)&&(i=Ho(null,e,t,i[1],n),i=Wo(i,t.attrs,n),function(e,t,i,n){e[$n(i?t.classBindings:t.styleBindings)]=n}(e,t,n,i))}else s=function(e,t,i){let n=void 0;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)n=Wo(n,e[s].hostAttrs,i);return Wo(n,t.attrs,i)}(e,t,n)}return void 0!==s&&(n?t.residualClasses=s:t.residualStyles=s),i}(r,s,t,n),function(e,t,i,n,r,s){let o=s?t.classBindings:t.styleBindings,a=$n(o),l=Xn(o);e[n]=i;let u,c=!1;if(Array.isArray(i)){const e=i;u=e[1],(null===u||rt(e,u)>0)&&(c=!0)}else u=i;if(r)if(0!==l){const t=$n(e[a+1]);e[n+1]=qn(t,a),0!==t&&(e[t+1]=Yn(e[t+1],n)),e[a+1]=131071&e[a+1]|n<<17}else e[n+1]=qn(a,0),0!==a&&(e[a+1]=Yn(e[a+1],n)),a=n;else e[n+1]=qn(l,0),0===a?a=n:e[l+1]=Yn(e[l+1],n),l=n;c&&(e[n+1]=Zn(e[n+1])),Co(e,u,n,!0),Co(e,u,n,!1),function(e,t,i,n,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&rt(s,t)>=0&&(i[n+1]=Kn(i[n+1]))}(t,u,e,n,s),o=qn(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,i,o,n)}}function Ho(e,t,i,n,r){let s=null;const o=i.directiveEnd;let a=i.directiveStylingLast;for(-1===a?a=i.directiveStart:a++;a<o&&(s=t[a],n=Wo(n,s.hostAttrs,r),s!==e);)a++;return null!==e&&(i.directiveStylingLast=a),n}function Wo(e,t,i){const n=i?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),it(e,o,!!i||t[++s]))}return void 0===e?null:e}function Go(e,t,i){it(e,t,yn(i))}function qo(e,t,i,n,r,s,o,a){if(3!==t.type)return;const l=e.data,u=l[a+1];Zo(1==(1&u)?$o(l,t,i,r,Xn(u),o):void 0)||(Zo(s)||function(e){return 2==(2&e)}(u)&&(s=$o(l,null,i,r,a,o)),function(e,t,i,n,r){const s=Pt(e);if(t)r?s?e.addClass(i,n):i.classList.add(n):s?e.removeClass(i,n):i.classList.remove(n);else{const t=-1==n.indexOf("-")?void 0:2;null==r?s?e.removeStyle(i,n,t):i.style.removeProperty(n):s?e.setStyle(i,n,r,t):i.style.setProperty(n,r)}}(n,o,Rt(xi(),i),r,s))}function $o(e,t,i,n,r,s){const o=null===t;let a=void 0;for(;r>0;){const t=e[r],s=Array.isArray(t),l=s?t[1]:t,u=null===l;let c=i[r+1];c===Un&&(c=u?xo:void 0);let h=u?nt(c,n):l===n?c:void 0;if(s&&!Zo(h)&&(h=nt(t,n)),Zo(h)&&(a=h,o))return a;const d=e[r+1];r=o?$n(d):Xn(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=nt(e,n))}return a}function Zo(e){return void 0!==e}function Xo(e,t){return 0!=(e.flags&(t?16:32))}function Yo(e,t=""){const i=Kt(),n=Jt(),r=e+20,s=n.firstCreatePass?tr(n,i[6],e,3,null,null):n.data[r],o=i[r]=function(e,t){return Pt(t)?t.createText(e):t.createTextNode(e)}(t,i[11]);ts(n,i,o,s),ti(s,!1)}function Ko(e){return Jo("",e,""),Ko}function Jo(e,t,i){const n=Kt(),r=Xs(n,e,t,i);return r!==Un&&Ur(n,xi(),r),Jo}function Qo(e,t,i,n,r){const s=Kt(),o=function(e,t,i,n,r,s){const o=Gs(e,ai(),i,r);return ui(2),o?t+ji(i)+n+ji(r)+s:Un}(s,e,t,i,n,r);return o!==Un&&Ur(s,xi(),o),Qo}function ea(e,t,i){const n=Kt();return Ws(n,li(),t)&&fr(Jt(),_i(),n,e,t,n[11],i,!0),ea}function ta(e,t){const i=Ht(e)[1],n=i.data.length-1;Di(i,{directiveStart:n,directiveEnd:n+1})}function ia(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,i=!0;const n=[e];for(;t;){let r=void 0;if(Dt(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(i){n.push(r);const t=e;t.inputs=na(e.inputs),t.declaredInputs=na(e.declaredInputs),t.outputs=na(e.outputs);const i=r.hostBindings;i&&oa(e,i);const s=r.viewQuery,o=r.contentQueries;if(s&&ra(e,s),o&&sa(e,o),oe(e.inputs,r.inputs),oe(e.declaredInputs,r.declaredInputs),oe(e.outputs,r.outputs),Dt(r)&&r.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(r.data.animation)}}const t=r.features;if(t)for(let n=0;n<t.length;n++){const r=t[n];r&&r.ngInherit&&r(e),r===ia&&(i=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,i=null;for(let n=e.length-1;n>=0;n--){const r=e[n];r.hostVars=t+=r.hostVars,r.hostAttrs=Li(r.hostAttrs,i=Li(i,r.hostAttrs))}}(n)}function na(e){return e===at?{}:e===lt?[]:e}function ra(e,t){const i=e.viewQuery;e.viewQuery=i?(e,n)=>{t(e,n),i(e,n)}:t}function sa(e,t){const i=e.contentQueries;e.contentQueries=i?(e,n,r)=>{t(e,n,r),i(e,n,r)}:t}function oa(e,t){const i=e.hostBindings;e.hostBindings=i?(e,n)=>{t(e,n),i(e,n)}:t}function aa(e,t,i,n,r){if(e=xe(e),Array.isArray(e))for(let s=0;s<e.length;s++)aa(e[s],t,i,n,r);else{const s=Jt(),o=Kt();let a=Fs(e)?e:xe(e.provide),l=Ts(e);const u=ei(),c=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(Fs(e)||!e.multi){const n=new Fi(l,r,Js),p=ca(a,t,r?c:c+d,h);-1===p?(en(Yi(u,o),s,a),la(s,e,t.length),t.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),i.push(n),o.push(n)):(i[p]=n,o[p]=n)}else{const p=ca(a,t,c+d,h),f=ca(a,t,c,c+d),m=p>=0&&i[p],g=f>=0&&i[f];if(r&&!g||!r&&!m){en(Yi(u,o),s,a);const c=function(e,t,i,n,r){const s=new Fi(e,i,Js);return s.multi=[],s.index=t,s.componentProviders=0,ua(s,r,n&&!i),s}(r?da:ha,i.length,r,n,l);!r&&g&&(i[f].providerFactory=c),la(s,e,t.length,0),t.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),i.push(c),o.push(c)}else la(s,e,p>-1?p:f,ua(i[r?f:p],l,!r&&n));!r&&n&&g&&i[f].componentProviders++}}}function la(e,t,i,n){const r=Fs(t);if(r||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){const e=o.indexOf(i);-1===e?o.push(i,[n,s]):o[e+1].push(n,s)}else o.push(i,s)}}}function ua(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function ca(e,t,i,n){for(let r=i;r<n;r++)if(t[r]===e)return r;return-1}function ha(e,t,i,n){return pa(this.multi,[])}function da(e,t,i,n){const r=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=on(i,i[1],this.providerFactory.index,n);s=t.slice(0,e),pa(r,s);for(let i=e;i<t.length;i++)s.push(t[i])}else s=[],pa(r,s);return s}function pa(e,t){for(let i=0;i<e.length;i++)t.push((0,e[i])());return t}function fa(e,t=[]){return i=>{i.providersResolver=(i,n)=>function(e,t,i){const n=Jt();if(n.firstCreatePass){const r=Dt(e);aa(i,n.data,n.blueprint,r,!0),aa(t,n.data,n.blueprint,r,!1)}}(i,n?n(e):e,t)}}class ma{}class ga{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${ye(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let ya=(()=>{class e{}return e.NULL=new ga,e})(),va=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>ba(e),e})();const ba=function(e){return ps(e,ei(),Kt())};class wa{}var xa=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});let Ca=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>_a(),e})();const _a=function(){const e=Kt(),t=jt(ei().index,e);return function(e){const t=e[11];if(Pt(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(xt(t)?t:e)};let Sa=(()=>{class e{}return e.\u0275prov=ae({token:e,providedIn:"root",factory:()=>null}),e})();class Ea{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Da=new Ea("10.0.8");class ka{constructor(){}supports(e){return zs(e)}create(e){return new Ta(e)}}const Ia=(e,t)=>t;class Ta{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ia}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,n=0,r=null;for(;t||i;){const s=!i||t&&t.currentIndex<Ba(i,n,r)?t:i,o=Ba(s,n,r),a=s.currentIndex;if(s===i)n--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)n++;else{r||(r=[]);const e=o-n,t=a-n;if(e!=t){for(let i=0;i<e;i++){const n=i<r.length?r[i]:r[i]=0,s=n+i;t<=s&&s<e&&(r[i]=n+1)}r[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!zs(e))throw new Error(`Error trying to diff '${ye(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,i,n,r=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)i=e[t],n=this._trackByFn(t,i),null!==r&&Object.is(r.trackById,n)?(s&&(r=this._verifyReinsertion(r,i,n,t)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,n,t),s=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{const i=e[Rs()]();let n;for(;!(n=i.next()).done;)t(n.value)}}(e,e=>{n=this._trackByFn(t,e),null!==r&&Object.is(r.trackById,n)?(s&&(r=this._verifyReinsertion(r,e,n,t)),Object.is(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,n,t),s=!0),r=r._next,t++}),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,n){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,n))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,n)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,n)):e=this._addAfter(new Aa(t,i),r,n),e}_verifyReinsertion(e,t,i,n){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?e=this._reinsertAfter(r,e._prev,n):e.currentIndex!=n&&(e.currentIndex=n,this._addToMoves(e,n)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const n=e._prevRemoved,r=e._nextRemoved;return null===n?this._removalsHead=r:n._nextRemoved=r,null===r?this._removalsTail=n:r._prevRemoved=n,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const n=null===t?this._itHead:t._next;return e._next=n,e._prev=t,null===n?this._itTail=e:n._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Fa),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Fa),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Aa{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Oa{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class Fa{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new Oa,this.map.set(t,i)),i.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ba(e,t,i){const n=e.previousIndex;if(null===n)return n;let r=0;return i&&n<i.length&&(r=i[n]),n+t+r}class Ma{constructor(){}supports(e){return e instanceof Map||Vs(e)}create(){return new Pa}}class Pa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Vs(e)))throw new Error(`Error trying to diff '${ye(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const n=this._getOrCreateRecordForKey(i,e);t=this._insertBeforeOrAppend(t,n)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const n=i._prev,r=i._next;return n&&(n._next=r),r&&(r._prev=n),i._next=null,i._prev=null,i}const i=new La(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class La{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Na=(()=>{class e{constructor(e){this.factories=e}static create(t,i){if(null!=i){const e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>{if(!i)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,i)},deps:[[e,new ne,new te]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${i=e,i.name||typeof i}'`);var i}}return e.\u0275prov=ae({token:e,providedIn:"root",factory:()=>new e([new ka])}),e})(),Ra=(()=>{class e{constructor(e){this.factories=e}static create(t,i){if(i){const e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>{if(!i)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,i)},deps:[[e,new ne,new te]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=ae({token:e,providedIn:"root",factory:()=>new e([new Ma])}),e})();const Ua=[new Ma],za=new Na([new ka]),Va=new Ra(Ua);let ja=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ha(e,va),e})();const Ha=function(e,t){return fs(e,t,ei(),Kt())};let Wa=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ga(e,va),e})();const Ga=function(e,t){return ms(e,t,ei(),Kt())},qa={};class $a extends ya{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=vt(e);return new Ya(t,this.ngModule)}}function Za(e){const t=[];for(let i in e)e.hasOwnProperty(i)&&t.push({propName:e[i],templateName:i});return t}const Xa=new Pe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Wi});class Ya extends ma{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(Rn).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Za(this.componentDef.inputs)}get outputs(){return Za(this.componentDef.outputs)}create(e,t,i,n){const r=(n=n||this.ngModule)?function(e,t){return{get:(i,n,r)=>{const s=e.get(i,qa,r);return s!==qa||n===qa?s:t.get(i,n,r)}}}(e,n.injector):e,s=r.get(wa,Lt),o=r.get(Sa,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",u=i?function(e,t,i){if(Pt(e))return e.selectRootElement(t,i===ot.ShadowDom);let n="string"==typeof t?e.querySelector(t):t;return n.textContent="",n}(a,i,this.componentDef.encapsulation):Qn(l,s.createRenderer(null,this.componentDef),function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),c=this.componentDef.onPush?576:528,h={components:[],scheduler:Wi,clean:Pr,playerHandler:null,flags:0},d=cr(0,-1,null,1,0,null,null,null,null,null),p=er(null,d,h,c,null,null,s,a,o,r);let f,m;mi(p,null);try{const e=function(e,t,i,n,r,s){const o=i[1];i[20]=e;const a=tr(o,null,0,3,null,null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(Ls(a,l,!0),null!==e&&(Bi(r,e,l),null!==a.classes&&as(r,e,a.classes),null!==a.styles&&os(r,e,a.styles)));const u=n.createRenderer(e,t),c=er(i,ur(t),null,t.onPush?64:16,i[20],a,n,u,void 0);return o.firstCreatePass&&(en(Yi(a,i),o,t.type),wr(o,a),Cr(a,i.length,1)),Ar(i,c),i[20]=c}(u,this.componentDef,p,s,a);if(u)if(i)Bi(a,u,["ng-version",Da.full]);else{const{attrs:e,classes:t}=function(e){const t=[],i=[];let n=1,r=2;for(;n<e.length;){let s=e[n];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++n]):8===r&&i.push(s);else{if(!Bn(r))break;r=s}n++}return{attrs:t,classes:i}}(this.componentDef.selectors[0]);e&&Bi(a,u,e),t&&t.length>0&&as(a,u,t.join(" "))}if(m=zt(d,0),void 0!==t){const e=m.projection=[];for(let i=0;i<this.ngContentSelectors.length;i++){const n=t[i];e.push(null!=n?Array.from(n):null)}}f=function(e,t,i,n,r){const s=i[1],o=function(e,t,i){const n=ei();e.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),br(e,n,1),_r(e,t,i));const r=on(t,e,t.length-1,n);En(r,t);const s=Ut(n,t);return s&&En(s,t),r}(s,i,t);n.components.push(o),e[8]=o,r&&r.forEach(e=>e(o,t)),t.contentQueries&&t.contentQueries(1,o,i.length-1);const a=ei();if(s.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){Ci(a.index-20);const e=i[1];gr(e,t),yr(e,i,t.hostVars),vr(t,o)}return o}(e,this.componentDef,p,h,[ta]),ir(d,p,null)}finally{wi()}const g=new Ka(this.componentType,f,ps(va,m,p),p,m);return d.node.child=m,g}}class Ka extends class{}{constructor(e,t,i,n,r){super(),this.location=i,this._rootLView=n,this._tNode=r,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new us(n),function(e,t,i,n){let r=e.node;null==r&&(e.node=r=dr(0,null,2,-1,null,null)),n[6]=r}(n[1],0,0,n),this.componentType=e}get injector(){return new un(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(e){this.destroyCbs&&this.destroyCbs.push(e)}}const Ja=void 0;var Qa=["en",[["a","p"],["AM","PM"],Ja],[["AM","PM"],Ja,Ja],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ja,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ja,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ja,"{1} 'at' {0}",Ja],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let el={};function tl(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=il(t);if(i)return i;const n=t.split("-")[0];if(i=il(n),i)return i;if("en"===n)return Qa;throw new Error(`Missing locale data for the locale "${e}".`)}function il(e){return e in el||(el[e]=ke.ng&&ke.ng.common&&ke.ng.common.locales&&ke.ng.common.locales[e]),el[e]}var nl=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});let rl="en-US";function sl(e){var t,i;i="Expected localeId to be defined",null==(t=e)&&function(e,t,i,n){throw new Error("ASSERTION ERROR: "+e+` [Expected=> null != ${t} <=Actual]`)}(i,t),"string"==typeof e&&(rl=e.toLowerCase().replace(/_/g,"-"))}const ol=new Map;class al extends Ye{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $a(this);const i=wt(e),n=e[Fe]||null;n&&sl(n),this._bootstrapComponents=qi(i.bootstrap),this._r3Injector=Ds(e,t,[{provide:Ye,useValue:this},{provide:ya,useValue:this.componentFactoryResolver}],ye(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Ms.THROW_IF_NOT_FOUND,i=re.Default){return e===Ms||e===Ye||e===Le?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ll extends Ke{constructor(e){super(),this.moduleType=e,null!==wt(e)&&function e(t){if(null!==t.\u0275mod.id){const e=t.\u0275mod.id;(function(e,t,i){if(t&&t!==i)throw new Error(`Duplicate module registered for ${e} - ${ye(t)} vs ${ye(t.name)}`)})(e,ol.get(e),t),ol.set(e,t)}let i=t.\u0275mod.imports;i instanceof Function&&(i=i()),i&&i.forEach(t=>e(t))}(e)}create(e){return new al(this.moduleType,e)}}function ul(e,t,i){const n=oi()+e,r=Kt();return r[n]===Un?js(r,n,i?t.call(i):t()):Hs(r,n)}function cl(e,t,i,n){return ml(Kt(),oi(),e,t,i,n)}function hl(e,t,i,n,r){return gl(Kt(),oi(),e,t,i,n,r)}function dl(e,t,i,n,r,s){return function(e,t,i,n,r,s,o,a){const l=t+i;return qs(e,l,r,s,o)?js(e,l+3,a?n.call(a,r,s,o):n(r,s,o)):fl(e,l+3)}(Kt(),oi(),e,t,i,n,r,s)}function pl(e,t,i,n,r,s,o){return function(e,t,i,n,r,s,o,a,l){const u=t+i;return $s(e,u,r,s,o,a)?js(e,u+4,l?n.call(l,r,s,o,a):n(r,s,o,a)):fl(e,u+4)}(Kt(),oi(),e,t,i,n,r,s,o)}function fl(e,t){const i=e[t];return i===Un?void 0:i}function ml(e,t,i,n,r,s){const o=t+i;return Ws(e,o,r)?js(e,o+1,s?n.call(s,r):n(r)):fl(e,o+1)}function gl(e,t,i,n,r,s,o){const a=t+i;return Gs(e,a,r,s)?js(e,a+2,o?n.call(o,r,s):n(r,s)):fl(e,a+2)}function yl(e,t){const i=Jt();let n;const r=e+20;i.firstCreatePass?(n=function(e,t){if(t)for(let i=t.length-1;i>=0;i--){const n=t[i];if(e===n.name)return n}throw new Error(`The pipe '${e}' could not be found!`)}(t,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(r,n.onDestroy)):n=i.data[r];const s=n.factory||(n.factory=bt(n.type)),o=He(Js),a=Zi(!1),l=s();return Zi(a),He(o),function(e,t,i,n){const r=i+20;r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=n}(i,Kt(),e,l),l}function vl(e,t,i){const n=Kt(),r=Vt(n,e);return wl(n,bl(n,e)?ml(n,oi(),t,r.transform,i,r):r.transform(i))}function bl(e,t){return e[1].data[t+20].pure}function wl(e,t){return Us.isWrapped(t)&&(t=Us.unwrap(t),e[ai()]=Un),t}const xl=class extends _{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let n,r=e=>null,s=()=>null;e&&"object"==typeof e?(n=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(r=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(s=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(n=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),i&&(s=this.__isAsync?()=>{setTimeout(()=>i())}:()=>{i()}));const o=super.subscribe(n,r,s);return e instanceof h&&e.add(o),o}};function Cl(){return this._results[Rs()]()}class _l{constructor(){this.dirty=!0,this._results=[],this.changes=new xl,this.length=0;const e=Rs(),t=_l.prototype;t[e]||(t[e]=Cl)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,i){void 0===i&&(i=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(i===t&&(i=t.slice(0,n)),e(r,i)):i!==t&&i.push(r)}return i}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Sl{constructor(e){this.queryList=e,this.matches=null}clone(){return new Sl(this.queryList)}setDirty(){this.queryList.setDirty()}}class El{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,n=[];for(let e=0;e<i;e++){const i=t.getByIndex(e);n.push(this.queries[i.indexInDeclarationView].clone())}return new El(n)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==zl(e,t).matches&&this.queries[t].setDirty()}}class Dl{constructor(e,t,i,n=null){this.predicate=e,this.descendants=t,this.isStatic=i,this.read=n}}class kl{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const n=null!==t?t.length:0,r=this.getByIndex(i).embeddedTView(e,n);r&&(r.indexInDeclarationView=i,null!==t?t.push(r):t=[r])}return null!==t?new kl(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Il{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Il(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&4===i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){if(Array.isArray(this.metadata.predicate)){const i=this.metadata.predicate;for(let n=0;n<i.length;n++)this.matchTNodeWithReadOption(e,t,Tl(t,i[n]))}else{const i=this.metadata.predicate;i===ja?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,sn(t,e,i,!1,!1))}}matchTNodeWithReadOption(e,t,i){if(null!==i){const n=this.metadata.read;if(null!==n)if(n===va||n===Wa||n===ja&&0===t.type)this.addMatch(t.index,-2);else{const i=sn(t,e,n,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Tl(e,t){const i=e.localNames;if(null!==i)for(let n=0;n<i.length;n+=2)if(i[n]===t)return i[n+1];return null}function Al(e,t,i,n){return-1===i?function(e,t){return 3===e.type||4===e.type?ps(va,e,t):0===e.type?fs(ja,va,e,t):null}(t,e):-2===i?function(e,t,i){return i===va?ps(va,t,e):i===ja?fs(ja,va,t,e):i===Wa?ms(Wa,va,t,e):void 0}(e,t,n):on(e,e[1],i,t)}function Ol(e,t,i,n){const r=t[19].queries[n];if(null===r.matches){const n=e.data,s=i.matches,o=[];for(let e=0;e<s.length;e+=2){const r=s[e];o.push(r<0?null:Al(t,n[r],s[e+1],i.metadata.read))}r.matches=o}return r.matches}function Fl(e){const t=Kt(),i=Jt(),n=di();pi(n+1);const r=zl(i,n);if(e.dirty&&Wt(t)===r.metadata.isStatic){if(null===r.matches)e.reset([]);else{const s=r.crossesNgTemplate?function e(t,i,n,r){const s=t.queries.getByIndex(n),o=s.matches;if(null!==o){const a=Ol(t,i,s,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(a[t/2]);else{const s=o[t+1],a=i[-n];for(let t=10;t<a.length;t++){const i=a[t];i[17]===i[3]&&e(i[1],i,s,r)}if(null!==a[9]){const t=a[9];for(let i=0;i<t.length;i++){const n=t[i];e(n[1],n,s,r)}}}}}return r}(i,t,n,[]):Ol(i,t,r,n);e.reset(s),e.notifyOnChanges()}return!0}return!1}function Bl(e,t,i){Pl(Jt(),Kt(),e,t,i,!0)}function Ml(e,t,i){Pl(Jt(),Kt(),e,t,i,!1)}function Pl(e,t,i,n,r,s){e.firstCreatePass&&(Ul(e,new Dl(i,n,s,r),-1),s&&(e.staticViewQueries=!0)),Rl(e,t)}function Ll(e,t,i,n){!function(e,t,i,n,r,s,o,a){e.firstCreatePass&&(Ul(e,new Dl(i,n,!1,r),o.index),function(e,t){const i=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,t)}(e,a)),Rl(e,t)}(Jt(),Kt(),t,i,n,0,ei(),e)}function Nl(){return e=Kt(),t=di(),e[19].queries[t].queryList;var e,t}function Rl(e,t){const i=new _l;hr(e,t,i,i.destroy),null===t[19]&&(t[19]=new El),t[19].queries.push(new Sl(i))}function Ul(e,t,i){null===e.queries&&(e.queries=new kl),e.queries.track(new Il(t,i))}function zl(e,t){return e.queries.getByIndex(t)}function Vl(e,t){return fs(ja,va,e,t)}const jl=new Pe("Application Initializer");let Hl=(()=>{class e{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const t=this.appInits[i]();uo(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Ge(jl,8))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const Wl=new Pe("AppId"),Gl={provide:Wl,useFactory:function(){return`${ql()}${ql()}${ql()}`},deps:[]};function ql(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $l=new Pe("Platform Initializer"),Zl=new Pe("Platform ID"),Xl=new Pe("appBootstrapListener");let Yl=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const Kl=new Pe("LocaleId"),Jl=new Pe("DefaultCurrencyCode");class Ql{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const eu=function(e){return new ll(e)},tu=eu,iu=function(e){return Promise.resolve(eu(e))},nu=function(e){const t=eu(e),i=qi(wt(e).declarations).reduce((e,t)=>{const i=vt(t);return i&&e.push(new Ya(i)),e},[]);return new Ql(t,i)},ru=nu,su=function(e){return Promise.resolve(nu(e))};let ou=(()=>{class e{constructor(){this.compileModuleSync=tu,this.compileModuleAsync=iu,this.compileModuleAndAllComponentsSync=ru,this.compileModuleAndAllComponentsAsync=su}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const au=(()=>Promise.resolve(0))();function lu(e){"undefined"==typeof Zone?au.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class uu{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xl(!1),this.onMicrotaskEmpty=new xl(!1),this.onStable=new xl(!1),this.onError=new xl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=t,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let e=ke.requestAnimationFrame,t=ke.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ke,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,pu(e),du(e)},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),pu(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(i,n,r,s,o,a)=>{try{return fu(e),i.invokeTask(r,s,o,a)}finally{t&&"eventTask"===s.type&&t(),mu(e)}},onInvoke:(t,i,n,r,s,o,a)=>{try{return fu(e),t.invoke(n,r,s,o,a)}finally{mu(e)}},onHasTask:(t,i,n,r)=>{t.hasTask(n,r),i===n&&("microTask"==r.change?(e._hasPendingMicrotasks=r.microTask,pu(e),du(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,i,n,r)=>(t.handleError(n,r),e.runOutsideAngular(()=>e.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!uu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(uu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,n){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+n,e,hu,cu,cu);try{return r.runTask(s,t,i)}finally{r.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}function cu(){}const hu={};function du(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function pu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function fu(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function mu(e){e._nesting--,du(e)}class gu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xl,this.onMicrotaskEmpty=new xl,this.onStable=new xl,this.onError=new xl}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,n){return e.apply(t,i)}}let yu=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{uu.assertNotInAngularZone(),lu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lu(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,i){let n=-1;t&&t>0&&(n=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==n),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:n,updateCb:i})}whenStable(e,t,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(Ge(uu))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),vu=(()=>{class e{constructor(){this._applications=new Map,xu.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return xu.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();class bu{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let wu,xu=new bu;const Cu=new Pe("AllowMultipleToken");class _u{constructor(e,t){this.name=e,this.token=t}}function Su(e,t,i=[]){const n="Platform: "+t,r=new Pe(n);return(t=[])=>{let s=Eu();if(!s||s.injector.get(Cu,!1))if(e)e(i.concat(t).concat({provide:r,useValue:!0}));else{const e=i.concat(t).concat({provide:r,useValue:!0},{provide:ws,useValue:"platform"});!function(e){if(wu&&!wu.destroyed&&!wu.injector.get(Cu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");wu=e.get(Du);const t=e.get($l,null);t&&t.forEach(e=>e())}(Ms.create({providers:e,name:n}))}return function(e){const t=Eu();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function Eu(){return wu&&!wu.destroyed?wu:null}let Du=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const i=function(e,t){let i;return i="noop"===e?new gu:("zone.js"===e?void 0:e)||new uu({enableLongStackTrace:wn(),shouldCoalesceEventChangeDetection:t}),i}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),n=[{provide:uu,useValue:i}];return i.run(()=>{const t=Ms.create({providers:n,parent:this.injector,name:e.moduleType.name}),r=e.create(t),s=r.injector.get(mn,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>Tu(this._modules,r)),i.runOutsideAngular(()=>i.onError.subscribe({next:e=>{s.handleError(e)}})),function(e,t,i){try{const n=i();return uo(n)?n.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(s,i,()=>{const e=r.injector.get(Hl);return e.runInitializers(),e.donePromise.then(()=>(sl(r.injector.get(Kl,"en-US")||"en-US"),this._moduleDoBootstrap(r),r))})})}bootstrapModule(e,t=[]){const i=ku({},t);return function(e,t,i){const n=new ll(i);return Promise.resolve(n)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,i))}_moduleDoBootstrap(e){const t=e.injector.get(Iu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${ye(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Ge(Ms))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();function ku(e,t){return Array.isArray(t)?t.reduce(ku,e):Object.assign(Object.assign({},e),t)}let Iu=(()=>{class e{constructor(e,t,i,n,r,s){this._zone=e,this._console=t,this._injector=i,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=wn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new v(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new v(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{uu.assertNotInAngularZone(),lu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const i=this._zone.onUnstable.subscribe(()=>{uu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),i.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,i=null,n=e[e.length-1];return E(n)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof n&&(t=e.pop()),null===i&&1===e.length&&e[0]instanceof v?e[0]:H(t)(W(e,i))}(o,a.pipe(e=>{return G()((t=K,function(e){let i;i="function"==typeof t?t:function(){return t};const n=Object.create(e,X);return n.source=e,n.subjectFactory=i,n})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=e instanceof ma?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(i.componentType);const n=i.isBoundToModule?void 0:this._injector.get(Ye),r=i.create(Ms.NULL,[],t||i.selector,n);r.onDestroy(()=>{this._unloadComponent(r)});const s=r.injector.get(yu,null);return s&&r.injector.get(vu).registerApplication(r.location.nativeElement,s),this._loadComponent(r),wn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Tu(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Xl,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Tu(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(Ge(uu),Ge(Yl),Ge(Ms),Ge(mn),Ge(ya),Ge(Hl))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();function Tu(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}class Au{}class Ou{}const Fu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Bu=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Fu}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,n]=e.split("#");return void 0===n&&(n="default"),i("zn8P")(t).then(e=>e[n]).then(e=>Mu(e,t,n)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,n]=e.split("#"),r="NgFactory";return void 0===n&&(n="default",r=""),i("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[n+r]).then(e=>Mu(e,t,n))}}return e.\u0275fac=function(t){return new(t||e)(Ge(ou),Ge(Ou,8))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();function Mu(e,t,i){if(!e)throw new Error(`Cannot find '${i}' in '${t}'`);return e}const Pu=Su(null,"core",[{provide:Zl,useValue:"unknown"},{provide:Du,deps:[Ms]},{provide:vu,deps:[]},{provide:Yl,deps:[]}]),Lu=[{provide:Iu,useClass:Iu,deps:[uu,Yl,Ms,mn,ya,Hl]},{provide:Xa,deps:[uu],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Hl,useClass:Hl,deps:[[new te,jl]]},{provide:ou,useClass:ou,deps:[]},Gl,{provide:Na,useFactory:function(){return za},deps:[]},{provide:Ra,useFactory:function(){return Va},deps:[]},{provide:Kl,useFactory:function(e){return sl(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new ee(Kl),new te,new ne]]},{provide:Jl,useValue:"USD"}];let Nu=(()=>{class e{constructor(e){}}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)(Ge(Iu))},providers:Lu}),e})(),Ru=null;function Uu(){return Ru}const zu=new Pe("DocumentToken");let Vu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({factory:ju,token:e,providedIn:"platform"}),e})();function ju(){return Ge(Wu)}const Hu=new Pe("Location Initialized");let Wu=(()=>{class e extends Vu{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=Uu().getLocation(),this._history=Uu().getHistory()}getBaseHrefFromDOM(){return Uu().getBaseHref(this._doc)}onPopState(e){Uu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){Uu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,i){Gu()?this._history.pushState(e,t,i):this.location.hash=i}replaceState(e,t,i){Gu()?this._history.replaceState(e,t,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(Ge(zu))},e.\u0275prov=ae({factory:qu,token:e,providedIn:"platform"}),e})();function Gu(){return!!window.history.pushState}function qu(){return new Wu(Ge(zu))}function $u(e,t){if(0==e.length)return t;if(0==t.length)return e;let i=0;return e.endsWith("/")&&i++,t.startsWith("/")&&i++,2==i?e+t.substring(1):1==i?e+t:e+"/"+t}function Zu(e){const t=e.match(/#|\?|$/),i=t&&t.index||e.length;return e.slice(0,i-("/"===e[i-1]?1:0))+e.slice(i)}function Xu(e){return e&&"?"!==e[0]?"?"+e:e}let Yu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({factory:Ku,token:e,providedIn:"root"}),e})();function Ku(e){const t=Ge(zu).location;return new Qu(Ge(Vu),t&&t.origin||"")}const Ju=new Pe("appBaseHref");let Qu=(()=>{class e extends Yu{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return $u(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+Xu(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${t}${i}`:t}pushState(e,t,i,n){const r=this.prepareExternalUrl(i+Xu(n));this._platformLocation.pushState(e,t,r)}replaceState(e,t,i,n){const r=this.prepareExternalUrl(i+Xu(n));this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(Ge(Vu),Ge(Ju,8))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),ec=(()=>{class e extends Yu{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=$u(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,i,n){let r=this.prepareExternalUrl(i+Xu(n));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}replaceState(e,t,i,n){let r=this.prepareExternalUrl(i+Xu(n));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(Ge(Vu),Ge(Ju,8))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),tc=(()=>{class e{constructor(e,t){this._subject=new xl,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=Zu(nc(i)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+Xu(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,nc(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",i=null){this._platformStrategy.pushState(i,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Xu(t)),i)}replaceState(e,t="",i=null){this._platformStrategy.replaceState(i,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Xu(t)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(i=>i(e,t))}subscribe(e,t,i){return this._subject.subscribe({next:e,error:t,complete:i})}}return e.\u0275fac=function(t){return new(t||e)(Ge(Yu),Ge(Vu))},e.normalizeQueryParams=Xu,e.joinWithSlash=$u,e.stripTrailingSlash=Zu,e.\u0275prov=ae({factory:ic,token:e,providedIn:"root"}),e})();function ic(){return new tc(Ge(Yu),Ge(Vu))}function nc(e){return e.replace(/\/index.html$/,"")}const rc={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var sc=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}({}),oc=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),ac=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}({}),lc=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}({}),uc=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}({}),cc=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e[1/0]=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}({});function hc(e,t){return yc(tl(e)[nl.DateFormat],t)}function dc(e,t){return yc(tl(e)[nl.TimeFormat],t)}function pc(e,t){return yc(tl(e)[nl.DateTimeFormat],t)}function fc(e,t){const i=tl(e),n=i[nl.NumberSymbols][t];if(void 0===n){if(t===cc.CurrencyDecimal)return i[nl.NumberSymbols][cc.Decimal];if(t===cc.CurrencyGroup)return i[nl.NumberSymbols][cc.Group]}return n}function mc(e,t){return tl(e)[nl.NumberFormats][t]}function gc(e){if(!e[nl.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[nl.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function yc(e,t){for(let i=t;i>-1;i--)if(void 0!==e[i])return e[i];throw new Error("Locale data API: locale data undefined")}function vc(e){const[t,i]=e.split(":");return{hours:+t,minutes:+i}}const bc=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wc={},xc=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Cc=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}({}),_c=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}({}),Sc=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}({});function Ec(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,i){return null!=t&&i in t?t[i]:e}))),e}function Dc(e,t,i="-",n,r){let s="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,s=i));let o=String(e);for(;o.length<t;)o="0"+o;return n&&(o=o.substr(o.length-t)),s+o}function kc(e,t,i=0,n=!1,r=!1){return function(s,o){let a=function(e,t){switch(e){case _c.FullYear:return t.getFullYear();case _c.Month:return t.getMonth();case _c.Date:return t.getDate();case _c.Hours:return t.getHours();case _c.Minutes:return t.getMinutes();case _c.Seconds:return t.getSeconds();case _c.FractionalSeconds:return t.getMilliseconds();case _c.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((i>0||a>-i)&&(a+=i),e===_c.Hours)0===a&&-12===i&&(a=12);else if(e===_c.FractionalSeconds)return l=t,Dc(a,3).substr(0,l);var l;const u=fc(o,cc.MinusSign);return Dc(a,t,u,n,r)}}function Ic(e,t,i=ac.Format,n=!1){return function(r,s){return function(e,t,i,n,r,s){switch(i){case Sc.Months:return function(e,t,i){const n=tl(e),r=yc([n[nl.MonthsFormat],n[nl.MonthsStandalone]],t);return yc(r,i)}(t,r,n)[e.getMonth()];case Sc.Days:return function(e,t,i){const n=tl(e),r=yc([n[nl.DaysFormat],n[nl.DaysStandalone]],t);return yc(r,i)}(t,r,n)[e.getDay()];case Sc.DayPeriods:const o=e.getHours(),a=e.getMinutes();if(s){const e=function(e){const t=tl(e);return gc(t),(t[nl.ExtraData][2]||[]).map(e=>"string"==typeof e?vc(e):[vc(e[0]),vc(e[1])])}(t),i=function(e,t,i){const n=tl(e);gc(n);const r=yc([n[nl.ExtraData][0],n[nl.ExtraData][1]],t)||[];return yc(r,i)||[]}(t,r,n),s=e.findIndex(e=>{if(Array.isArray(e)){const[t,i]=e,n=o>=t.hours&&a>=t.minutes,r=o<i.hours||o===i.hours&&a<i.minutes;if(t.hours<i.hours){if(n&&r)return!0}else if(n||r)return!0}else if(e.hours===o&&e.minutes===a)return!0;return!1});if(-1!==s)return i[s]}return function(e,t,i){const n=tl(e),r=yc([n[nl.DayPeriodsFormat],n[nl.DayPeriodsStandalone]],t);return yc(r,i)}(t,r,n)[o<12?0:1];case Sc.Eras:return function(e,t){return yc(tl(e)[nl.Eras],t)}(t,n)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+i)}}(r,s,e,t,i,n)}}function Tc(e){return function(t,i,n){const r=-1*n,s=fc(i,cc.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case Cc.Short:return(r>=0?"+":"")+Dc(o,2,s)+Dc(Math.abs(r%60),2,s);case Cc.ShortGMT:return"GMT"+(r>=0?"+":"")+Dc(o,1,s);case Cc.Long:return"GMT"+(r>=0?"+":"")+Dc(o,2,s)+":"+Dc(Math.abs(r%60),2,s);case Cc.Extended:return 0===n?"Z":(r>=0?"+":"")+Dc(o,2,s)+":"+Dc(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}function Ac(e,t=!1){return function(i,n){let r;if(t){const e=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,t=i.getDate();r=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,0,1).getDay();return new Date(e,0,1+(t<=4?4:11)-t)}(i.getFullYear()),t=(s=i,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-e.getTime();r=1+Math.round(t/6048e5)}var s;return Dc(r,e,fc(n,cc.MinusSign))}}const Oc={};function Fc(e,t){e=e.replace(/:/g,"");const i=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(i)?t:i}function Bc(e){return e instanceof Date&&!isNaN(e.valueOf())}const Mc=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Pc(e,t,i,n,r,s,o=!1){let a="",l=!1;if(isFinite(e)){let u=function(e){let t,i,n,r,s,o=Math.abs(e)+"",a=0;for((i=o.indexOf("."))>-1&&(o=o.replace(".","")),(n=o.search(/e/i))>0?(i<0&&(i=n),i+=+o.slice(n+1),o=o.substring(0,n)):i<0&&(i=o.length),n=0;"0"===o.charAt(n);n++);if(n===(s=o.length))t=[0],i=1;else{for(s--;"0"===o.charAt(s);)s--;for(i-=n,t=[],r=0;n<=s;n++,r++)t[r]=Number(o.charAt(n))}return i>22&&(t=t.splice(0,21),a=i-1,i=1),{digits:t,exponent:a,integerLen:i}}(e);o&&(u=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(u));let c=t.minInt,h=t.minFrac,d=t.maxFrac;if(s){const e=s.match(Mc);if(null===e)throw new Error(s+" is not a valid digit info");const t=e[1],i=e[3],n=e[5];null!=t&&(c=Nc(t)),null!=i&&(h=Nc(i)),null!=n?d=Nc(n):null!=i&&h>d&&(d=h)}!function(e,t,i){if(t>i)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${i}).`);let n=e.digits,r=n.length-e.integerLen;const s=Math.min(Math.max(t,r),i);let o=s+e.integerLen,a=n[o];if(o>0){n.splice(Math.max(e.integerLen,o));for(let e=o;e<n.length;e++)n[e]=0}else{r=Math.max(0,r),e.integerLen=1,n.length=Math.max(1,o=s+1),n[0]=0;for(let e=1;e<o;e++)n[e]=0}if(a>=5)if(o-1<0){for(let t=0;t>o;t--)n.unshift(0),e.integerLen++;n.unshift(1),e.integerLen++}else n[o-1]++;for(;r<Math.max(0,s);r++)n.push(0);let l=0!==s;const u=t+e.integerLen,c=n.reduceRight((function(e,t,i,n){return n[i]=(t+=e)<10?t:t-10,l&&(0===n[i]&&i>=u?n.pop():l=!1),t>=10?1:0}),0);c&&(n.unshift(c),e.integerLen++)}(u,h,d);let p=u.digits,f=u.integerLen;const m=u.exponent;let g=[];for(l=p.every(e=>!e);f<c;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?g=p.splice(f,p.length):(g=p,p=[0]);const y=[];for(p.length>=t.lgSize&&y.unshift(p.splice(-t.lgSize,p.length).join(""));p.length>t.gSize;)y.unshift(p.splice(-t.gSize,p.length).join(""));p.length&&y.unshift(p.join("")),a=y.join(fc(i,n)),g.length&&(a+=fc(i,r)+g.join("")),m&&(a+=fc(i,cc.Exponential)+"+"+m)}else a=fc(i,cc.Infinity);return a=e<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function Lc(e,t="-"){const i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=e.split(";"),r=n[0],s=n[1],o=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";i.posPre=a.substr(0,a.indexOf("#"));for(let c=0;c<l.length;c++){const e=l.charAt(c);"0"===e?i.minFrac=i.maxFrac=c+1:"#"===e?i.maxFrac=c+1:i.posSuf+=e}const u=a.split(",");if(i.gSize=u[1]?u[1].length:0,i.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){const e=r.length-i.posPre.length-i.posSuf.length,t=s.indexOf("#");i.negPre=s.substr(0,t).replace(/'/g,""),i.negSuf=s.substr(t+e).replace(/'/g,"")}else i.negPre=t+i.posPre,i.negSuf=i.posSuf;return i}function Nc(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}class Rc{}function Uc(e,t,i,n){let r="="+e;if(t.indexOf(r)>-1)return r;if(r=i.getPluralCategory(e,n),t.indexOf(r)>-1)return r;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}let zc=(()=>{class e extends Rc{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(function(e){return tl(e)[nl.PluralCase]}(t||this.locale)(e)){case oc.Zero:return"zero";case oc.One:return"one";case oc.Two:return"two";case oc.Few:return"few";case oc.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(Ge(Kl))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();function Vc(e,t){t=encodeURIComponent(t);for(const i of e.split(";")){const e=i.indexOf("="),[n,r]=-1==e?[i,""]:[i.slice(0,e),i.slice(e+1)];if(n.trim()===t)return decodeURIComponent(r)}return null}let jc=(()=>{class e{constructor(e,t,i,n){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=i,this._renderer=n,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(zs(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+ye(e.item));this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(Js(Na),Js(Ra),Js(va),Js(Ca))},e.\u0275dir=gt({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})(),Hc=(()=>{class e{constructor(e){this._viewContainerRef=e,this._componentRef=null,this._moduleRef=null}ngOnChanges(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const e=t.get(Ye);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(e.injector)}else this._moduleRef=null;const i=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(ya)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(i,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return e.\u0275fac=function(t){return new(t||e)(Js(Wa))},e.\u0275dir=gt({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[Tt]}),e})();class Wc{constructor(e,t,i,n){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gc=(()=>{class e{constructor(e,t,i){this._viewContainer=e,this._template=t,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){wn()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${i}' of type '${e=i,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,i,n)=>{if(null==e.previousIndex){const i=this._viewContainer.createEmbeddedView(this._template,new Wc(null,this._ngForOf,-1,-1),null===n?void 0:n),r=new qc(e,i);t.push(r)}else if(null==n)this._viewContainer.remove(null===i?void 0:i);else if(null!==i){const r=this._viewContainer.get(i);this._viewContainer.move(r,n);const s=new qc(e,r);t.push(s)}});for(let i=0;i<t.length;i++)this._perViewChange(t[i].view,t[i].record);for(let i=0,n=this._viewContainer.length;i<n;i++){const e=this._viewContainer.get(i);e.context.index=i,e.context.count=n,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Js(Wa),Js(ja),Js(Na))},e.\u0275dir=gt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class qc{constructor(e,t){this.record=e,this.view=t}}let $c=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new Zc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Xc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Xc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Js(Wa),Js(ja))},e.\u0275dir=gt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class Zc{constructor(){this.$implicit=null,this.ngIf=null}}function Xc(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ye(t)}'.`)}class Yc{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Kc=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=gt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),Jc=(()=>{class e{constructor(e,t,i){this.ngSwitch=i,i._addCase(),this._view=new Yc(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(Js(Wa),Js(ja),Js(Kc,1))},e.\u0275dir=gt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),Qc=(()=>{class e{constructor(e,t,i){i._addDefault(new Yc(e,t))}}return e.\u0275fac=function(t){return new(t||e)(Js(Wa),Js(ja),Js(Kc,1))},e.\u0275dir=gt({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),eh=(()=>{class e{constructor(e){this._localization=e,this._caseViews={}}set ngPlural(e){this._switchValue=e,this._updateView()}addCase(e,t){this._caseViews[e]=t}_updateView(){this._clearViews();const e=Object.keys(this._caseViews),t=Uc(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(e){e&&(this._activeView=e,this._activeView.create())}}return e.\u0275fac=function(t){return new(t||e)(Js(Rc))},e.\u0275dir=gt({type:e,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),e})(),th=(()=>{class e{constructor(e,t,i,n){this.value=e;const r=!isNaN(Number(e));n.addCase(r?"="+e:e,new Yc(i,t))}}return e.\u0275fac=function(t){return new(t||e)(Qs("ngPluralCase"),Js(ja),Js(Wa),Js(eh,1))},e.\u0275dir=gt({type:e,selectors:[["","ngPluralCase",""]]}),e})(),ih=(()=>{class e{constructor(e,t,i){this._ngEl=e,this._differs=t,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[i,n]=e.split(".");null!=(t=null!=t&&n?`${t}${n}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,i,t):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(Ra),Js(Ca))},e.\u0275dir=gt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),nh=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),i=Object.keys(e.currentValue||{});if(t.length===i.length){for(let e of i)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}return e.\u0275fac=function(t){return new(t||e)(Js(Wa))},e.\u0275dir=gt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Tt]}),e})();function rh(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${ye(e)}'`)}class sh{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class oh{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const ah=new oh,lh=new sh;let uh=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if(uo(t))return ah;if(co(t))return lh;throw rh(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(function(e=re.Default){const t=gs(!0);if(null!=t||e&re.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}())},e.\u0275pipe=yt({name:"async",type:e,pure:!1}),e})(),ch=(()=>{class e{transform(t){if(!t)return t;if("string"!=typeof t)throw rh(e,t);return t.toLowerCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=yt({name:"lowercase",type:e,pure:!0}),e})();const hh=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let dh=(()=>{class e{transform(t){if(!t)return t;if("string"!=typeof t)throw rh(e,t);return t.replace(hh,e=>e[0].toUpperCase()+e.substr(1).toLowerCase())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=yt({name:"titlecase",type:e,pure:!0}),e})(),ph=(()=>{class e{transform(t){if(!t)return t;if("string"!=typeof t)throw rh(e,t);return t.toUpperCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=yt({name:"uppercase",type:e,pure:!0}),e})(),fh=(()=>{class e{constructor(e){this.locale=e}transform(t,i="mediumDate",n,r){if(null==t||""===t||t!=t)return null;try{return function(e,t,i,n){let r=function(e){if(Bc(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,i,n]=e.split("-").map(e=>+e);return new Date(t,i-1,n)}let i;if(i=e.match(bc))return function(e){const t=new Date(0);let i=0,n=0;const r=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=Number(e[9]+e[10]),n=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-i,a=Number(e[5]||0)-n,l=Number(e[6]||0),u=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(t,o,a,l,u),t}(i)}const t=new Date(e);if(!Bc(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=function e(t,i){const n=function(e){return tl(e)[nl.LocaleId]}(t);if(wc[n]=wc[n]||{},wc[n][i])return wc[n][i];let r="";switch(i){case"shortDate":r=hc(t,uc.Short);break;case"mediumDate":r=hc(t,uc.Medium);break;case"longDate":r=hc(t,uc.Long);break;case"fullDate":r=hc(t,uc.Full);break;case"shortTime":r=dc(t,uc.Short);break;case"mediumTime":r=dc(t,uc.Medium);break;case"longTime":r=dc(t,uc.Long);break;case"fullTime":r=dc(t,uc.Full);break;case"short":const i=e(t,"shortTime"),n=e(t,"shortDate");r=Ec(pc(t,uc.Short),[i,n]);break;case"medium":const s=e(t,"mediumTime"),o=e(t,"mediumDate");r=Ec(pc(t,uc.Medium),[s,o]);break;case"long":const a=e(t,"longTime"),l=e(t,"longDate");r=Ec(pc(t,uc.Long),[a,l]);break;case"full":const u=e(t,"fullTime"),c=e(t,"fullDate");r=Ec(pc(t,uc.Full),[u,c])}return r&&(wc[n][i]=r),r}(i,t)||t;let s,o=[];for(;t;){if(s=xc.exec(t),!s){o.push(t);break}{o=o.concat(s.slice(1));const e=o.pop();if(!e)break;t=e}}let a=r.getTimezoneOffset();n&&(a=Fc(n,a),r=function(e,t,i){const n=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Fc(t,n)-n))}(r,n));let l="";return o.forEach(e=>{const t=function(e){if(Oc[e])return Oc[e];let t;switch(e){case"G":case"GG":case"GGG":t=Ic(Sc.Eras,lc.Abbreviated);break;case"GGGG":t=Ic(Sc.Eras,lc.Wide);break;case"GGGGG":t=Ic(Sc.Eras,lc.Narrow);break;case"y":t=kc(_c.FullYear,1,0,!1,!0);break;case"yy":t=kc(_c.FullYear,2,0,!0,!0);break;case"yyy":t=kc(_c.FullYear,3,0,!1,!0);break;case"yyyy":t=kc(_c.FullYear,4,0,!1,!0);break;case"M":case"L":t=kc(_c.Month,1,1);break;case"MM":case"LL":t=kc(_c.Month,2,1);break;case"MMM":t=Ic(Sc.Months,lc.Abbreviated);break;case"MMMM":t=Ic(Sc.Months,lc.Wide);break;case"MMMMM":t=Ic(Sc.Months,lc.Narrow);break;case"LLL":t=Ic(Sc.Months,lc.Abbreviated,ac.Standalone);break;case"LLLL":t=Ic(Sc.Months,lc.Wide,ac.Standalone);break;case"LLLLL":t=Ic(Sc.Months,lc.Narrow,ac.Standalone);break;case"w":t=Ac(1);break;case"ww":t=Ac(2);break;case"W":t=Ac(1,!0);break;case"d":t=kc(_c.Date,1);break;case"dd":t=kc(_c.Date,2);break;case"E":case"EE":case"EEE":t=Ic(Sc.Days,lc.Abbreviated);break;case"EEEE":t=Ic(Sc.Days,lc.Wide);break;case"EEEEE":t=Ic(Sc.Days,lc.Narrow);break;case"EEEEEE":t=Ic(Sc.Days,lc.Short);break;case"a":case"aa":case"aaa":t=Ic(Sc.DayPeriods,lc.Abbreviated);break;case"aaaa":t=Ic(Sc.DayPeriods,lc.Wide);break;case"aaaaa":t=Ic(Sc.DayPeriods,lc.Narrow);break;case"b":case"bb":case"bbb":t=Ic(Sc.DayPeriods,lc.Abbreviated,ac.Standalone,!0);break;case"bbbb":t=Ic(Sc.DayPeriods,lc.Wide,ac.Standalone,!0);break;case"bbbbb":t=Ic(Sc.DayPeriods,lc.Narrow,ac.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ic(Sc.DayPeriods,lc.Abbreviated,ac.Format,!0);break;case"BBBB":t=Ic(Sc.DayPeriods,lc.Wide,ac.Format,!0);break;case"BBBBB":t=Ic(Sc.DayPeriods,lc.Narrow,ac.Format,!0);break;case"h":t=kc(_c.Hours,1,-12);break;case"hh":t=kc(_c.Hours,2,-12);break;case"H":t=kc(_c.Hours,1);break;case"HH":t=kc(_c.Hours,2);break;case"m":t=kc(_c.Minutes,1);break;case"mm":t=kc(_c.Minutes,2);break;case"s":t=kc(_c.Seconds,1);break;case"ss":t=kc(_c.Seconds,2);break;case"S":t=kc(_c.FractionalSeconds,1);break;case"SS":t=kc(_c.FractionalSeconds,2);break;case"SSS":t=kc(_c.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Tc(Cc.Short);break;case"ZZZZZ":t=Tc(Cc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Tc(Cc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Tc(Cc.Long);break;default:return null}return Oc[e]=t,t}(e);l+=t?t(r,i,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(t,i,r||this.locale,n)}catch(s){throw rh(e,s.message)}}}return e.\u0275fac=function(t){return new(t||e)(Js(Kl))},e.\u0275pipe=yt({name:"date",type:e,pure:!0}),e})();const mh=/#/g;let gh=(()=>{class e{constructor(e){this._localization=e}transform(t,i,n){if(null==t)return"";if("object"!=typeof i||null===i)throw rh(e,i);return i[Uc(t,Object.keys(i),this._localization,n)].replace(mh,t.toString())}}return e.\u0275fac=function(t){return new(t||e)(Js(Rc))},e.\u0275pipe=yt({name:"i18nPlural",type:e,pure:!0}),e})(),yh=(()=>{class e{transform(t,i){if(null==t)return"";if("object"!=typeof i||"string"!=typeof t)throw rh(e,i);return i.hasOwnProperty(t)?i[t]:i.hasOwnProperty("other")?i.other:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=yt({name:"i18nSelect",type:e,pure:!0}),e})(),vh=(()=>{class e{transform(e){return JSON.stringify(e,null,2)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=yt({name:"json",type:e,pure:!1}),e})(),bh=(()=>{class e{constructor(e){this.differs=e,this.keyValues=[]}transform(e,t=wh){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const i=this.differ.diff(e);return i&&(this.keyValues=[],i.forEachItem(e=>{this.keyValues.push({key:e.key,value:e.currentValue})}),this.keyValues.sort(t)),this.keyValues}}return e.\u0275fac=function(t){return new(t||e)(Js(Ra))},e.\u0275pipe=yt({name:"keyvalue",type:e,pure:!1}),e})();function wh(e,t){const i=e.key,n=t.key;if(i===n)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(null===i)return 1;if(null===n)return-1;if("string"==typeof i&&"string"==typeof n)return i<n?-1:1;if("number"==typeof i&&"number"==typeof n)return i-n;if("boolean"==typeof i&&"boolean"==typeof n)return i<n?-1:1;const r=String(i),s=String(n);return r==s?0:r<s?-1:1}let xh=(()=>{class e{constructor(e){this._locale=e}transform(t,i,n){if(Sh(t))return null;n=n||this._locale;try{return function(e,t,i){return Pc(e,Lc(mc(t,sc.Decimal),fc(t,cc.MinusSign)),t,cc.Group,cc.Decimal,i)}(Eh(t),n,i)}catch(r){throw rh(e,r.message)}}}return e.\u0275fac=function(t){return new(t||e)(Js(Kl))},e.\u0275pipe=yt({name:"number",type:e,pure:!0}),e})(),Ch=(()=>{class e{constructor(e){this._locale=e}transform(t,i,n){if(Sh(t))return null;n=n||this._locale;try{return function(e,t,i){return Pc(e,Lc(mc(t,sc.Percent),fc(t,cc.MinusSign)),t,cc.Group,cc.Decimal,i,!0).replace(new RegExp("%","g"),fc(t,cc.PercentSign))}(Eh(t),n,i)}catch(r){throw rh(e,r.message)}}}return e.\u0275fac=function(t){return new(t||e)(Js(Kl))},e.\u0275pipe=yt({name:"percent",type:e,pure:!0}),e})(),_h=(()=>{class e{constructor(e,t="USD"){this._locale=e,this._defaultCurrencyCode=t}transform(t,i,n="symbol",r,s){if(Sh(t))return null;s=s||this._locale,"boolean"==typeof n&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),n=n?"symbol":"code");let o=i||this._defaultCurrencyCode;"code"!==n&&(o="symbol"===n||"symbol-narrow"===n?function(e,t,i="en"){const n=function(e){return tl(e)[nl.Currencies]}(i)[e]||rc[e]||[],r=n[1];return"narrow"===t&&"string"==typeof r?r:n[0]||e}(o,"symbol"===n?"wide":"narrow",s):n);try{return function(e,t,i,n,r){const s=Lc(mc(t,sc.Currency),fc(t,cc.MinusSign));return s.minFrac=function(e){let t;const i=rc[e];return i&&(t=i[2]),"number"==typeof t?t:2}(n),s.maxFrac=s.minFrac,Pc(e,s,t,cc.CurrencyGroup,cc.CurrencyDecimal,r).replace("\xa4",i).replace("\xa4","").trim()}(Eh(t),s,o,i,r)}catch(a){throw rh(e,a.message)}}}return e.\u0275fac=function(t){return new(t||e)(Js(Kl),Js(Jl))},e.\u0275pipe=yt({name:"currency",type:e,pure:!0}),e})();function Sh(e){return null==e||""===e||e!=e}function Eh(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(e+" is not a number");return e}let Dh=(()=>{class e{transform(t,i,n){if(null==t)return t;if(!this.supports(t))throw rh(e,t);return t.slice(i,n)}supports(e){return"string"==typeof e||Array.isArray(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=yt({name:"slice",type:e,pure:!1}),e})(),kh=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},providers:[{provide:Rc,useClass:zc}]}),e})();function Ih(e){return"browser"===e}let Th=(()=>{class e{}return e.\u0275prov=ae({token:e,providedIn:"root",factory:()=>new Ah(Ge(zu),window,Ge(mn))}),e})();class Ah{constructor(e,t,i){this.document=e,this.window=t,this.errorHandler=i,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);const i=this.document.querySelector(`[name='${e}']`);if(i)return void this.scrollToElement(i)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,n=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],n-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}class Oh extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var e;e=new Oh,Ru||(Ru=e)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=Bh||(Bh=document.querySelector("base"),Bh)?Bh.getAttribute("href"):null;return null==t?null:(i=t,Fh||(Fh=document.createElement("a")),Fh.setAttribute("href",i),"/"===Fh.pathname.charAt(0)?Fh.pathname:"/"+Fh.pathname);var i}resetBaseElement(){Bh=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return Vc(document.cookie,e)}}let Fh,Bh=null;const Mh=new Pe("TRANSITION_ID"),Ph=[{provide:jl,useFactory:function(e,t,i){return()=>{i.get(Hl).donePromise.then(()=>{const i=Uu();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>i.remove(e))})}},deps:[Mh,zu,Ms],multi:!0}];class Lh{static init(){var e;e=new Lh,xu=e}addToWindow(e){ke.getAngularTestability=(t,i=!0)=>{const n=e.findTestabilityInTree(t,i);if(null==n)throw new Error("Could not find testability for element.");return n},ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),ke.getAllAngularRootElements=()=>e.getAllRootElements(),ke.frameworkStabilizers||(ke.frameworkStabilizers=[]),ke.frameworkStabilizers.push(e=>{const t=ke.getAllAngularTestabilities();let i=t.length,n=!1;const r=function(t){n=n||t,i--,0==i&&e(n)};t.forEach((function(e){e.whenStable(r)}))})}findTestabilityInTree(e,t,i){if(null==t)return null;const n=e.getTestability(t);return null!=n?n:i?Uu().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const Nh=new Pe("EventManagerPlugins");let Rh=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,i){return this._findPluginFor(t).addEventListener(e,t,i)}addGlobalEventListener(e,t,i){return this._findPluginFor(t).addGlobalEventListener(e,t,i)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const i=this._plugins;for(let n=0;n<i.length;n++){const t=i[n];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}return e.\u0275fac=function(t){return new(t||e)(Ge(Nh),Ge(uu))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();class Uh{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const n=Uu().getGlobalEventTarget(this._doc,e);if(!n)throw new Error(`Unsupported event target ${n} for event ${t}`);return this.addEventListener(n,t,i)}}let zh=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),Vh=(()=>{class e extends zh{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const i=this._doc.createElement("style");i.textContent=e,this._styleNodes.add(t.appendChild(i))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>Uu().remove(e))}}return e.\u0275fac=function(t){return new(t||e)(Ge(zu))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const jh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Hh=/%COMP%/g;function Wh(e,t,i){for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?Wh(e,r,i):(r=r.replace(Hh,e),i.push(r))}return i}function Gh(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let qh=(()=>{class e{constructor(e,t,i){this.eventManager=e,this.sharedStylesHost=t,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new $h(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ot.Emulated:{let i=this.rendererByCompId.get(t.id);return i||(i=new Zh(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,i)),i.applyToHost(e),i}case ot.Native:case ot.ShadowDom:return new Xh(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Wh(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(Ge(Rh),Ge(Vh),Ge(Wl))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();class $h{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(jh[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,n){if(n){t=n+":"+t;const r=jh[n];r?e.setAttributeNS(r,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const n=jh[i];n?e.removeAttributeNS(n,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,n){n&xa.DashCase?e.style.setProperty(t,i,n&xa.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&xa.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Gh(i)):this.eventManager.addEventListener(e,t,Gh(i))}}class Zh extends $h{constructor(e,t,i,n){super(e),this.component=i;const r=Wh(n+"-"+i.id,i.styles,[]);t.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(Hh,n+"-"+i.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(Hh,e)}(n+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Xh extends $h{constructor(e,t,i,n){super(e),this.sharedStylesHost=t,this.hostEl=i,this.component=n,this.shadowRoot=n.encapsulation===ot.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=Wh(n.id,n.styles,[]);for(let s=0;s<r.length;s++){const e=document.createElement("style");e.textContent=r[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Yh=(()=>{class e extends Uh{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,i){return e.addEventListener(t,i,!1),()=>this.removeEventListener(e,t,i)}removeEventListener(e,t,i){return e.removeEventListener(t,i)}}return e.\u0275fac=function(t){return new(t||e)(Ge(zu))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const Kh=["alt","control","meta","shift"],Jh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ed={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let td=(()=>{class e extends Uh{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,n){const r=e.parseEventName(i),s=e.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Uu().onAndCancel(t,r.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;const r=e._normalizeKey(i.pop());let s="";if(Kh.forEach(e=>{const t=i.indexOf(e);t>-1&&(i.splice(t,1),s+=e+".")}),s+=r,0!=i.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=s,o}static getEventFullKey(e){let t="",i=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Qh.hasOwnProperty(t)&&(t=Qh[t]))}return Jh[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Kh.forEach(n=>{n!=i&&(0,ed[n])(e)&&(t+=n+".")}),t+=i,t}static eventCallback(t,i,n){return r=>{e.getEventFullKey(r)===t&&n.runGuarded(()=>i(r))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(Ge(zu))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const id=Su(Pu,"browser",[{provide:Zl,useValue:"browser"},{provide:$l,useValue:function(){Oh.makeCurrent(),Lh.init()},multi:!0},{provide:zu,useFactory:function(){return function(e){Mt=e}(document),document},deps:[]}]),nd=[[],{provide:ws,useValue:"root"},{provide:mn,useFactory:function(){return new mn},deps:[]},{provide:Nh,useClass:Yh,multi:!0,deps:[zu,uu,Zl]},{provide:Nh,useClass:td,multi:!0,deps:[zu]},[],{provide:qh,useClass:qh,deps:[Rh,Vh,Wl]},{provide:wa,useExisting:qh},{provide:zh,useExisting:Vh},{provide:Vh,useClass:Vh,deps:[zu]},{provide:yu,useClass:yu,deps:[uu]},{provide:Rh,useClass:Rh,deps:[Nh,uu]},[]];let rd=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:Wl,useValue:t.appId},{provide:Mh,useExisting:Wl},Ph]}}}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)(Ge(e,12))},providers:nd,imports:[kh,Nu]}),e})();function sd(...e){let t=e[e.length-1];return E(t)?(e.pop(),P(e,t)):W(e)}function od(e,t){return z(e,t,1)}function ad(e,t){return function(i){return i.lift(new ld(e,t))}}"undefined"!=typeof window&&window;class ld{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new ud(e,this.predicate,this.thisArg))}}class ud extends f{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}class cd{}class hd{}class dd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const i=e.slice(0,t),n=i.toLowerCase(),r=e.slice(t+1).trim();this.maybeSetNormalizedName(i,n),this.headers.has(n)?this.headers.get(n).push(r):this.headers.set(n,[r])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const n=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(n,i),this.maybeSetNormalizedName(t,n))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof dd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new dd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof dd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const n=("a"===e.op?this.headers.get(t):void 0)||[];n.push(...i),this.headers.set(t,n);break;case"d":const r=e.value;if(r){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===r.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class pd{encodeKey(e){return fd(e)}encodeValue(e){return fd(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function fd(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class md{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new pd,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const i=new Map;return e.length>0&&e.split("&").forEach(e=>{const n=e.indexOf("="),[r,s]=-1==n?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,n)),t.decodeValue(e.slice(n+1))],o=i.get(r)||[];o.push(s),i.set(r,o)}),i}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new md({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const i=t.indexOf(e.value);-1!==i&&t.splice(i,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function gd(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function yd(e){return"undefined"!=typeof Blob&&e instanceof Blob}function vd(e){return"undefined"!=typeof FormData&&e instanceof FormData}class bd{constructor(e,t,i,n){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==i?i:null,r=n):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new dd),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const i=t.indexOf("?");this.urlWithParams=t+(-1===i?"?":i<t.length-1?"&":"")+e}}else this.params=new md,this.urlWithParams=t}serializeBody(){return null===this.body?null:gd(this.body)||yd(this.body)||vd(this.body)||"string"==typeof this.body?this.body:this.body instanceof md?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vd(this.body)?null:yd(this.body)?this.body.type||null:gd(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof md?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,n=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,i)=>t.set(i,e.setHeaders[i]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,i)=>t.set(i,e.setParams[i]),l)),new bd(t,i,r,{params:l,headers:a,reportProgress:o,responseType:n,withCredentials:s})}}var wd=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({});class xd{constructor(e,t=200,i="OK"){this.headers=e.headers||new dd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Cd extends xd{constructor(e={}){super(e),this.type=wd.ResponseHeader}clone(e={}){return new Cd({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _d extends xd{constructor(e={}){super(e),this.type=wd.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new _d({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Sd extends xd{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Ed(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Dd=(()=>{class e{constructor(e){this.handler=e}request(e,t,i={}){let n;if(e instanceof bd)n=e;else{let r=void 0;r=i.headers instanceof dd?i.headers:new dd(i.headers);let s=void 0;i.params&&(s=i.params instanceof md?i.params:new md({fromObject:i.params})),n=new bd(e,t,void 0!==i.body?i.body:null,{headers:r,params:s,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const r=sd(n).pipe(od(e=>this.handler.handle(e)));if(e instanceof bd||"events"===i.observe)return r;const s=r.pipe(ad(e=>e instanceof _d));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return s.pipe(D(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe(D(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe(D(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe(D(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new md).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,i={}){return this.request("PATCH",e,Ed(i,t))}post(e,t,i={}){return this.request("POST",e,Ed(i,t))}put(e,t,i={}){return this.request("PUT",e,Ed(i,t))}}return e.\u0275fac=function(t){return new(t||e)(Ge(cd))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();class kd{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Id=new Pe("HTTP_INTERCEPTORS");let Td=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const Ad=/^\)\]\}',?\n/;class Od{}let Fd=(()=>{class e{constructor(){}build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),Bd=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new v(t=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((e,t)=>i.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&i.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();i.responseType="json"!==t?t:"text"}const n=e.serializeBody();let r=null;const s=()=>{if(null!==r)return r;const t=1223===i.status?204:i.status,n=i.statusText||"OK",s=new dd(i.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||e.url;return r=new Cd({headers:s,status:t,statusText:n,url:o}),r},o=()=>{let{headers:n,status:r,statusText:o,url:a}=s(),l=null;204!==r&&(l=void 0===i.response?i.responseText:i.response),0===r&&(r=l?200:0);let u=r>=200&&r<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(Ad,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=e,u&&(u=!1,l={error:c,text:l})}}u?(t.next(new _d({body:l,headers:n,status:r,statusText:o,url:a||void 0})),t.complete()):t.error(new Sd({error:l,headers:n,status:r,statusText:o,url:a||void 0}))},a=e=>{const{url:n}=s(),r=new Sd({error:e,status:i.status||0,statusText:i.statusText||"Unknown Error",url:n||void 0});t.error(r)};let l=!1;const u=n=>{l||(t.next(s()),l=!0);let r={type:wd.DownloadProgress,loaded:n.loaded};n.lengthComputable&&(r.total=n.total),"text"===e.responseType&&i.responseText&&(r.partialText=i.responseText),t.next(r)},c=e=>{let i={type:wd.UploadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),t.next(i)};return i.addEventListener("load",o),i.addEventListener("error",a),e.reportProgress&&(i.addEventListener("progress",u),null!==n&&i.upload&&i.upload.addEventListener("progress",c)),i.send(n),t.next({type:wd.Sent}),()=>{i.removeEventListener("error",a),i.removeEventListener("load",o),e.reportProgress&&(i.removeEventListener("progress",u),null!==n&&i.upload&&i.upload.removeEventListener("progress",c)),i.readyState!==i.DONE&&i.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(Ge(Od))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const Md=new Pe("XSRF_COOKIE_NAME"),Pd=new Pe("XSRF_HEADER_NAME");class Ld{}let Nd=(()=>{class e{constructor(e,t,i){this.doc=e,this.platform=t,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Vc(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(Ge(zu),Ge(Zl),Ge(Md))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),Rd=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const i=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return t.handle(e);const n=this.tokenService.getToken();return null===n||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,n)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(Ge(Ld),Ge(Pd))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),Ud=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(Id,[]);this.chain=e.reduceRight((e,t)=>new kd(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(Ge(hd),Ge(Ms))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),zd=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:Rd,useClass:Td}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:Md,useValue:t.cookieName}:[],t.headerName?{provide:Pd,useValue:t.headerName}:[]]}}}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},providers:[Rd,{provide:Id,useExisting:Rd,multi:!0},{provide:Ld,useClass:Nd},{provide:Md,useValue:"XSRF-TOKEN"},{provide:Pd,useValue:"X-XSRF-TOKEN"}]}),e})(),Vd=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},providers:[Dd,{provide:cd,useClass:Ud},Bd,{provide:hd,useExisting:Bd},Fd,{provide:Od,useExisting:Fd}],imports:[[zd.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();class jd extends _{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new w;return this._value}next(e){super.next(this._value=e)}}const Hd=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();class Wd extends f{notifyNext(e,t,i,n,r){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Gd extends f{constructor(e,t,i){super(),this.parent=e,this.outerValue=t,this.outerIndex=i,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function qd(e,t,i,n,r=new Gd(e,i,n)){if(!r.closed)return t instanceof v?t.subscribe(r):M(t)(r)}const $d={};class Zd{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Xd(e,this.resultSelector))}}class Xd extends Wd{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push($d),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let i=0;i<t;i++)this.add(qd(this,e[i],void 0,i))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,i){const n=this.values,r=this.toRespond?n[i]===$d?--this.toRespond:this.toRespond:0;n[i]=t,0===r&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const Yd=new v(e=>e.complete());function Kd(e){return e?function(e){return new v(t=>e.schedule(()=>t.complete()))}(e):Yd}function Jd(e){return new v(t=>{let i;try{i=e()}catch(n){return void t.error(n)}return(i?L(i):Kd()).subscribe(t)})}function Qd(){return H(1)}const ep=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function tp(e){return function(t){return 0===e?Kd():t.lift(new ip(e))}}class ip{constructor(e){if(this.total=e,this.total<0)throw new ep}call(e,t){return t.subscribe(new np(e,this.total))}}class np extends f{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,i=this.total,n=this.count++;t.length<i?t.push(e):t[n%i]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const i=this.count>=this.total?this.total:this.count,n=this.ring;for(let r=0;r<i;r++){const r=t++%i;e.next(n[r])}}e.complete()}}function rp(e=ap){return t=>t.lift(new sp(e))}class sp{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new op(e,this.errorFactory))}}class op extends f{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function ap(){return new Hd}function lp(e=null){return t=>t.lift(new up(e))}class up{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new cp(e,this.defaultValue))}}class cp extends f{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function hp(e){return function(t){const i=new dp(e),n=t.lift(i);return i.caught=n}}class dp{constructor(e){this.selector=e}call(e,t){return t.subscribe(new pp(e,this.selector,this.caught))}}class pp extends R{constructor(e,t,i){super(e),this.selector=t,this.caught=i}error(e){if(!this.isStopped){let i;try{i=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const n=new N(this);this.add(n);const r=U(i,n);r!==n&&this.add(r)}}}function fp(e){return t=>0===e?Kd():t.lift(new mp(e))}class mp{constructor(e){if(this.total=e,this.total<0)throw new ep}call(e,t){return t.subscribe(new gp(e,this.total))}}class gp extends f{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}function yp(e,t){const i=arguments.length>=2;return n=>n.pipe(e?ad((t,i)=>e(t,i,n)):y,fp(1),i?lp(t):rp(()=>new Hd))}function vp(){}function bp(e,t,i){return function(n){return n.lift(new wp(e,t,i))}}class wp{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new xp(e,this.nextOrObserver,this.error,this.complete))}}class xp extends f{constructor(e,t,i,r){super(e),this._tapNext=vp,this._tapError=vp,this._tapComplete=vp,this._tapError=i||vp,this._tapComplete=r||vp,n(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||vp,this._tapError=t.error||vp,this._tapComplete=t.complete||vp)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class Cp{constructor(e,t,i){this.predicate=e,this.thisArg=t,this.source=i}call(e,t){return t.subscribe(new _p(e,this.predicate,this.thisArg,this.source))}}class _p extends f{constructor(e,t,i,n){super(e),this.predicate=t,this.thisArg=i,this.source=n,this.index=0,this.thisArg=i||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(i){return void this.destination.error(i)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Sp(e,t){return"function"==typeof t?i=>i.pipe(Sp((i,n)=>L(e(i,n)).pipe(D((e,r)=>t(i,e,n,r))))):t=>t.lift(new Ep(e))}class Ep{constructor(e){this.project=e}call(e,t){return t.subscribe(new Dp(e,this.project))}}class Dp extends R{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(n){return void this.destination.error(n)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const i=new N(this),n=this.destination;n.add(i),this.innerSubscription=U(e,i),this.innerSubscription!==i&&n.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}function kp(...e){return Qd()(sd(...e))}function Ip(...e){const t=e[e.length-1];return E(t)?(e.pop(),i=>kp(e,i,t)):t=>kp(e,t)}class Tp{constructor(e,t,i=!1){this.accumulator=e,this.seed=t,this.hasSeed=i}call(e,t){return t.subscribe(new Ap(e,this.accumulator,this.seed,this.hasSeed))}}class Ap extends f{constructor(e,t,i,n){super(e),this.accumulator=t,this._seed=i,this.hasSeed=n,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let i;try{i=this.accumulator(this.seed,e,t)}catch(n){this.destination.error(n)}this.seed=i,this.destination.next(i)}}class Op{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Fp(e,this.callback))}}class Fp extends f{constructor(e,t){super(e),this.add(new h(t))}}class Bp{constructor(e,t){this.id=e,this.url=t}}class Mp extends Bp{constructor(e,t,i="imperative",n=null){super(e,t),this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pp extends Bp{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Lp extends Bp{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Np extends Bp{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Rp extends Bp{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Up extends Bp{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zp extends Bp{constructor(e,t,i,n,r){super(e,t),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vp extends Bp{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jp extends Bp{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hp{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wp{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gp{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qp{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $p{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zp{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xp{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Yp{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Kp(e){return new Yp(e)}function Jp(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Qp(e,t,i){const n=i.path.split("/");if(n.length>e.length)return null;if("full"===i.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const r={};for(let s=0;s<n.length;s++){const t=n[s],i=e[s];if(t.startsWith(":"))r[t.substring(1)]=i;else if(t!==i.path)return null}return{consumed:e.slice(0,n.length),posParams:r}}function ef(e,t){const i=Object.keys(e),n=Object.keys(t);if(!i||!n||i.length!=n.length)return!1;let r;for(let s=0;s<i.length;s++)if(r=i[s],!tf(e[r],t[r]))return!1;return!0}function tf(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every(e=>t.indexOf(e)>-1):e===t}function nf(e){return Array.prototype.concat.apply([],e)}function rf(e){return e.length>0?e[e.length-1]:null}function sf(e,t){for(const i in e)e.hasOwnProperty(i)&&t(e[i],i)}function of(e){return co(e)?e:uo(e)?L(Promise.resolve(e)):sd(e)}function af(e,t,i){return i?function(e,t){return ef(e,t)}(e.queryParams,t.queryParams)&&function e(t,i){if(!hf(t.segments,i.segments))return!1;if(t.numberOfChildren!==i.numberOfChildren)return!1;for(const n in i.children){if(!t.children[n])return!1;if(!e(t.children[n],i.children[n]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>tf(e[i],t[i]))}(e.queryParams,t.queryParams)&&function e(t,i){return function t(i,n,r){if(i.segments.length>r.length)return!!hf(i.segments.slice(0,r.length),r)&&!n.hasChildren();if(i.segments.length===r.length){if(!hf(i.segments,r))return!1;for(const t in n.children){if(!i.children[t])return!1;if(!e(i.children[t],n.children[t]))return!1}return!0}{const e=r.slice(0,i.segments.length),s=r.slice(i.segments.length);return!!hf(i.segments,e)&&!!i.children.primary&&t(i.children.primary,n,s)}}(t,i,i.segments)}(e.root,t.root)}class lf{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kp(this.queryParams)),this._queryParamMap}toString(){return mf.serialize(this)}}class uf{constructor(e,t){this.segments=e,this.children=t,this.parent=null,sf(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gf(this)}}class cf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Kp(this.parameters)),this._parameterMap}toString(){return Cf(this)}}function hf(e,t){return e.length===t.length&&e.every((e,i)=>e.path===t[i].path)}function df(e,t){let i=[];return sf(e.children,(e,n)=>{"primary"===n&&(i=i.concat(t(e,n)))}),sf(e.children,(e,n)=>{"primary"!==n&&(i=i.concat(t(e,n)))}),i}class pf{}class ff{parse(e){const t=new kf(e);return new lf(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+function e(t,i){if(!t.hasChildren())return gf(t);if(i){const i=t.children.primary?e(t.children.primary,!1):"",n=[];return sf(t.children,(t,i)=>{"primary"!==i&&n.push(`${i}:${e(t,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}{const i=df(t,(i,n)=>"primary"===n?[e(t.children.primary,!1)]:[`${n}:${e(i,!1)}`]);return`${gf(t)}/(${i.join("//")})`}}(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const i=e[t];return Array.isArray(i)?i.map(e=>`${vf(t)}=${vf(e)}`).join("&"):`${vf(t)}=${vf(i)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+encodeURI(e.fragment):""}`}}const mf=new ff;function gf(e){return e.segments.map(e=>Cf(e)).join("/")}function yf(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vf(e){return yf(e).replace(/%3B/gi,";")}function bf(e){return yf(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wf(e){return decodeURIComponent(e)}function xf(e){return wf(e.replace(/\+/g,"%20"))}function Cf(e){return`${bf(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${bf(e)}=${bf(t[e])}`).join("")}`;var t}const _f=/^[^\/()?;=#]+/;function Sf(e){const t=e.match(_f);return t?t[0]:""}const Ef=/^[^=?&#]+/,Df=/^[^?&#]+/;class kf{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new uf([],{}):new uf([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i.primary=new uf(e,t)),i}parseSegment(){const e=Sf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new cf(wf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Sf(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const e=Sf(this.remaining);e&&(i=e,this.capture(i))}e[wf(t)]=wf(i)}parseQueryParam(e){const t=function(e){const t=e.match(Ef);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Df);return t?t[0]:""}(this.remaining);e&&(i=e,this.capture(i))}const n=xf(t),r=xf(i);if(e.hasOwnProperty(n)){let t=e[n];Array.isArray(t)||(t=[t],e[n]=t),t.push(r)}else e[n]=r}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Sf(this.remaining),n=this.remaining[i.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;i.indexOf(":")>-1?(r=i.substr(0,i.indexOf(":")),this.capture(r),this.capture(":")):e&&(r="primary");const s=this.parseChildren();t[r]=1===Object.keys(s).length?s.primary:new uf([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class If{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Tf(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Tf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Af(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Af(e,this._root).map(e=>e.value)}}function Tf(e,t){if(e===t.value)return t;for(const i of t.children){const t=Tf(e,i);if(t)return t}return null}function Af(e,t){if(e===t.value)return[t];for(const i of t.children){const n=Af(e,i);if(n.length)return n.unshift(t),n}return[]}class Of{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ff(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Bf extends If{constructor(e,t){super(e),this.snapshot=t,Uf(this,e)}toString(){return this.snapshot.toString()}}function Mf(e,t){const i=function(e,t){const i=new Nf([],{},{},"",{},"primary",t,null,e.root,-1,{});return new Rf("",new Of(i,[]))}(e,t),n=new jd([new cf("",{})]),r=new jd({}),s=new jd({}),o=new jd({}),a=new jd(""),l=new Pf(n,r,o,a,s,"primary",t,i.root);return l.snapshot=i.root,new Bf(new Of(l,[]),i)}class Pf{constructor(e,t,i,n,r,s,o,a){this.url=e,this.params=t,this.queryParams=i,this.fragment=n,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(D(e=>Kp(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(D(e=>Kp(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Lf(e,t="emptyOnly"){const i=e.pathFromRoot;let n=0;if("always"!==t)for(n=i.length-1;n>=1;){const e=i[n],t=i[n-1];if(e.routeConfig&&""===e.routeConfig.path)n--;else{if(t.component)break;n--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(n))}class Nf{constructor(e,t,i,n,r,s,o,a,l,u,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=n,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rf extends If{constructor(e,t){super(t),this.url=e,Uf(this,t)}toString(){return zf(this._root)}}function Uf(e,t){t.value._routerState=e,t.children.forEach(t=>Uf(e,t))}function zf(e){const t=e.children.length>0?` { ${e.children.map(zf).join(", ")} } `:"";return`${e.value}${t}`}function Vf(e){if(e.snapshot){const t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,ef(t.queryParams,i.queryParams)||e.queryParams.next(i.queryParams),t.fragment!==i.fragment&&e.fragment.next(i.fragment),ef(t.params,i.params)||e.params.next(i.params),function(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!ef(e[i],t[i]))return!1;return!0}(t.url,i.url)||e.url.next(i.url),ef(t.data,i.data)||e.data.next(i.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function jf(e,t){var i,n;return ef(e.params,t.params)&&hf(i=e.url,n=t.url)&&i.every((e,t)=>ef(e.parameters,n[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||jf(e.parent,t.parent))}function Hf(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Wf(e,t,i,n,r){let s={};return n&&sf(n,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new lf(i.root===e?t:function e(t,i,n){const r={};return sf(t.children,(t,s)=>{r[s]=t===i?n:e(t,i,n)}),new uf(t.segments,r)}(i.root,e,t),s,r)}class Gf{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Hf(i[0]))throw new Error("Root segment cannot have matrix parameters");const n=i.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(n&&n!==rf(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qf{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function $f(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function Zf(e,t,i){if(e||(e=new uf([],{})),0===e.segments.length&&e.hasChildren())return Xf(e,t,i);const n=function(e,t,i){let n=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(n>=i.length)return s;const t=e.segments[r],o=$f(i[n]),a=n<i.length-1?i[n+1]:null;if(r>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!Qf(o,a,t))return s;n+=2}else{if(!Qf(o,{},t))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(e,t,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const t=new uf(e.segments.slice(0,n.pathIndex),{});return t.children.primary=new uf(e.segments.slice(n.pathIndex),e.children),Xf(t,0,r)}return n.match&&0===r.length?new uf(e.segments,{}):n.match&&!e.hasChildren()?Yf(e,t,i):n.match?Xf(e,0,r):Yf(e,t,i)}function Xf(e,t,i){if(0===i.length)return new uf(e.segments,{});{const n=function(e){return"object"==typeof e[0]&&null!==e[0]&&e[0].outlets?e[0].outlets:{primary:e}}(i),r={};return sf(n,(i,n)=>{null!==i&&(r[n]=Zf(e.children[n],t,i))}),sf(e.children,(e,t)=>{void 0===n[t]&&(r[t]=e)}),new uf(e.segments,r)}}function Yf(e,t,i){const n=e.segments.slice(0,t);let r=0;for(;r<i.length;){if("object"==typeof i[r]&&null!==i[r]&&void 0!==i[r].outlets){const e=Kf(i[r].outlets);return new uf(n,e)}if(0===r&&Hf(i[0])){n.push(new cf(e.segments[t].path,i[0])),r++;continue}const s=$f(i[r]),o=r<i.length-1?i[r+1]:null;s&&o&&Hf(o)?(n.push(new cf(s,Jf(o))),r+=2):(n.push(new cf(s,{})),r++)}return new uf(n,{})}function Kf(e){const t={};return sf(e,(e,i)=>{null!==e&&(t[i]=Yf(new uf([],{}),0,e))}),t}function Jf(e){const t={};return sf(e,(e,i)=>t[i]=""+e),t}function Qf(e,t,i){return e==i.path&&ef(t,i.parameters)}class em{constructor(e,t,i,n){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=n}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Vf(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const n=Ff(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,n[t],i),delete n[t]}),sf(n,(e,t)=>{this.deactivateRouteAndItsChildren(e,i)})}deactivateRoutes(e,t,i){const n=e.value,r=t?t.value:null;if(n===r)if(n.component){const r=i.getContext(n.outlet);r&&this.deactivateChildRoutes(e,t,r.children)}else this.deactivateChildRoutes(e,t,i);else r&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet);if(i&&i.outlet){const t=i.outlet.detach(),n=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:n})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet);if(i){const n=Ff(e),r=e.value.component?i.children:t;sf(n,(e,t)=>this.deactivateRouteAndItsChildren(e,r)),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}}activateChildRoutes(e,t,i){const n=Ff(t);e.children.forEach(e=>{this.activateRoutes(e,n[e.value.outlet],i),this.forwardEvent(new Zp(e.value.snapshot))}),e.children.length&&this.forwardEvent(new qp(e.value.snapshot))}activateRoutes(e,t,i){const n=e.value,r=t?t.value:null;if(Vf(n),n===r)if(n.component){const r=i.getOrCreateContext(n.outlet);this.activateChildRoutes(e,t,r.children)}else this.activateChildRoutes(e,t,i);else if(n.component){const t=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){const e=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),tm(e.route)}else{const i=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(n.snapshot),r=i?i.module.componentFactoryResolver:null;t.attachRef=null,t.route=n,t.resolver=r,t.outlet&&t.outlet.activateWith(n,r),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,i)}}function tm(e){Vf(e.value),e.children.forEach(tm)}class im{constructor(e,t){this.routes=e,this.module=t}}function nm(e){return"function"==typeof e}function rm(e){return e instanceof lf}class sm{constructor(e){this.segmentGroup=e||null}}class om{constructor(e){this.urlTree=e}}function am(e){return new v(t=>t.error(new sm(e)))}function lm(e){return new v(t=>t.error(new om(e)))}function um(e){return new v(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class cm{constructor(e,t,i,n,r){this.configLoader=t,this.urlSerializer=i,this.urlTree=n,this.config=r,this.allowRedirects=!0,this.ngModule=e.get(Ye)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(D(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(hp(e=>{if(e instanceof om)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof sm)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(D(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(hp(e=>{if(e instanceof sm)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const n=e.segments.length>0?new uf([],{primary:e}):e;return new lf(n,t,i)}expandSegmentGroup(e,t,i,n){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(D(e=>new uf([],e))):this.expandSegment(e,i,t,i.segments,n,!0)}expandChildren(e,t,i){return function(e,t){if(0===Object.keys(e).length)return sd({});const i=[],n=[],r={};return sf(e,(e,s)=>{const o=t(s,e).pipe(D(e=>r[s]=e));"primary"===s?i.push(o):n.push(o)}),sd.apply(null,i.concat(n)).pipe(Qd(),function(e,t){const i=arguments.length>=2;return n=>n.pipe(e?ad((t,i)=>e(t,i,n)):y,tp(1),i?lp(t):rp(()=>new Hd))}(),D(()=>r))}(i.children,(i,n)=>this.expandSegmentGroup(e,t,n,i))}expandSegment(e,t,i,n,r,s){return sd(...i).pipe(D(o=>this.expandSegmentAgainstRoute(e,t,i,o,n,r,s).pipe(hp(e=>{if(e instanceof sm)return sd(null);throw e}))),Qd(),yp(e=>!!e),hp((e,i)=>{if(e instanceof Hd||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,n,r))return sd(new uf([],{}));throw new sm(t)}throw e}))}noLeftoversInUrl(e,t,i){return 0===t.length&&!e.children[i]}expandSegmentAgainstRoute(e,t,i,n,r,s,o){return fm(n)!==s?am(t):void 0===n.redirectTo?this.matchSegmentAgainstRoute(e,t,n,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,n,r,s):am(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,n,r,s){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,n,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,n,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,n){const r=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?lm(r):this.lineralizeSegments(i,r).pipe(z(i=>{const r=new uf(i,{});return this.expandSegment(e,r,t,i,n,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,n,r,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:u}=hm(t,n,r);if(!o)return am(t);const c=this.applyRedirectCommands(a,n.redirectTo,u);return n.redirectTo.startsWith("/")?lm(c):this.lineralizeSegments(n,c).pipe(z(n=>this.expandSegment(e,t,i,n.concat(r.slice(l)),s,!1)))}matchSegmentAgainstRoute(e,t,i,n){if("**"===i.path)return i.loadChildren?this.configLoader.load(e.injector,i).pipe(D(e=>(i._loadedConfig=e,new uf(n,{})))):sd(new uf(n,{}));const{matched:r,consumedSegments:s,lastChild:o}=hm(t,i,n);if(!r)return am(t);const a=n.slice(o);return this.getChildConfig(e,i,n).pipe(z(e=>{const i=e.module,n=e.routes,{segmentGroup:r,slicedSegments:o}=function(e,t,i,n){return i.length>0&&function(e,t,i){return i.some(i=>pm(e,t,i)&&"primary"!==fm(i))}(e,i,n)?{segmentGroup:dm(new uf(t,function(e,t){const i={};i.primary=t;for(const n of e)""===n.path&&"primary"!==fm(n)&&(i[fm(n)]=new uf([],{}));return i}(n,new uf(i,e.children)))),slicedSegments:[]}:0===i.length&&function(e,t,i){return i.some(i=>pm(e,t,i))}(e,i,n)?{segmentGroup:dm(new uf(e.segments,function(e,t,i,n){const r={};for(const s of i)pm(e,t,s)&&!n[fm(s)]&&(r[fm(s)]=new uf([],{}));return Object.assign(Object.assign({},n),r)}(e,i,n,e.children))),slicedSegments:i}:{segmentGroup:e,slicedSegments:i}}(t,s,a,n);return 0===o.length&&r.hasChildren()?this.expandChildren(i,n,r).pipe(D(e=>new uf(s,e))):0===n.length&&0===o.length?sd(new uf(s,{})):this.expandSegment(i,r,n,o,"primary",!0).pipe(D(e=>new uf(s.concat(e.segments),e.children)))}))}getChildConfig(e,t,i){return t.children?sd(new im(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?sd(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe(z(i=>i?this.configLoader.load(e.injector,t).pipe(D(e=>(t._loadedConfig=e,e))):function(e){return new v(t=>t.error(Jp(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):sd(new im([],e))}runCanLoadGuards(e,t,i){const n=t.canLoad;return n&&0!==n.length?L(n).pipe(D(n=>{const r=e.get(n);let s;if(function(e){return e&&nm(e.canLoad)}(r))s=r.canLoad(t,i);else{if(!nm(r))throw new Error("Invalid CanLoad guard");s=r(t,i)}return of(s)})).pipe(Qd(),bp(e=>{if(!rm(e))return;const t=Jp(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(r=e=>!0===e,e=>e.lift(new Cp(r,void 0,e)))):sd(!0);var r}lineralizeSegments(e,t){let i=[],n=t.root;for(;;){if(i=i.concat(n.segments),0===n.numberOfChildren)return sd(i);if(n.numberOfChildren>1||!n.children.primary)return um(e.redirectTo);n=n.children.primary}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,n){const r=this.createSegmentGroup(e,t.root,i,n);return new lf(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return sf(e,(e,n)=>{if("string"==typeof e&&e.startsWith(":")){const r=e.substring(1);i[n]=t[r]}else i[n]=e}),i}createSegmentGroup(e,t,i,n){const r=this.createSegments(e,t.segments,i,n);let s={};return sf(t.children,(t,r)=>{s[r]=this.createSegmentGroup(e,t,i,n)}),new uf(r,s)}createSegments(e,t,i,n){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,n):this.findOrReturn(t,i))}findPosParam(e,t,i){const n=i[t.path.substring(1)];if(!n)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return n}findOrReturn(e,t){let i=0;for(const n of t){if(n.path===e.path)return t.splice(i),n;i++}return e}}function hm(e,t,i){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||i.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const n=(t.matcher||Qp)(i,e,t);return n?{matched:!0,consumedSegments:n.consumed,lastChild:n.consumed.length,positionalParamSegments:n.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function dm(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new uf(e.segments.concat(t.segments),t.children)}return e}function pm(e,t,i){return(!(e.hasChildren()||t.length>0)||"full"!==i.pathMatch)&&""===i.path&&void 0!==i.redirectTo}function fm(e){return e.outlet||"primary"}class mm{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class gm{constructor(e,t){this.component=e,this.route=t}}function ym(e,t,i){const n=e._root;return function e(t,i,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ff(i);return t.children.forEach(t=>{!function(t,i,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,a=i?i.value:null,l=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const u=function(e,t,i){if("function"==typeof i)return i(e,t);switch(i){case"pathParamsChange":return!hf(e.url,t.url);case"pathParamsOrQueryParamsChange":return!hf(e.url,t.url)||!ef(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jf(e,t)||!ef(e.queryParams,t.queryParams);case"paramsChange":default:return!jf(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?s.canActivateChecks.push(new mm(r)):(o.data=a.data,o._resolvedData=a._resolvedData),e(t,i,o.component?l?l.children:null:n,r,s),u&&s.canDeactivateChecks.push(new gm(l&&l.outlet&&l.outlet.component||null,a))}else a&&bm(i,l,s),s.canActivateChecks.push(new mm(r)),e(t,null,o.component?l?l.children:null:n,r,s)}(t,o[t.value.outlet],n,r.concat([t.value]),s),delete o[t.value.outlet]}),sf(o,(e,t)=>bm(e,n.getContext(t),s)),s}(n,t?t._root:null,i,[n.value])}function vm(e,t,i){const n=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(n?n.module.injector:i).get(e)}function bm(e,t,i){const n=Ff(e),r=e.value;sf(n,(e,n)=>{bm(e,r.component?t?t.children.getContext(n):null:t,i)}),i.canDeactivateChecks.push(new gm(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}const wm=Symbol("INITIAL_VALUE");function xm(){return Sp(e=>function(...e){let t=void 0,i=void 0;return E(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),W(e,i).lift(new Zd(t))}(...e.map(e=>e.pipe(fp(1),Ip(wm)))).pipe(function(e,t){let i=!1;return arguments.length>=2&&(i=!0),function(n){return n.lift(new Tp(e,t,i))}}((e,t)=>{let i=!1;return t.reduce((e,n,r)=>{if(e!==wm)return e;if(n===wm&&(i=!0),!i){if(!1===n)return n;if(r===t.length-1||rm(n))return n}return e},e)},wm),ad(e=>e!==wm),D(e=>rm(e)?e:!0===e),fp(1)))}function Cm(e,t){return null!==e&&t&&t(new $p(e)),sd(!0)}function _m(e,t){return null!==e&&t&&t(new Gp(e)),sd(!0)}function Sm(e,t,i){const n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?sd(n.map(n=>Jd(()=>{const r=vm(n,t,i);let s;if(function(e){return e&&nm(e.canActivate)}(r))s=of(r.canActivate(t,e));else{if(!nm(r))throw new Error("Invalid CanActivate guard");s=of(r(t,e))}return s.pipe(yp())}))).pipe(xm()):sd(!0)}function Em(e,t,i){const n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Jd(()=>sd(t.guards.map(r=>{const s=vm(r,t.node,i);let o;if(function(e){return e&&nm(e.canActivateChild)}(s))o=of(s.canActivateChild(n,e));else{if(!nm(s))throw new Error("Invalid CanActivateChild guard");o=of(s(n,e))}return o.pipe(yp())})).pipe(xm())));return sd(r).pipe(xm())}class Dm{}class km{constructor(e,t,i,n,r,s){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=n,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){try{const e=Am(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),i=new Nf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),n=new Of(i,t),r=new Rf(this.url,n);return this.inheritParamsAndData(r._root),sd(r)}catch(e){return new v(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,i=Lf(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=df(t,(t,i)=>this.processSegmentGroup(e,t,i));return function(e){const t={};e.forEach(e=>{const i=t[e.value.outlet];if(i){const t=i.url.map(e=>e.toString()).join("/"),n=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${n}'.`)}t[e.value.outlet]=e.value})}(i),i.sort((e,t)=>"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)),i}processSegment(e,t,i,n){for(const s of e)try{return this.processSegmentAgainstRoute(s,t,i,n)}catch(r){if(!(r instanceof Dm))throw r}if(this.noLeftoversInUrl(t,i,n))return[];throw new Dm}noLeftoversInUrl(e,t,i){return 0===t.length&&!e.children[i]}processSegmentAgainstRoute(e,t,i,n){if(e.redirectTo)throw new Dm;if((e.outlet||"primary")!==n)throw new Dm;let r,s=[],o=[];if("**"===e.path){const s=i.length>0?rf(i).parameters:{};r=new Nf(i,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bm(e),n,e.component,e,Im(t),Tm(t)+i.length,Mm(e))}else{const a=function(e,t,i){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||i.length>0))throw new Dm;return{consumedSegments:[],lastChild:0,parameters:{}}}const n=(t.matcher||Qp)(i,e,t);if(!n)throw new Dm;const r={};sf(n.posParams,(e,t)=>{r[t]=e.path});const s=n.consumed.length>0?Object.assign(Object.assign({},r),n.consumed[n.consumed.length-1].parameters):r;return{consumedSegments:n.consumed,lastChild:n.consumed.length,parameters:s}}(t,e,i);s=a.consumedSegments,o=i.slice(a.lastChild),r=new Nf(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bm(e),n,e.component,e,Im(t),Tm(t)+s.length,Mm(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:u}=Am(t,s,o,a,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const e=this.processChildren(a,l);return[new Of(r,e)]}if(0===a.length&&0===u.length)return[new Of(r,[])];const c=this.processSegment(a,l,u,"primary");return[new Of(r,c)]}}function Im(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Tm(e){let t=e,i=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,i+=t._segmentIndexShift?t._segmentIndexShift:0;return i-1}function Am(e,t,i,n,r){if(i.length>0&&function(e,t,i){return i.some(i=>Om(e,t,i)&&"primary"!==Fm(i))}(e,i,n)){const r=new uf(t,function(e,t,i,n){const r={};r.primary=n,n._sourceSegment=e,n._segmentIndexShift=t.length;for(const s of i)if(""===s.path&&"primary"!==Fm(s)){const i=new uf([],{});i._sourceSegment=e,i._segmentIndexShift=t.length,r[Fm(s)]=i}return r}(e,t,n,new uf(i,e.children)));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:[]}}if(0===i.length&&function(e,t,i){return i.some(i=>Om(e,t,i))}(e,i,n)){const s=new uf(e.segments,function(e,t,i,n,r,s){const o={};for(const a of n)if(Om(e,i,a)&&!r[Fm(a)]){const i=new uf([],{});i._sourceSegment=e,i._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[Fm(a)]=i}return Object.assign(Object.assign({},r),o)}(e,t,i,n,e.children,r));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:i}}const s=new uf(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:i}}function Om(e,t,i){return(!(e.hasChildren()||t.length>0)||"full"!==i.pathMatch)&&""===i.path&&void 0===i.redirectTo}function Fm(e){return e.outlet||"primary"}function Bm(e){return e.data||{}}function Mm(e){return e.resolve||{}}function Pm(e){return function(t){return t.pipe(Sp(t=>{const i=e(t);return i?L(i).pipe(D(()=>t)):L([t])}))}}class Lm{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Nm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ct({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&ro(0,"router-outlet")},directives:function(){return[tg]},encapsulation:2}),e})();function Rm(e,t=""){for(let i=0;i<e.length;i++){const n=e[i];Um(n,zm(t,n))}}function Um(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&Rm(e.children,t)}function zm(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Vm(e){const t=e.children&&e.children.map(Vm),i=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!i.component&&(t||i.loadChildren)&&i.outlet&&"primary"!==i.outlet&&(i.component=Nm),i}const jm=new Pe("ROUTES");class Hm{constructor(e,t,i,n){this.loader=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=n}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(D(i=>{this.onLoadEndListener&&this.onLoadEndListener(t);const n=i.create(e);return new im(nf(n.injector.get(jm)).map(Vm),n)}))}loadModuleFactory(e){return"string"==typeof e?L(this.loader.load(e)):of(e()).pipe(z(e=>e instanceof Ke?sd(e):L(this.compiler.compileModuleAsync(e))))}}class Wm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Gm,this.attachRef=null}}class Gm{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Wm,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class qm{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function $m(e){throw e}function Zm(e,t,i){return t.parse("/")}function Xm(e,t){return sd(null)}let Ym=(()=>{class e{constructor(e,t,i,n,r,s,o,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=i,this.location=n,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new _,this.errorHandler=$m,this.malformedUriErrorHandler=Zm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xm,afterPreactivation:Xm},this.urlHandlingStrategy=new qm,this.routeReuseStrategy=new Lm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(Ye),this.console=r.get(Yl);const l=r.get(uu);this.isNgZoneEnabled=l instanceof uu,this.resetConfig(a),this.currentUrlTree=new lf(new uf([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hm(s,o,e=>this.triggerEvent(new Hp(e)),e=>this.triggerEvent(new Wp(e))),this.routerState=Mf(this.currentUrlTree,this.rootComponentType),this.transitions=new jd({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(ad(e=>0!==e.id),D(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Sp(e=>{let i=!1,n=!1;return sd(e).pipe(bp(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Sp(e=>{const i=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||i)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return sd(e).pipe(Sp(e=>{const i=this.transitions.getValue();return t.next(new Mp(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),i!==this.transitions.getValue()?Yd:[e]}),Sp(e=>Promise.resolve(e)),(n=this.ngModule.injector,r=this.configLoader,s=this.urlSerializer,o=this.config,function(e){return e.pipe(Sp(e=>function(e,t,i,n,r){return new cm(e,t,i,n,r).apply()}(n,r,s,e.extractedUrl,o).pipe(D(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t})))))}),bp(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,i,n,r){return function(s){return s.pipe(z(s=>function(e,t,i,n,r="emptyOnly",s="legacy"){return new km(e,t,i,n,r,s).recognize()}(e,t,s.urlAfterRedirects,i(s.urlAfterRedirects),n,r).pipe(D(e=>Object.assign(Object.assign({},s),{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),bp(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),bp(e=>{const i=new Rp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(i)}));var n,r,s,o;if(i&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:i,extractedUrl:n,source:r,restoredState:s,extras:o}=e,a=new Mp(i,this.serializeUrl(n),r,s);t.next(a);const l=Mf(n,this.rootComponentType).snapshot;return sd(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:n,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Yd}),Pm(e=>{const{targetSnapshot:t,id:i,extractedUrl:n,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:i,appliedUrlTree:n,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),bp(e=>{const t=new Up(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),D(e=>Object.assign(Object.assign({},e),{guards:ym(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(i){return i.pipe(z(i=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=i;return 0===o.length&&0===s.length?sd(Object.assign(Object.assign({},i),{guardsResult:!0})):function(e,t,i,n){return L(e).pipe(z(e=>function(e,t,i,n,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?sd(s.map(s=>{const o=vm(s,t,r);let a;if(function(e){return e&&nm(e.canDeactivate)}(o))a=of(o.canDeactivate(e,t,i,n));else{if(!nm(o))throw new Error("Invalid CanDeactivate guard");a=of(o(e,t,i,n))}return a.pipe(yp())})).pipe(xm()):sd(!0)}(e.component,e.route,i,t,n)),yp(e=>!0!==e,!0))}(o,n,r,e).pipe(z(i=>i&&"boolean"==typeof i?function(e,t,i,n){return L(t).pipe(od(t=>L([_m(t.route.parent,n),Cm(t.route,n),Em(e,t.path,i),Sm(e,t.route,i)]).pipe(Qd(),yp(e=>!0!==e,!0))),yp(e=>!0!==e,!0))}(n,s,e,t):sd(i)),D(e=>Object.assign(Object.assign({},i),{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),bp(e=>{if(rm(e.guardsResult)){const t=Jp(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),bp(e=>{const t=new zp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),ad(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const i=new Lp(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(i),e.resolve(!1),!1}return!0}),Pm(e=>{if(e.guards.canActivateChecks.length)return sd(e).pipe(bp(e=>{const t=new Vp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Sp(e=>{let i=!1;return sd(e).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,function(e){return e.pipe(z(e=>{const{targetSnapshot:t,guards:{canActivateChecks:i}}=e;if(!i.length)return sd(e);let s=0;return L(i).pipe(od(e=>function(e,t,i,n){return function(e,t,i,n){const r=Object.keys(e);if(0===r.length)return sd({});const s={};return L(r).pipe(z(r=>function(e,t,i,n){const r=vm(e,t,n);return of(r.resolve?r.resolve(t,i):r(t,i))}(e[r],t,i,n).pipe(bp(e=>{s[r]=e}))),tp(1),z(()=>Object.keys(s).length===r.length?sd(s):Yd))}(e._resolve,e,t,n).pipe(D(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Lf(e,i).resolve),null)))}(e.route,t,n,r)),bp(()=>s++),tp(1),z(t=>s===i.length?sd(e):Yd))}))}),bp({next:()=>i=!0,complete:()=>{if(!i){const i=new Lp(e.id,this.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");t.next(i),e.resolve(!1)}}}));var n,r}),bp(e=>{const t=new jp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Pm(e=>{const{targetSnapshot:t,id:i,extractedUrl:n,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:i,appliedUrlTree:n,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),D(e=>{const t=function(e,t,i){const n=function e(t,i,n){if(n&&t.shouldReuseRoute(i.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=i.value;const s=function(t,i,n){return i.children.map(i=>{for(const r of n.children)if(t.shouldReuseRoute(r.value.snapshot,i.value))return e(t,i,r);return e(t,i)})}(t,i,n);return new Of(r,s)}{const n=t.retrieve(i.value);if(n){const e=n.route;return function e(t,i){if(t.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)e(t.children[n],i.children[n])}(i,e),e}{const n=new Pf(new jd((r=i.value).url),new jd(r.params),new jd(r.queryParams),new jd(r.fragment),new jd(r.data),r.outlet,r.component,r),s=i.children.map(i=>e(t,i));return new Of(n,s)}}var r}(e,t._root,i?i._root:void 0);return new Bf(n,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),bp(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=e=>this.triggerEvent(e),D(e=>(new em(o,e.targetRouterState,e.currentRouterState,a).activate(s),e))),bp({next(){i=!0},complete(){i=!0}}),(r=()=>{if(!i&&!n){this.resetUrlToCurrentUrlTree();const i=new Lp(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(i),e.resolve(!1)}this.currentNavigation=null},e=>e.lift(new Op(r))),hp(i=>{if(n=!0,(r=i)&&r.ngNavigationCancelingError){const n=rm(i.url);n||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const r=new Lp(e.id,this.serializeUrl(e.extractedUrl),i.message);t.next(r),n?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(i.url,this.rawUrlTree);return this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const n=new Np(e.id,this.serializeUrl(e.extractedUrl),i);t.next(n);try{e.resolve(this.errorHandler(i))}catch(s){e.reject(s)}}var r;return Yd}));var r,s,o,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const i="popstate"===e.type?"popstate":"hashchange",n=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,i,n,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Rm(e),this.config=e.map(Vm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:i,queryParams:n,fragment:r,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=t;wn()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=i||this.routerState.root,u=a?this.currentUrlTree.fragment:r;let c=null;if(o)switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),n);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=n||null}else c=s?this.currentUrlTree.queryParams:n||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,i,n,r){if(0===i.length)return Wf(t.root,t.root,t,n,r);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Gf(!0,0,e);let t=0,i=!1;const n=e.reduce((e,n,r)=>{if("object"==typeof n&&null!=n){if(n.outlets){const t={};return sf(n.outlets,(e,i)=>{t[i]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(n.segmentPath)return[...e,n.segmentPath]}return"string"!=typeof n?[...e,n]:0===r?(n.split("/").forEach((n,r)=>{0==r&&"."===n||(0==r&&""===n?i=!0:".."===n?t++:""!=n&&e.push(n))}),e):[...e,n]},[]);return new Gf(i,t,n)}(i);if(s.toRoot())return Wf(t.root,new uf([],{}),t,n,r);const o=function(e,t,i){if(e.isAbsolute)return new qf(t.root,!0,0);if(-1===i.snapshot._lastPathIndex){const e=i.snapshot._urlSegment;return new qf(e,e===t.root,0)}const n=Hf(e.commands[0])?0:1;return function(e,t,i){let n=e,r=t,s=i;for(;s>r;){if(s-=r,n=n.parent,!n)throw new Error("Invalid number of '../'");r=n.segments.length}return new qf(n,!1,r-s)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+n,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?Xf(o.segmentGroup,o.index,s.commands):Zf(o.segmentGroup,o.index,s.commands);return Wf(o.segmentGroup,a,t,n,r)}(l,this.currentUrlTree,e,c,u)}navigateByUrl(e,t={skipLocationChange:!1}){wn()&&this.isNgZoneEnabled&&!uu.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const i=rm(e)?e:this.parseUrl(e),n=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(n,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const i=e[t];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(i){t=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return t}isActive(e,t){if(rm(e))return af(this.currentUrlTree,e,t);const i=this.parseUrl(e);return af(this.currentUrlTree,i,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,i)=>{const n=e[i];return null!=n&&(t[i]=n),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Pp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,i,n,r){const s=this.getTransition();if(s&&"imperative"!==t&&"imperative"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(s&&"hashchange"==t&&"popstate"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(s&&"popstate"==t&&"hashchange"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);let o,a,l;r?(o=r.resolve,a=r.reject,l=r.promise):l=new Promise((e,t)=>{o=e,a=t});const u=++this.navigationId;return this.setTransition({id:u,source:t,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:n,resolve:o,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,i,n){const r=this.urlSerializer.serialize(e);n=n||{},this.location.isCurrentPathEqualTo(r)||t?this.location.replaceState(r,"",Object.assign(Object.assign({},n),{navigationId:i})):this.location.go(r,"",Object.assign(Object.assign({},n),{navigationId:i}))}resetStateAndUrl(e,t,i){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(t){return new(t||e)(Ge(bs),Ge(pf),Ge(Gm),Ge(tc),Ge(Ms),Ge(Au),Ge(ou),Ge(void 0))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),Km=(()=>{class e{constructor(e,t,i,n,r){this.router=e,this.route=t,this.commands=[],null==i&&n.setAttribute(r.nativeElement,"tabindex","0")}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){wn()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:Qm(this.skipLocationChange),replaceUrl:Qm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Qm(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Qm(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(Js(Ym),Js(Pf),Qs("tabindex"),Js(Ca),Js(va))},e.\u0275dir=gt({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&ho("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),e})(),Jm=(()=>{class e{constructor(e,t,i){this.router=e,this.route=t,this.locationStrategy=i,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof Pp&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){wn()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,i,n){if(0!==e||t||i||n)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:Qm(this.skipLocationChange),replaceUrl:Qm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Qm(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Qm(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(Js(Ym),Js(Pf),Js(Yu))},e.\u0275dir=gt({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&ho("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(ea("href",t.href,Sn),Zs("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Tt]}),e})();function Qm(e){return""===e||!!e}let eg=(()=>{class e{constructor(e,t,i,n,r,s){this.router=e,this.element=t,this.renderer=i,this.cdr=n,this.link=r,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe(e=>{e instanceof Pp&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(e=>this.update()),this.linksWithHrefs.changes.subscribe(e=>this.update()),this.update()}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){return t=>e.isActive(t.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return e.\u0275fac=function(t){return new(t||e)(Js(Ym),Js(va),Js(Ca),Js(ys),Js(Km,8),Js(Jm,8))},e.\u0275dir=gt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,i){var n;1&e&&(Ll(i,Km,!0),Ll(i,Jm,!0)),2&e&&(Fl(n=Nl())&&(t.links=n),Fl(n=Nl())&&(t.linksWithHrefs=n))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Tt]}),e})(),tg=(()=>{class e{constructor(e,t,i,n,r){this.parentContexts=e,this.location=t,this.resolver=i,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new xl,this.deactivateEvents=new xl,this.name=n||"primary",e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const i=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),n=this.parentContexts.getOrCreateContext(this.name).children,r=new ig(e,n,this.location.injector);this.activated=this.location.createComponent(i,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(Js(Gm),Js(Wa),Js(ya),Qs("name"),Js(ys))},e.\u0275dir=gt({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class ig{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Pf?this.route:e===Gm?this.childContexts:this.parent.get(e,t)}}class ng{}class rg{preload(e,t){return sd(null)}}let sg=(()=>{class e{constructor(e,t,i,n,r){this.router=e,this.injector=n,this.preloadingStrategy=r,this.loader=new Hm(t,i,t=>e.triggerEvent(new Hp(t)),t=>e.triggerEvent(new Wp(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(ad(e=>e instanceof Pp),od(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Ye);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const i=[];for(const n of t)if(n.loadChildren&&!n.canLoad&&n._loadedConfig){const e=n._loadedConfig;i.push(this.processRoutes(e.module,e.routes))}else n.loadChildren&&!n.canLoad?i.push(this.preloadConfig(e,n)):n.children&&i.push(this.processRoutes(e,n.children));return L(i).pipe(H(),D(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(z(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(Ge(Ym),Ge(Au),Ge(ou),Ge(Ms),Ge(ng))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),og=(()=>{class e{constructor(e,t,i={}){this.router=e,this.viewportScroller=t,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Mp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Pp&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Xp&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Xp(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Ge(Ym),Ge(Th),Ge(void 0))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const ag=new Pe("ROUTER_CONFIGURATION"),lg=new Pe("ROUTER_FORROOT_GUARD"),ug=[tc,{provide:pf,useClass:ff},{provide:Ym,useFactory:function(e,t,i,n,r,s,o,a={},l,u){const c=new Ym(null,e,t,i,n,r,s,nf(o));if(l&&(c.urlHandlingStrategy=l),u&&(c.routeReuseStrategy=u),a.errorHandler&&(c.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(c.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const e=Uu();c.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return a.onSameUrlNavigation&&(c.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(c.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(c.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(c.relativeLinkResolution=a.relativeLinkResolution),c},deps:[pf,Gm,tc,Ms,Au,ou,jm,ag,[class{},new te],[class{},new te]]},Gm,{provide:Pf,useFactory:function(e){return e.routerState.root},deps:[Ym]},{provide:Au,useClass:Bu},sg,rg,class{preload(e,t){return t().pipe(hp(()=>sd(null)))}},{provide:ag,useValue:{enableTracing:!1}}];function cg(){return new _u("Router",Ym)}let hg=(()=>{class e{constructor(e,t){}static forRoot(t,i){return{ngModule:e,providers:[ug,mg(t),{provide:lg,useFactory:fg,deps:[[Ym,new te,new ne]]},{provide:ag,useValue:i||{}},{provide:Yu,useFactory:pg,deps:[Vu,[new ee(Ju),new te],ag]},{provide:og,useFactory:dg,deps:[Ym,Th,ag]},{provide:ng,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:rg},{provide:_u,multi:!0,useFactory:cg},[gg,{provide:jl,multi:!0,useFactory:yg,deps:[gg]},{provide:bg,useFactory:vg,deps:[gg]},{provide:Xl,multi:!0,useExisting:bg}]]}}static forChild(t){return{ngModule:e,providers:[mg(t)]}}}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)(Ge(lg,8),Ge(Ym,8))}}),e})();function dg(e,t,i){return i.scrollOffset&&t.setOffset(i.scrollOffset),new og(e,t,i)}function pg(e,t,i={}){return i.useHash?new ec(e,t):new Qu(e,t)}function fg(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function mg(e){return[{provide:Ps,multi:!0,useValue:e},{provide:jm,multi:!0,useValue:e}]}let gg=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new _}appInitializer(){return this.injector.get(Hu,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),i=this.injector.get(Ym),n=this.injector.get(ag);if(this.isLegacyDisabled(n)||this.isLegacyEnabled(n))e(!0);else if("disabled"===n.initialNavigation)i.setUpLocationChangeListener(),e(!0);else{if("enabled"!==n.initialNavigation)throw new Error(`Invalid initialNavigation options: '${n.initialNavigation}'`);i.hooks.afterPreactivation=()=>this.initNavigation?sd(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),i.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(ag),i=this.injector.get(sg),n=this.injector.get(og),r=this.injector.get(Ym),s=this.injector.get(Iu);e===s.components[0]&&(this.isLegacyEnabled(t)?r.initialNavigation():this.isLegacyDisabled(t)&&r.setUpLocationChangeListener(),i.setUpPreloading(),n.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}return e.\u0275fac=function(t){return new(t||e)(Ge(Ms))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();function yg(e){return e.appInitializer.bind(e)}function vg(e){return e.bootstrapListener.bind(e)}const bg=new Pe("Router Initializer"),wg=["*"];let xg=(()=>{class e{constructor(){this.ripple=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Cg=(()=>{class e{constructor(){this.messageSource=new _,this.clearSource=new _,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),_g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ct({type:e,selectors:[["p-header"]],ngContentSelectors:wg,decls:1,vars:0,template:function(e,t){1&e&&(yo(),vo(0))},encapsulation:2}),e})(),Sg=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ct({type:e,selectors:[["p-footer"]],ngContentSelectors:wg,decls:1,vars:0,template:function(e,t){1&e&&(yo(),vo(0))},encapsulation:2}),e})(),Eg=(()=>{class e{constructor(e){this.template=e}getType(){return this.name}}return e.\u0275fac=function(t){return new(t||e)(Js(ja))},e.\u0275dir=gt({type:e,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),e})(),Dg=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh]]}),e})();var kg=i("U/Lc"),Ig=function(e){return e[e.select=0]="select",e[e.build=1]="build",e[e.elementReport=2]="elementReport",e}({}),Tg=i("HUeH");let Ag=(()=>{class e{constructor(e,t){this.http=e,this.router=t}saveToken(t){console.log(t),localStorage.setItem(e.localStorage,t),this.token=t}getToken(){return this.token||(this.token=localStorage.getItem(e.localStorage)),this.token}getUserDetails(){const e=this.getToken();let t;return e?(t=e.split(".")[1],t=window.atob(t),JSON.parse(t)):null}isLoggedIn(){const e=this.getUserDetails();return!!e&&e.exp>Date.now()/1e3}request(e,t,i){let n;return n="post"===e?this.http.post("/api/"+t,i):this.http.get("/api/"+t,{headers:{Authorization:"Bearer "+this.getToken()}}),n.pipe(D(e=>(e.token&&this.saveToken(e.token),e)))}register(e){return this.request("post","register",e)}login(e){return this.request("post","login",e)}profile(){return this.request("get","profile")}logout(){this.token="",window.localStorage.removeItem(e.localStorage)}}return e.localStorage="blueprintnotincluded-token",e.\u0275fac=function(t){return new(t||e)(Ge(Dd),Ge(Ym))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),Og=(()=>{class e{constructor(t,i){this.http=t,this.authService=i,this.blueprint=new kg.Blueprint,this.blueprint.subscribeBlueprintChanged(this),this.resetUndoStates(),this.observersBlueprintChanged=[],this.thumbnailStyle=kg.Display.solid,e.blueprintService=this,this.reset()}get blueprint(){return this.blueprint_}set blueprint(e){this.blueprint_=e}get savedBlueprint(){return null!=this.id}subscribeBlueprintChanged(e){this.observersBlueprintChanged.push(e)}openBlueprintFromUpload(e,t){t.length>0&&(e==Bg.YAML?this.openYamlBlueprint(t[0]):e==Bg.JSON?this.openJsonBlueprint(t[0]):e==Bg.BSON&&this.openBsonBlueprint(t[0]),this.resetUndoStates())}openYamlBlueprint(e){let t=new FileReader;t.onloadend=()=>{this.loadYamlBlueprint(t.result)},t.readAsText(e)}loadYamlBlueprint(e){let t=Tg.safeLoad(e),i=new kg.Blueprint;this.name=t.name,i.importFromOni(t),this.observersBlueprintChanged.map(e=>{e.blueprintChanged(i)})}openJsonBlueprint(e){let t=new FileReader;t.onloadend=()=>{this.loadJsonBlueprint(t.result)},t.readAsText(e)}loadJsonBlueprint(e){let t=JSON.parse(e),i=new kg.Blueprint;this.name=t.friendlyname,i.importFromBni(t),this.observersBlueprintChanged.map(e=>{e.blueprintChanged(i)})}openBsonBlueprint(e){let t=new FileReader;t.onloadend=()=>{this.loadBsonBlueprint(t.result)},t.readAsArrayBuffer(e)}loadBsonBlueprint(e){let t=new kg.Blueprint;t.importFromBinary(e),this.observersBlueprintChanged.map(e=>{e.blueprintChanged(t)})}loadUrlBlueprint(e){this.http.get(e).subscribe(e=>{console.log(e)})}newBlueprint(){this.name="new blueprint",this.reset();let e=new kg.Blueprint;this.observersBlueprintChanged.map(t=>{t.blueprintChanged(e)}),this.resetUndoStates()}reset(){this.id=null,this.likedByMe=!1}undo(){let e=this.undoIndex-1;e<0||e>=this.undoStates.length||(this.undoIndex=e,this.reloadUndoIndex())}redo(){let e=this.undoIndex+1;e>=this.undoStates.length||(this.undoIndex=e,this.reloadUndoIndex())}reloadUndoIndex(){let e=new kg.Blueprint;e.importFromMdb(this.undoStates[this.undoIndex]),this.suppressChanges=!0,this.blueprint.destroyAndCopyItems(e),this.blueprint.refreshOverlayInfo(),this.suppressChanges=!1}resetUndoStates(){this.suppressChanges=!1,this.undoStates=[],this.undoIndex=0,this.blueprintChanged()}itemDestroyed(){}itemAdded(e){}blueprintChanged(){if(this.suppressChanges)return;this.undoIndex<this.undoStates.length-1&&this.undoStates.splice(this.undoIndex+1);let e=this.blueprint.toMdbBlueprint();for(this.undoStates.push(e);this.undoStates.length>50;)this.undoStates.splice(0,1);this.undoIndex=this.undoStates.length-1}hashMdb(e){let t=JSON.stringify(e);var i,n=0;if(0===t.length)return n;for(i=0;i<t.length;i++)n=(n<<5)-n+t.charCodeAt(i),n|=0;return n}openBlueprintFromId(e){this.getBlueprint(e).subscribe({next:this.handleGetBlueprint.bind(this),error:this.handleGetBlueprintError.bind(this)})}handleGetBlueprint(e){this.observersBlueprintChanged.map(t=>{t.blueprintChanged(e)}),this.resetUndoStates()}handleGetBlueprintError(e){console.log(e)}getBlueprint(e){return this.http.get("/api/getblueprint/"+e).pipe(D(e=>{if(e.data){let t=new kg.Blueprint;return this.id=e.id,this.name=e.name,this.likedByMe=e.likedByMe,this.nbLikes=e.nbLikes,t.importFromMdb(e.data),t}}))}getBlueprints(e,t,i,n){let r="";null!=t&&(r="&filterUserId="+t);let s="";null!=i&&(s="&filterName="+i);let o="";n&&(o="&getDuplicates="+n);let a="olderthan="+e.getTime().toString()+r+o+s,l=this.authService.isLoggedIn()?this.http.get("/api/getblueprintsSecure?"+a,{headers:{Authorization:"Bearer "+this.authService.getToken()}}):this.http.get("/api/getblueprints?"+a);return l.pipe(D(e=>e)),l}deleteBlueprint(e){return this.http.post("/api/deleteblueprint",{blueprintId:e},{headers:{Authorization:"Bearer "+this.authService.getToken()}}).pipe(D(e=>(e.id&&(this.id=e.id),e)))}saveBlueprint(e){let t=this.blueprint.toMdbBlueprint(),i=new Fg;return i.overwrite=e,i.name=this.name,i.blueprint=t,i.thumbnail=this.thumbnail,this.http.post("/api/uploadblueprint",i,{headers:{Authorization:"Bearer "+this.authService.getToken()}}).pipe(D(e=>(e.id&&(this.id=e.id),e)))}likeBlueprint(e,t){this.likedByMe=!this.likedByMe,this.http.post("/api/likeblueprint",{blueprintId:e,like:t},{headers:{Authorization:"Bearer "+this.authService.getToken()}}).subscribe()}}return e.baseUrl="https://blueprintnotincluded.com/",e.\u0275fac=function(t){return new(t||e)(Ge(Dd),Ge(Ag))},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Fg{}var Bg=function(e){return e[e.YAML=0]="YAML",e[e.JSON=1]="JSON",e[e.BSON=2]="BSON",e}({});class Mg{constructor(e){this.oniItem=e,this.items=[],this.nbElements=[];for(let t=0;t<this.oniItem.buildableElementsArray.length;t++)this.nbElements[t]=0;this.temperatureWarning=!1,this.observersSelected=[]}get selected(){return this.selected_}set selected(e){this.selected_=e,this.setSelection(),this.selected_&&(kg.CameraService.cameraService.resetSinWave(),kg.CameraService.cameraService.setOverlayForItem(this.oniItem),this.observersSelected.map(e=>{e.selected()}))}get header(){return this.items[0].header}addItem(e){-1==this.items.indexOf(e)&&(this.items.push(e),this.updateNbElements(),this.updateTemperatureWarning())}updateNbElements(){for(let e=0;e<this.oniItem.buildableElementsArray.length;e++){let t=[];for(let i of this.items)-1==t.indexOf(i.buildableElements[e])&&t.push(i.buildableElements[e]);this.nbElements[e]=t.length}}updateTemperatureWarning(){let e=null;this.temperatureWarning=!1;for(let t of this.items)null==e?e=t.temperature:t.temperature!=e&&(this.temperatureWarning=!0)}setSelection(){for(let e of this.items)e.selected=this.selected_}destroyAll(){for(let e of this.items)Og.blueprintService.blueprint.destroyBlueprintItem(e)}subscribeSelected(e){this.observersSelected.push(e)}}let Pg=(()=>{class e{constructor(e){this.blueprintService=e,this.observersSelectionChanged=[],this.beginSelection=null,this.toggleable=!1,this.visible=!1,this.captureInput=!0,this.toolType=Ig.select,this.toolGroup=1,this.cameraService=kg.CameraService.cameraService,this.reset()}get showTool(){return this.sameItemCollections.length>0}reset(){this.deselectAll(),this.sameItemCollections=[]}subscribeSelectionChanged(e){this.observersSelectionChanged.push(e)}emitSelectionChanged(){this.observersSelectionChanged.map(e=>{e.selectionChanged()})}selectFromBox(e,t){this.deselectAll(),this.sameItemCollections=[];let i=[];for(let n=e.x;n<=t.x;n++)for(let r=e.y;r>=t.y;r--)i.push(new kg.Vector2(n,r));if(i.length>0){for(let n of i){let e=this.blueprintService.blueprint.getBlueprintItemsAt(n);for(let t of e)this.addToCollection(t)}this.sameItemCollections=this.sameItemCollections.sort((e,t)=>t.items[0].depth-e.items[0].depth);let e=null,t=!1;this.sameItemCollections.map(i=>{if(!t&&null!=i.items&&i.items.length>0){t=!0,e=i.items[0];let n=new Date;e==this.lastSelected&&null!=this.lastSelectedDate&&n.getTime()-this.lastSelectedDate.getTime()<500?this.selectAllLike(e):i.selected=!0,this.lastSelected=e,this.lastSelectedDate=n}}),null==e&&(this.currentMultipleSelectionIndex=0)}this.emitSelectionChanged()}selectAll(e){this.deselectAll(),this.blueprintService.blueprint.blueprintItems.filter(t=>t.oniItem==e).map(e=>{this.addToCollection(e)}),this.currentMultipleSelectionIndex=0,this.emitSelectionChanged()}selectAllLike(e){this.deselectAll(),this.blueprintService.blueprint.blueprintItems.filter(t=>e.oniItem.isElement?e.oniItem==t.oniItem&&e.buildableElements[0]==t.buildableElements[0]:e.oniItem==t.oniItem).map(e=>{this.addToCollection(e)}),this.currentMultipleSelectionIndex=0,this.emitSelectionChanged()}selectEveryElement(e){this.deselectAll();for(let t of this.blueprintService.blueprint.blueprintItems)-1!=t.buildableElements.indexOf(e)&&this.addToCollection(t);this.sameItemCollections=this.sameItemCollections.sort((e,t)=>t.oniItem.zIndex-e.oniItem.zIndex),this.currentMultipleSelectionIndex=0,this.emitSelectionChanged()}addToCollection(e){let t=this.sameItemCollections.filter(t=>e.oniItem.isElement?e.oniItem.id==t.oniItem.id&&e.buildableElements[0].id==t.items[0].buildableElements[0].id:e.oniItem.id==t.oniItem.id);if(0==t.length){let t=new Mg(e.oniItem);t.addItem(e),this.sameItemCollections.push(t)}else t[0].addItem(e)}deselectAll(){null!=this.sameItemCollections&&this.sameItemCollections.map(e=>{e.selected=!1}),this.sameItemCollections=[],this.emitSelectionChanged()}buildingsDestroy(e){this.blueprintService.blueprint.pauseChangeEvents();for(let t of e.items)this.blueprintService.blueprint.destroyBlueprintItem(t);this.blueprintService.blueprint.resumeChangeEvents(),this.sameItemCollections.splice(this.sameItemCollections.indexOf(e),1),this.emitSelectionChanged()}get currentMultipleSelectionIndex(){let e=-1;for(let t=0;t<this.sameItemCollections.length;t++)this.sameItemCollections[t].selected&&(e=t);return e}set currentMultipleSelectionIndex(e){for(let t=0;t<this.sameItemCollections.length;t++)this.sameItemCollections[t].selected=e==t}itemGroupeNext(){let e=this.currentMultipleSelectionIndex;e++,e%=this.sameItemCollections.length,this.currentMultipleSelectionIndex=e}itemGroupePrevious(){let e=this.currentMultipleSelectionIndex;-1==e&&(e=1),e--,e<0&&(e+=this.sameItemCollections.length),this.currentMultipleSelectionIndex=e}destroyAll(){if(null!=this.sameItemCollections){this.blueprintService.blueprint.pauseChangeEvents();for(let e of this.sameItemCollections)e.destroyAll();this.blueprintService.blueprint.resumeChangeEvents()}this.deselectAll()}switchFrom(){this.deselectAll()}switchTo(){this.deselectAll()}mouseOut(){}mouseDown(e){}leftClick(e){this.selectFromBox(e,e)}rightClick(e){}hover(e){}drag(e,t){null==this.beginSelection&&(this.beginSelection=kg.Vector2.clone(e)),this.endSelection=kg.Vector2.clone(t)}dragStop(){if(null!=this.beginSelection&&null!=this.endSelection){let e=kg.DrawHelpers.getIntegerTile(this.beginSelection),t=kg.DrawHelpers.getIntegerTile(this.endSelection),i=new kg.Vector2(Math.min(e.x,t.x),Math.max(e.y,t.y)),n=new kg.Vector2(Math.max(e.x,t.x),Math.min(e.y,t.y));this.selectFromBox(i,n)}this.beginSelection=null}keyDown(e){if("Delete"==e){let e=this.currentMultipleSelectionIndex;-1!=e&&this.buildingsDestroy(this.sameItemCollections[e])}}draw(e,t){if(null==this.beginSelection)return;let i=new kg.Vector2(Math.min(this.beginSelection.x,this.endSelection.x),Math.max(this.beginSelection.y,this.endSelection.y)),n=new kg.Vector2(Math.max(this.beginSelection.x,this.endSelection.x),Math.min(this.beginSelection.y,this.endSelection.y));e.drawTileRectangle(t,i,n,!0,2,5046016,2987520,.25,.8)}}return e.\u0275fac=function(t){return new(t||e)(Ge(Og))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),Lg=(()=>{class e{constructor(e,t){this.blueprintService=e,this.appRef=t,this.toggleable=!1,this.visible=!1,this.captureInput=!0,this.toolType=Ig.build,this.toolGroup=1,this.observers=[]}subscribeBuildItemChanged(e){this.observers.push(e)}destroy(){null!=this.templateItemToBuild&&(this.templateItemToBuild.destroy(),this.templateItemToBuild=null)}updateBuildCandidateResult(){let e=this.templateItemToBuild.buildCandidateResult.canBuild.valueOf(),t=this.templateItemToBuild.buildCandidateResult.cantBuildReason.valueOf();this.templateItemToBuild.buildCandidateResult.canBuild=!0,this.templateItemToBuild.buildCandidateResult.cantBuildReason="";let i=this.templateItemToBuild.oniItem.buildLocationRule==kg.BuildLocationRule.Conduit||this.templateItemToBuild.oniItem.buildLocationRule==kg.BuildLocationRule.WireBridge||this.templateItemToBuild.oniItem.buildLocationRule==kg.BuildLocationRule.LogicBridge;for(let n of this.templateItemToBuild.tileIndexes)for(let e of this.blueprintService.blueprint.getBlueprintItemsAtIndex(n))i||this.templateItemToBuild.oniItem.objectLayer!=e.oniItem.objectLayer||(this.templateItemToBuild.buildCandidateResult.canBuild=!1,this.templateItemToBuild.buildCandidateResult.cantBuildReason="Can't build here : "+e.oniItem.name+" is in the way");for(let n of this.templateItemToBuild.oniItem.utilityConnections){let e=kg.Vector2.cloneNullToZero(n.offset);e=kg.DrawHelpers.rotateVector2(e,kg.Vector2.Zero,this.templateItemToBuild.rotation),e=kg.DrawHelpers.scaleVector2(e,kg.Vector2.Zero,this.templateItemToBuild.scale),e.x+=this.templateItemToBuild.position.x,e.y+=this.templateItemToBuild.position.y;let t=this.blueprintService.blueprint.getUtilityConnectionsAtIndex(kg.DrawHelpers.getTileIndex(e));for(let i of t)kg.ConnectionHelper.getConnectionOverlay(n.type)==kg.ConnectionHelper.getConnectionOverlay(i.utilityConnection.type)&&(this.templateItemToBuild.buildCandidateResult.canBuild=!1,this.templateItemToBuild.buildCandidateResult.cantBuildReason="Can't build here : The "+kg.ConnectionHelper.getConnectionName(i.utilityConnection.type)+" from "+i.blueprintItem.oniItem.name+" is in the way")}e==this.templateItemToBuild.buildCandidateResult.canBuild&&t==this.templateItemToBuild.buildCandidateResult.cantBuildReason||this.appRef.tick()}build(){if(!this.templateItemToBuild.buildCandidateResult.canBuild)return;let e=kg.BlueprintHelpers.cloneBlueprintItem(this.templateItemToBuild,!1,!0);e.prepareBoundingBox(),e.updateTileables(this.blueprintService.blueprint),this.blueprintService.blueprint.addBlueprintItem(e),this.blueprintService.blueprint.refreshOverlayInfo(),this.updateBuildCandidateResult()}connectAToB(e,t){let i=0;e.position.x==t.position.x+1&&e.position.y==t.position.y?i=1:e.position.x==t.position.x-1&&e.position.y==t.position.y?i=2:e.position.x==t.position.x&&e.position.y==t.position.y-1?i=4:e.position.x==t.position.x&&e.position.y==t.position.y+1&&(i=8),e.connections=e.connections|i}changeItem(e){null!=this.templateItemToBuild&&this.templateItemToBuild.destroy(),kg.CameraService.cameraService.setOverlayForItem(e.oniItem),this.templateItemToBuild=e,this.templateItemToBuild.setInvisible(),this.templateItemToBuild.alpha=1,this.templateItemToBuild.cleanUp(),this.templateItemToBuild.isBuildCandidate=!0,this.templateItemToBuild.prepareBoundingBox(),this.templateItemToBuild.updateTileables(this.blueprintService.blueprint),this.observers.map(t=>t.itemChanged(e))}buildAndConnect(e,t){if(this.templateItemToBuild.position=kg.Vector2.clone(t),this.templateItemToBuild.prepareBoundingBox(),this.updateBuildCandidateResult(),this.build(),this.templateItemToBuild.oniItem.isWire){let i=this.blueprintService.blueprint.getBlueprintItemsAt(e).filter(e=>e.oniItem.objectLayer==this.templateItemToBuild.oniItem.objectLayer),n=this.blueprintService.blueprint.getBlueprintItemsAt(t).filter(e=>e.oniItem.objectLayer==this.templateItemToBuild.oniItem.objectLayer);if(null!=i&&i.length>0&&null!=n&&n.length>0){let e=i[0],t=n[0];this.connectAToB(e,t),this.connectAToB(t,e),e.updateTileables(this.blueprintService.blueprint),t.updateTileables(this.blueprintService.blueprint),this.blueprintService.blueprint.emitBlueprintChanged()}}}switchFrom(){this.templateItemToBuild.destroy()}switchTo(){}mouseOut(){null!=this.templateItemToBuild&&this.templateItemToBuild.setInvisible()}leftClick(e){this.templateItemToBuild.position=e,this.build()}rightClick(e){this.parent.changeTool(Ig.select)}hover(e){this.templateItemToBuild.position=kg.Vector2.clone(e),this.templateItemToBuild.prepareBoundingBox(),this.templateItemToBuild.sortChildren(),this.updateBuildCandidateResult()}drag(e,t){if(null==e||null==t)return;let i=kg.DrawHelpers.getIntegerTile(e),n=kg.DrawHelpers.getIntegerTile(t);i.equals(n)||this.dragStepByStep(e,t)}mouseDown(e){this.templateItemToBuild.position=e,this.build()}dragStepByStep(e,t){let i=new kg.Vector2(kg.DrawHelpers.getFloorTile(t).x-kg.DrawHelpers.getFloorTile(e).x,kg.DrawHelpers.getFloorTile(t).y-kg.DrawHelpers.getFloorTile(e).y);i=new kg.Vector2(0==i.x?0:i.x/Math.abs(i.x)*1,0==i.y?0:i.y/Math.abs(i.y)*1),e.x==Math.floor(e.x)&&(e.x-=.005*i.x),t.x==Math.floor(t.x)&&(t.x+=.005*i.x),e.y==Math.floor(e.y)&&(e.y-=.005*i.y),t.y==Math.floor(t.y)&&(t.y+=.005*i.y);let n=kg.Vector2.clone(e),r=!0,s=0,o=kg.DrawHelpers.getIntegerTile(e);for(;r;){let e=new kg.Vector2(n.x+i.x,n.y+i.y);i.x>0?e.x=Math.floor(e.x):i.x<0&&(e.x=Math.ceil(e.x)),i.y>0?e.y=Math.floor(e.y):i.y<0&&(e.y=Math.ceil(e.y));let a=new kg.Vector2(t.x-n.x,t.y-n.y),l=new kg.Vector2(e.x-n.x,e.y-n.y),u=a.lengthSquared,c=999;0!=i.x&&(c=new kg.Vector2(l.x,a.y*(l.x/a.x)).lengthSquared);let h,d=999;if(0!=i.y&&(d=new kg.Vector2(a.x*(l.y/a.y),l.y).lengthSquared),Math.abs(c-d)<5e-7&&c<u?(h=new kg.Vector2(o.x+i.x,o.y),this.buildAndConnect(o,h),o.x+=i.x,h=new kg.Vector2(o.x,o.y+i.y),this.buildAndConnect(o,h),o.y+=i.y,n.x+=l.x,n.y+=a.y*(l.x/a.x)):c<=d&&c<u?(n.x+=l.x,n.y+=a.y*(l.x/a.x),h=new kg.Vector2(o.x+i.x,o.y),this.buildAndConnect(o,h),o.x+=i.x):d<c&&d<u?(n.x+=a.x*(l.y/a.y),n.y+=l.y,h=new kg.Vector2(o.x,o.y+i.y),this.buildAndConnect(o,h),o.y+=i.y):r=!1,s++,s>999)throw new Error("The tile dragger was too long")}}dragStop(){}keyDown(e){"o"==e&&null!=this.templateItemToBuild&&(this.templateItemToBuild.nextOrientation(),this.updateBuildCandidateResult())}draw(e,t){this.templateItemToBuild.drawPixi(t,e)}}return e.\u0275fac=function(t){return new(t||e)(Ge(Og),Ge(Iu))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),Ng=(()=>{class e{constructor(e){this.blueprintService=e,this.data=[],this.blueprintService.blueprint.subscribeBlueprintChanged(this)}updateElementReport(){this.data=[],this.blueprintService.blueprint.blueprintItems.map(e=>{if(e.oniItem.isElement)this.addElementToReport(e.buildableElements[0],e.mass);else for(let t=0;t<e.oniItem.buildableElementsArray.length;t++)this.addElementToReport(e.buildableElements[t],e.oniItem.materialMass[t])}),this.data=this.data.sort((e,t)=>t.totalMass-e.totalMass)}addElementToReport(e,t){let i=!1;this.data.map(n=>{n.buildableElement==e&&(i=!0,n.totalMass+=t)}),i||this.data.push({buildableElement:e,colorString:kg.DrawHelpers.colorToHex(e.color),totalMass:t})}itemDestroyed(){}itemAdded(e){}blueprintChanged(){this.updateElementReport()}}return e.\u0275fac=function(t){return new(t||e)(Ge(Og))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),Rg=(()=>{class e{constructor(e,t,i){this.selectTool=e,this.buildTool=t,this.elementReport=i,this.observers=[],this.currentTool=this.selectTool,this.allTools=[],this.allTools.push(this.selectTool),this.allTools.push(this.buildTool),this.buildTool.parent=this}getTool(e){return this.allTools.filter(t=>t.toolType==e)[0]}subscribeToolChanged(e){this.observers.push(e)}changeTool(e){let t=this.getTool(e);this.allTools.filter(e=>e.toolGroup==t.toolGroup&&e.toolType!=t.toolType).map(e=>{e.visible&&(e.switchFrom(),e.visible=!1)}),t.captureInput&&(this.currentTool=t),t.toggleable&&t.visible?(t.visible=!1,t.switchFrom()):(t.visible=!0,t.switchTo()),this.observers.map(t=>t.toolChanged(e))}switchFrom(){}switchTo(){}mouseOut(){this.currentTool.mouseOut()}mouseDown(e){this.currentTool.mouseDown(e)}leftClick(e){this.currentTool.leftClick(e)}rightClick(e){this.currentTool.rightClick(e)}hover(e){this.currentTool.hover(e)}drag(e,t){this.currentTool.drag(e,t)}dragStop(){this.currentTool.dragStop()}keyDown(e){"b"==e&&this.currentTool.toolType!=Ig.build?this.changeTool(Ig.build):this.currentTool.keyDown(e)}draw(e,t){this.currentTool.draw(e,t)}}return e.\u0275fac=function(t){return new(t||e)(Ge(Pg),Ge(Lg),Ge(Ng))},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ug=(()=>{class e{static addClass(e,t){e.classList?e.classList.add(t):e.className+=" "+t}static addMultipleClasses(e,t){if(e.classList){let i=t.split(" ");for(let t=0;t<i.length;t++)e.classList.add(i[t])}else{let i=t.split(" ");for(let t=0;t<i.length;t++)e.className+=" "+i[t]}}static removeClass(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,(function(t){return t!==e}))}static find(e,t){return Array.from(e.querySelectorAll(t))}static findSingle(e,t){return e?e.querySelector(t):null}static index(e){let t=e.parentNode.childNodes,i=0;for(var n=0;n<t.length;n++){if(t[n]==e)return i;1==t[n].nodeType&&i++}return-1}static indexWithinGroup(e,t){let i=e.parentNode?e.parentNode.childNodes:[],n=0;for(var r=0;r<i.length;r++){if(i[r]==e)return n;i[r].attributes&&i[r].attributes[t]&&1==i[r].nodeType&&n++}return-1}static relativePosition(e,t){let i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const n=t.offsetHeight,r=t.getBoundingClientRect(),s=this.getViewport();let o,a;r.top+n+i.height>s.height?(o=-1*i.height,e.style.transformOrigin="bottom",r.top+o<0&&(o=-1*r.top)):(o=n,e.style.transformOrigin="top"),a=i.width>s.width?-1*r.left:r.left+i.width>s.width?-1*(r.left+i.width-s.width):0,e.style.top=o+"px",e.style.left=a+"px"}static absolutePosition(e,t){let i,n,r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=r.height,o=r.width,a=t.offsetHeight,l=t.offsetWidth,u=t.getBoundingClientRect(),c=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),d=this.getViewport();u.top+a+s>d.height?(i=u.top+c-s,e.style.transformOrigin="bottom",i<0&&(i=c)):(i=a+u.top+c,e.style.transformOrigin="top"),n=u.left+o>d.width?Math.max(0,u.left+h+l-o):u.left+h,e.style.top=i+"px",e.style.left=n+"px"}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}static getHiddenElementDimensions(e){let t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}static scrollInView(e,t){let i=getComputedStyle(e).getPropertyValue("borderTopWidth"),n=i?parseFloat(i):0,r=getComputedStyle(e).getPropertyValue("paddingTop"),s=r?parseFloat(r):0,o=e.getBoundingClientRect(),a=t.getBoundingClientRect().top+document.body.scrollTop-(o.top+document.body.scrollTop)-n-s,l=e.scrollTop,u=e.clientHeight,c=this.getOuterHeight(t);a<0?e.scrollTop=l+a:a+c>u&&(e.scrollTop=l+a-u+c)}static fadeIn(e,t){e.style.opacity=0;let i=+new Date,n=0,r=function(){n=+e.style.opacity.replace(",",".")+((new Date).getTime()-i)/t,e.style.opacity=n,i=+new Date,+n<1&&(window.requestAnimationFrame&&requestAnimationFrame(r)||setTimeout(r,16))};r()}static fadeOut(e,t){var i=1,n=50/t;let r=setInterval(()=>{(i-=n)<=0&&(i=0,clearInterval(r)),e.style.opacity=i},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,t){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),this)}).call(e,t)}static getOuterWidth(e,t){let i=e.offsetWidth;if(t){let t=getComputedStyle(e);i+=parseFloat(t.marginLeft)+parseFloat(t.marginRight)}return i}static getHorizontalPadding(e){let t=getComputedStyle(e);return parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)}static getHorizontalMargin(e){let t=getComputedStyle(e);return parseFloat(t.marginLeft)+parseFloat(t.marginRight)}static innerWidth(e){let t=e.offsetWidth,i=getComputedStyle(e);return t+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),t}static width(e){let t=e.offsetWidth,i=getComputedStyle(e);return t-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),t}static getInnerHeight(e){let t=e.offsetHeight,i=getComputedStyle(e);return t+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),t}static getOuterHeight(e,t){let i=e.offsetHeight;if(t){let t=getComputedStyle(e);i+=parseFloat(t.marginTop)+parseFloat(t.marginBottom)}return i}static getHeight(e){let t=e.offsetHeight,i=getComputedStyle(e);return t-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),t}static getWidth(e){let t=e.offsetWidth,i=getComputedStyle(e);return t-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),t}static getViewport(){let e=window,t=document,i=t.documentElement,n=t.getElementsByTagName("body")[0];return{width:e.innerWidth||i.clientWidth||n.clientWidth,height:e.innerHeight||i.clientHeight||n.clientHeight}}static getOffset(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,t){let i=e.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(t,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static appendChild(e,t){if(this.isElement(t))t.appendChild(e);else{if(!t.el||!t.el.nativeElement)throw"Cannot append "+t+" to "+e;t.el.nativeElement.appendChild(e)}}static removeChild(e,t){if(this.isElement(t))t.removeChild(e);else{if(!t.el||!t.el.nativeElement)throw"Cannot remove "+e+" from "+t;t.el.nativeElement.removeChild(e)}}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let t=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let t=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t}static invokeElementMethod(e,t,i){e[t].apply(e,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(t){let i=e.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'),n=[];for(let e of i)"none"!=getComputedStyle(e).display&&"hidden"!=getComputedStyle(e).visibility&&n.push(e);return n}}return e.zindex=1e3,e.calculatedScrollbarWidth=null,e.calculatedScrollbarHeight=null,e})(),zg=(()=>{class e{constructor(e,t,i){this.el=e,this.zone=t,this.config=i}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let t=this.getInk();if(!t||"none"===getComputedStyle(t,null).display)return;if(Ug.removeClass(t,"p-ink-active"),!Ug.getHeight(t)&&!Ug.getWidth(t)){let e=Math.max(Ug.getOuterWidth(this.el.nativeElement),Ug.getOuterHeight(this.el.nativeElement));t.style.height=e+"px",t.style.width=e+"px"}let i=Ug.getOffset(this.el.nativeElement),n=e.pageX-i.left+document.body.scrollTop-Ug.getWidth(t)/2,r=e.pageY-i.top+document.body.scrollLeft-Ug.getHeight(t)/2;t.style.top=r+"px",t.style.left=n+"px",Ug.addClass(t,"p-ink-active")}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&Ug.removeClass(e,"p-ink-active")}onAnimationEnd(e){Ug.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),e.remove())}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(uu),Js(xg,8))},e.\u0275dir=gt({type:e,selectors:[["","pRipple",""]],hostVars:2,hostBindings:function(e,t){2&e&&Mo("p-ripple",!0)}}),e})(),Vg=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh]]}),e})();const jg=function(e){return{"p-hidden":e}};function Hg(e,t){if(1&e&&ro(0,"li",4),2&e){const e=mo().$implicit;eo("ngClass",cl(1,jg,!1===e.visible))}}function Wg(e,t){1&e&&ro(0,"span",14),2&e&&eo("ngClass",mo(3).$implicit.icon)}const Gg=function(e,t){return{"pi-angle-down":e,"pi-angle-right":t}};function qg(e,t){if(1&e&&ro(0,"span",15),2&e){const e=mo(4);eo("ngClass",hl(1,Gg,e.root,!e.root))}}const $g=function(e){return{"p-menuitem-link":!0,"p-disabled":e}};function Zg(e,t){if(1&e){const e=lo();io(0,"a",10),ho("click",(function(t){Qt(e);const i=mo(2).$implicit;return mo().itemClick(t,i)})),Ys(1,Wg,1,1,"span",11),io(2,"span",12),Yo(3),no(),Ys(4,qg,1,4,"span",13),no()}if(2&e){const e=mo(2).$implicit,t=mo();No(e.styleClass),eo("ngClass",cl(15,$g,e.disabled))("ngStyle",e.style),Zs("href",e.url,Sn)("data-automationid",e.automationId)("target",e.target)("title",e.title)("id",e.id)("tabindex",e.disabled?null:"0")("aria-haspopup",null!=t.item.items)("aria-expanded",t.item===t.activeItem),Wn(1),eo("ngIf",e.icon),Wn(2),Ko(e.label),Wn(1),eo("ngIf",e.items)}}function Xg(e,t){1&e&&ro(0,"span",14),2&e&&eo("ngClass",mo(3).$implicit.icon)}function Yg(e,t){if(1&e&&ro(0,"span",15),2&e){const e=mo(4);eo("ngClass",hl(1,Gg,e.root,!e.root))}}const Kg=function(){return{exact:!1}};function Jg(e,t){if(1&e){const e=lo();io(0,"a",16),ho("click",(function(t){Qt(e);const i=mo(2).$implicit;return mo().itemClick(t,i)})),Ys(1,Xg,1,1,"span",11),io(2,"span",12),Yo(3),no(),Ys(4,Yg,1,4,"span",13),no()}if(2&e){const e=mo(2).$implicit;No(e.styleClass),eo("routerLink",e.routerLink)("queryParams",e.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",e.routerLinkActiveOptions||ul(22,Kg))("ngClass",cl(23,$g,e.disabled))("ngStyle",e.style)("fragment",e.fragment)("queryParamsHandling",e.queryParamsHandling)("preserveFragment",e.preserveFragment)("skipLocationChange",e.skipLocationChange)("replaceUrl",e.replaceUrl)("state",e.state),Zs("data-automationid",e.automationId)("target",e.target)("title",e.title)("id",e.id)("tabindex",e.disabled?null:"0"),Wn(1),eo("ngIf",e.icon),Wn(2),Ko(e.label),Wn(1),eo("ngIf",e.items)}}function Qg(e,t){if(1&e&&ro(0,"p-menubarSub",17),2&e){mo();const e=Ks(1),t=mo().$implicit;eo("parentActive",e==mo().activeItem)("item",t)("autoDisplay",!0)}}const ey=function(e,t){return{"p-menuitem":!0,"p-menuitem-active":e,"p-hidden":t}};function ty(e,t){if(1&e){const e=lo();io(0,"li",5,6),ho("mouseenter",(function(t){Qt(e);const i=Ks(1),n=mo().$implicit;return mo().onItemMouseEnter(t,i,n)}))("click",(function(t){Qt(e);const i=Ks(1),n=mo().$implicit;return mo().onItemMenuClick(t,i,n)})),Ys(2,Zg,5,17,"a",7),Ys(3,Jg,5,25,"a",8),Ys(4,Qg,1,3,"p-menubarSub",9),no()}if(2&e){const e=Ks(1),t=mo().$implicit,i=mo();eo("ngClass",hl(4,ey,e==i.activeItem,!1===t.visible)),Wn(2),eo("ngIf",!t.routerLink),Wn(1),eo("ngIf",t.routerLink),Wn(1),eo("ngIf",t.items)}}function iy(e,t){if(1&e&&(Ys(0,Hg,1,3,"li",2),Ys(1,ty,5,7,"li",3)),2&e){const e=t.$implicit;eo("ngIf",e.separator),Wn(1),eo("ngIf",!e.separator)}}const ny=function(e,t){return{"p-submenu-list":e,"p-menubar-root-list":t}};function ry(e,t){1&e&&ao(0)}function sy(e,t){if(1&e&&(io(0,"div",5),Ys(1,ry,1,0,"ng-container",6),no()),2&e){const e=mo();Wn(1),eo("ngTemplateOutlet",e.startTemplate)}}function oy(e,t){1&e&&ao(0)}function ay(e,t){if(1&e&&(io(0,"div",7),Ys(1,oy,1,0,"ng-container",6),no()),2&e){const e=mo();Wn(1),eo("ngTemplateOutlet",e.endTemplate)}}function ly(e,t){1&e&&(io(0,"div",7),vo(1),no())}const uy=function(){return{"p-menubar p-component":!0}},cy=["*"];let hy=(()=>{class e{constructor(e,t){this.renderer=e,this.cd=t,this.autoZIndex=!0,this.baseZIndex=0,this.menuHoverActive=!1}get parentActive(){return this._parentActive}set parentActive(e){this.root||(this._parentActive=e,e||(this.activeItem=null))}onItemMenuClick(e,t,i){if(this.menuClick=!0,!this.autoDisplay){if(i.disabled)return;this.activeItem=this.activeMenu&&this.activeMenu.isEqualNode(t)?null:t;let e=t.children[0].nextElementSibling;if(e){let i=e.children[0];this.autoZIndex&&(i.style.zIndex=String(this.baseZIndex+ ++Ug.zindex)),this.root?(i.style.top=Ug.getOuterHeight(t.children[0])+"px",i.style.left="0px"):(i.style.top="0px",i.style.left=Ug.getOuterWidth(t.children[0])+"px")}this.menuHoverActive=!this.activeMenu||!this.activeMenu.isEqualNode(t),this.activeMenu=this.activeMenu&&this.activeMenu.isEqualNode(t)?null:t,this.bindEventListener()}}bindEventListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",e=>{this.menuClick||(this.activeItem=null,this.menuHoverActive=!1,this.activeMenu=!1,this.cd.markForCheck()),this.menuClick=!1}))}onItemMouseEnter(e,t,i){if(this.autoDisplay||!this.autoDisplay&&this.root&&this.menuHoverActive){if(i.disabled)return;if(this.activeItem&&!this.activeItem.isEqualNode(t)||!this.activeItem){this.activeItem=t;let e=t.children[0].nextElementSibling;if(e){let i=e.children[0];i.style.zIndex=String(++Ug.zindex),this.root?(i.style.top=Ug.getOuterHeight(t.children[0])+"px",i.style.left="0px"):(i.style.top="0px",i.style.left=Ug.getOuterWidth(t.children[0])+"px")}this.activeMenu=t}}}itemClick(e,t){t.disabled?e.preventDefault():(t.url||e.preventDefault(),t.command&&t.command({originalEvent:e,item:t}),this.activeItem=null)}listClick(e){this.autoDisplay&&(this.activeItem=null)}ngOnDestroy(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}}return e.\u0275fac=function(t){return new(t||e)(Js(Ca),Js(ys))},e.\u0275cmp=ct({type:e,selectors:[["p-menubarSub"]],inputs:{autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",parentActive:"parentActive",item:"item",root:"root",autoDisplay:"autoDisplay"},decls:2,vars:5,consts:[[3,"ngClass","click"],["ngFor","",3,"ngForOf"],["class","p-menu-separator",3,"ngClass",4,"ngIf"],[3,"ngClass","mouseenter","click",4,"ngIf"],[1,"p-menu-separator",3,"ngClass"],[3,"ngClass","mouseenter","click"],["listItem",""],["pRipple","",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","ngClass","ngStyle","class","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],[3,"parentActive","item","autoDisplay",4,"ngIf"],["pRipple","",3,"ngClass","ngStyle","click"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],[1,"p-menuitem-text"],["class","p-submenu-icon pi",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass"],[1,"p-submenu-icon","pi",3,"ngClass"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","ngClass","ngStyle","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],[3,"parentActive","item","autoDisplay"]],template:function(e,t){1&e&&(io(0,"ul",0),ho("click",(function(e){return t.listClick(e)})),Ys(1,iy,2,2,"ng-template",1),no()),2&e&&(eo("ngClass",hl(2,ny,!t.root,t.root)),Wn(1),eo("ngForOf",t.root?t.item:t.item.items))},directives:[jc,Gc,$c,zg,ih,Jm,eg,e],encapsulation:2}),e})(),dy=(()=>{class e{constructor(e,t){this.el=e,this.renderer=t,this.autoZIndex=!0,this.baseZIndex=0}get autoDisplay(){return this._autoDisplay}set autoDisplay(e){console.log("AutoDisplay property is deprecated and functionality is not available.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"start":this.startTemplate=e.template;break;case"end":this.endTemplate=e.template}})}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(Ca))},e.\u0275cmp=ct({type:e,selectors:[["p-menubar"]],contentQueries:function(e,t,i){var n;1&e&&Ll(i,Eg,!1),2&e&&Fl(n=Nl())&&(t.templates=n)},inputs:{autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay",model:"model",style:"style",styleClass:"styleClass"},ngContentSelectors:cy,decls:6,vars:11,consts:[[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["root","root",3,"item","baseZIndex","autoZIndex"],["class","p-menubar-end",4,"ngIf","ngIfElse"],["legacy",""],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],[1,"p-menubar-end"]],template:function(e,t){if(1&e&&(yo(),io(0,"div",0),Ys(1,sy,2,1,"div",1),ro(2,"p-menubarSub",2),Ys(3,ay,2,1,"div",3),Ys(4,ly,2,0,"ng-template",null,4,Vl),no()),2&e){const e=Ks(5);No(t.styleClass),eo("ngClass",ul(10,uy))("ngStyle",t.style),Wn(1),eo("ngIf",t.startTemplate),Wn(1),eo("item",t.model)("baseZIndex",t.baseZIndex)("autoZIndex",t.autoZIndex),Wn(1),eo("ngIf",t.endTemplate)("ngIfElse",e)}},directives:[jc,ih,$c,hy,nh],styles:[".p-menubar{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:1}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.p-menubar-button{display:none;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}"],encapsulation:2,changeDetection:0}),e})(),py=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh,hg,Vg],hg]}),e})();function fy(e,t){1&e&&ao(0)}const my=function(e,t,i,n){return{"p-button-icon":!0,"p-button-icon-left":e,"p-button-icon-right":t,"p-button-icon-top":i,"p-button-icon-bottom":n}};function gy(e,t){if(1&e&&ro(0,"span",4),2&e){const e=mo();No(e.icon),eo("ngClass",pl(4,my,"left"===e.iconPos&&e.label,"right"===e.iconPos&&e.label,"top"===e.iconPos&&e.label,"bottom"===e.iconPos&&e.label)),Zs("aria-hidden",!0)}}function yy(e,t){if(1&e&&(io(0,"span",4),Yo(1),no()),2&e){const e=mo();No(e.badgeClass),eo("ngClass","p-badge"),Wn(1),Ko(e.badge)}}const vy=function(e,t){return{"p-button p-component":!0,"p-button-icon-only":e,"p-button-vertical":t}},by=["*"];let wy=(()=>{class e{constructor(e){this.el=e,this.iconPos="left"}ngAfterViewInit(){if(this._initialStyleClass=this.el.nativeElement.className,Ug.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let t=this.label?"p-button-icon-"+this.iconPos:null;t&&Ug.addClass(e,t),Ug.addMultipleClasses(e,this.icon),this.el.nativeElement.appendChild(e)}let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",e.appendChild(document.createTextNode(this.label||"&nbsp;")),this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}get label(){return this._label}set label(e){this._label=e,this.initialized&&(Ug.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(Ug.findSingle(this.el.nativeElement,".p-button-icon").className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this._icon:"p-button-icon "+this._icon,this.setStyleClass())}ngOnDestroy(){for(;this.el.nativeElement.hasChildNodes();)this.el.nativeElement.removeChild(this.el.nativeElement.lastChild);this.initialized=!1}}return e.\u0275fac=function(t){return new(t||e)(Js(va))},e.\u0275dir=gt({type:e,selectors:[["","pButton",""]],inputs:{iconPos:"iconPos",label:"label",icon:"icon"}}),e})(),xy=(()=>{class e{constructor(){this.type="button",this.iconPos="left",this.onClick=new xl,this.onFocus=new xl,this.onBlur=new xl}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template}})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ct({type:e,selectors:[["p-button"]],contentQueries:function(e,t,i){var n;1&e&&Ll(i,Eg,!1),2&e&&Fl(n=Nl())&&(t.templates=n)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",style:"style",styleClass:"styleClass",badgeClass:"badgeClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:by,decls:7,vars:14,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(e,t){1&e&&(yo(),io(0,"button",0),ho("click",(function(e){return t.onClick.emit(e)}))("focus",(function(e){return t.onFocus.emit(e)}))("blur",(function(e){return t.onBlur.emit(e)})),vo(1),Ys(2,fy,1,0,"ng-container",1),Ys(3,gy,1,9,"span",2),io(4,"span",3),Yo(5),no(),Ys(6,yy,2,4,"span",2),no()),2&e&&(No(t.styleClass),eo("ngStyle",t.style)("disabled",t.disabled)("ngClass",hl(11,vy,t.icon&&!t.label,("top"===t.iconPos||"bottom"===t.iconPos)&&t.label)),Zs("type",t.type),Wn(2),eo("ngTemplateOutlet",t.contentTemplate),Wn(1),eo("ngIf",t.icon),Wn(1),Zs("aria-hidden",t.icon&&!t.label),Wn(1),Ko(t.label||"\xa0"),Wn(1),eo("ngIf",t.badge))},directives:[zg,ih,jc,nh,$c],encapsulation:2,changeDetection:0}),e})(),Cy=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh,Vg]]}),e})(),_y=(()=>{class e{constructor(e,t){this.el=e,this.zone=t,this.tooltipPosition="right",this.tooltipEvent="hover",this.appendTo="body",this.tooltipZIndex="auto",this.escape=!0}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.tooltipEvent?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.tooltipEvent&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}onMouseEnter(e){this.container||this.showTimeout||this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){this.active=!0,this.clearHideTimeout(),this.showDelay?this.showTimeout=setTimeout(()=>{this.show()},this.showDelay):this.show(),this.life&&(this.hideTimeout=setTimeout(()=>{this.hide()},this.showDelay?this.life+this.showDelay:this.life))}deactivate(){this.active=!1,this.clearShowTimeout(),this.hideDelay?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.hideDelay)):this.hide()}get text(){return this._text}set text(e){this._text=e,this.active&&(this._text?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.positionStyle&&(this.container.style.position=this.positionStyle),this.container.appendChild(this.tooltipText),"body"===this.appendTo?document.body.appendChild(this.container):Ug.appendChild(this.container,"target"===this.appendTo?this.el.nativeElement:this.appendTo),this.container.style.display="inline-block"}show(){this.text&&!this.disabled&&(this.create(),this.align(),Ug.fadeIn(this.container,250),this.container.style.zIndex="auto"===this.tooltipZIndex?++Ug.zindex:this.tooltipZIndex,this.bindDocumentResizeListener())}hide(){this.remove()}updateText(){this.escape?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this._text))):this.tooltipText.innerHTML=this._text}align(){switch(this.tooltipPosition){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.appendTo||"target"===this.appendTo){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+Ug.getWindowScrollLeft(),top:e.top+Ug.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),t=e.left+Ug.getOuterWidth(this.el.nativeElement),i=e.top+(Ug.getOuterHeight(this.el.nativeElement)-Ug.getOuterHeight(this.container))/2;this.container.style.left=t+"px",this.container.style.top=i+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),t=e.left-Ug.getOuterWidth(this.container),i=e.top+(Ug.getOuterHeight(this.el.nativeElement)-Ug.getOuterHeight(this.container))/2;this.container.style.left=t+"px",this.container.style.top=i+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),t=e.left+(Ug.getOuterWidth(this.el.nativeElement)-Ug.getOuterWidth(this.container))/2,i=e.top-Ug.getOuterHeight(this.container);this.container.style.left=t+"px",this.container.style.top=i+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),t=e.left+(Ug.getOuterWidth(this.el.nativeElement)-Ug.getOuterWidth(this.container))/2,i=e.top+Ug.getOuterHeight(this.el.nativeElement);this.container.style.left=t+"px",this.container.style.top=i+"px"}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let t="p-tooltip p-component p-tooltip-"+e;this.container.className=this.tooltipStyleClass?t+" "+this.tooltipStyleClass:t}isOutOfBounds(){let e=this.container.getBoundingClientRect(),t=e.top,i=e.left,n=Ug.getOuterWidth(this.container),r=Ug.getOuterHeight(this.container),s=Ug.getViewport();return i+n>s.width||i<0||t<0||t+r>s.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}unbindEvents(){"hover"===this.tooltipEvent?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.tooltipEvent&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.appendTo?document.body.removeChild(this.container):"target"===this.appendTo?this.el.nativeElement.removeChild(this.container):Ug.removeChild(this.container,this.appendTo)),this.unbindDocumentResizeListener(),this.clearTimeouts(),this.container=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.remove()}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(uu))},e.\u0275dir=gt({type:e,selectors:[["","pTooltip",""]],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",tooltipZIndex:"tooltipZIndex",escape:"escape",disabled:["tooltipDisabled","disabled"],text:["pTooltip","text"],positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",showDelay:"showDelay",hideDelay:"hideDelay",life:"life"}}),e})(),Sy=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh]]}),e})();function Ey(e,t){if(1&e){const e=lo();io(0,"div",8),io(1,"span",9),Yo(2),no(),io(3,"button",10),ho("click",(function(){return Qt(e),mo().userProfile()})),no(),io(4,"button",11),ho("click",(function(){return Qt(e),mo().logout()})),no(),no()}if(2&e){const e=mo();Wn(2),Jo("Welcome, ",e.authService.getUserDetails().username,"")}}function Dy(e,t){if(1&e){const e=lo();io(0,"button",12),ho("click",(function(){return Qt(e),mo().login()})),no()}}let ky=(()=>{class e{constructor(e,t,i,n,r){this.authService=e,this.messageService=t,this.toolService=i,this.blueprintService=n,this.router=r,this.onMenuCommand=new xl,this.toolService.subscribeToolChanged(this),this.cameraService=kg.CameraService.cameraService,this.cameraService.subscribeCameraChange(this)}getFps(){return e.debugFps}get dynamicMenuItems(){return this.menuItems.find(e=>"blueprint"==e.id).items.find(e=>"save"==e.id).disabled=!this.authService.isLoggedIn(),this.menuItems}ngOnInit(){let e=[kg.Overlay.Base,kg.Overlay.Power,kg.Overlay.Liquid,kg.Overlay.Gas,kg.Overlay.Automation,kg.Overlay.Conveyor];this.overlayMenuItems=[],e.map(e=>{this.overlayMenuItems.push({label:kg.DrawHelpers.overlayString[e],id:e.toString(),command:e=>{this.clickOverlay(e)}})}),this.displayMenuItems=[],this.displayMenuItems.push({label:"Blueprint",id:kg.Display.blueprint.toString(),command:e=>{this.clickDisplay(e)}}),this.displayMenuItems.push({label:"Color",id:kg.Display.solid.toString(),command:e=>{this.clickDisplay(e)}}),this.visualizationMenuItems=[],this.visualizationMenuItems.push({label:"None",id:kg.Visualization.none.toString(),command:e=>{this.clickVisualization(e)}}),this.visualizationMenuItems.push({label:"Temperature",id:kg.Visualization.temperature.toString(),command:e=>{this.clickVisualization(e)}}),this.visualizationMenuItems.push({label:"Elements",id:kg.Visualization.elements.toString(),command:e=>{this.clickVisualization(e)}}),this.toolMenuItems=[{label:"Select",id:Ig[Ig.select],command:e=>{this.clickTool(Ig.select)}},{label:"Build",id:Ig[Ig.build],command:e=>{this.clickTool(Ig.build)}}],this.menuItems=[{id:"blueprint",label:"Blueprint",items:[{label:"New",icon:"pi pi-plus",command:e=>{this.onMenuCommand.emit({type:Iy.newBlueprint,data:null})}},{id:"save",label:"Save",icon:"pi pi-save",command:e=>{this.onMenuCommand.emit({type:Iy.saveBlueprint,data:null})}},{label:"Upload",icon:"pi pi-upload",items:[{label:"Game (yaml)",command:e=>{this.uploadYamlTemplate()}},{label:"Blueprint (json)",command:e=>{this.uploadJsonTemplate()}},{label:"Blueprint (binary)",command:e=>{this.uploadBsonTemplate()}}]},{label:"Download",icon:"pi pi-download",items:[{label:"Blueprint (json)",command:e=>{this.onMenuCommand.emit({type:Iy.exportBlueprint,data:null})}}]},{label:"Browse",icon:"pi pi-search",command:e=>{this.onMenuCommand.emit({type:Iy.browseBlueprints,data:null})}},{label:"Get shareable Url",icon:"pi pi-share-alt",command:e=>{this.onMenuCommand.emit({type:Iy.getShareableUrl,data:null})}},{label:"Export images",icon:"pi pi-images",command:e=>{this.onMenuCommand.emit({type:Iy.exportImages,data:null})}}]},{label:"Edit",items:[{label:"Undo",icon:"pi pi-undo",command:e=>{this.blueprintService.undo()}},{label:"Redo",icon:"pi pi-replay",command:e=>{this.blueprintService.redo()}}]},{label:"Tools",items:this.toolMenuItems},{label:"Overlay",items:this.overlayMenuItems},{label:"Visualization",items:this.visualizationMenuItems},{label:"Display",items:this.displayMenuItems},{label:"More",items:[{label:"About",icon:"pi pi-info-circle",command:e=>{this.onMenuCommand.emit({type:Iy.about,data:null})}},{label:"Discord",icon:"fab fa-discord",url:"https://discord.gg/69vRZZT",target:"discord"},{label:"Github",icon:"fab fa-github",url:"https://github.com/simonlourson/blueprintnotincluded/",target:"github"}]}],this.clickOverlay({item:{id:kg.Overlay.Base}}),this.clickDisplay({item:{id:kg.Display.solid}}),this.clickVisualization({item:{id:kg.Visualization.none}}),this.clickTool(Ig.select)}toolChanged(e){this.updateToolIcon()}updateToolIcon(){for(let e of this.toolMenuItems)e.separator||(e.icon=this.toolService.getTool(Ig[e.id]).visible?"pi pi-fw pi-check":"pi pi-fw pi-none")}clickTool(e){this.toolService.changeTool(e)}userProfile(){let e={filterUserId:this.authService.getUserDetails()._id,filterUserName:this.authService.getUserDetails().username,getDuplicates:!0};this.onMenuCommand.emit({type:Iy.browseBlueprints,data:e})}cameraChanged(e){this.updateOverlayIcon(e.overlay),this.updateVisualizationIcon(e.visualization),this.updateDisplayIcon(e.display)}updateOverlayIcon(e){for(let t of this.overlayMenuItems)t.icon=t.id==e.toString()?"pi pi-fw pi-check":"pi pi-fw pi-none"}updateDisplayIcon(e){for(let t of this.displayMenuItems)t.icon=t.id==e.toString()?"pi pi-fw pi-check":"pi pi-fw pi-none"}updateVisualizationIcon(e){for(let t of this.visualizationMenuItems)t.icon=t.id==e.toString()?"pi pi-fw pi-check":"pi pi-fw pi-none"}clickOverlay(e){this.cameraService.overlay=e.item.id}clickDisplay(e){this.cameraService.display=e.item.id}clickVisualization(e){this.cameraService.visualization=e.item.id}uploadYamlTemplate(){document.getElementById("fileChooser").click()}uploadJsonTemplate(){document.getElementById("fileChooserJson").click()}uploadBsonTemplate(){document.getElementById("fileChooserBson").click()}templateUpload(e){let t=document.getElementById("fileChooser");this.blueprintService.openBlueprintFromUpload(Bg.YAML,t.files),t.value=""}templateUploadJson(e){let t=document.getElementById("fileChooserJson");this.blueprintService.openBlueprintFromUpload(Bg.JSON,t.files),t.value=""}templateUploadBson(e){let t=document.getElementById("fileChooserBson");this.blueprintService.openBlueprintFromUpload(Bg.BSON,t.files),t.value=""}login(){this.onMenuCommand.emit({type:Iy.showLoginDialog,data:null})}logout(){this.authService.logout(),this.messageService.add({severity:"success",summary:"Logout Successful",detail:null})}}return e.debugFps=0,e.\u0275fac=function(t){return new(t||e)(Js(Ag),Js(Cg),Js(Rg),Js(Og),Js(Ym))},e.\u0275cmp=ct({type:e,selectors:[["app-component-menu"]],outputs:{onMenuCommand:"onMenuCommand"},decls:8,vars:3,consts:[[3,"model"],["menu",""],[1,"menu-line"],["class","p-inputgroup like-bloc",4,"ngIf"],["pButton","","icon","pi pi-sign-in","label","Login",3,"click",4,"ngIf"],["type","file","id","fileChooser","accept",".yaml",2,"display","none",3,"change"],["type","file","id","fileChooserJson","accept",".json,.blueprint",2,"display","none",3,"change"],["type","file","id","fileChooserBson","accept",".blueprint",2,"display","none",3,"change"],[1,"p-inputgroup","like-bloc"],[1,"p-inputgroup-addon"],["pButton","","type","button","icon","pi pi-user","pTooltip","My Blueprints","tooltipPosition","bottom",3,"click"],["pButton","","icon","pi pi-sign-out","pTooltip","Logout","tooltipPosition","bottom",1,"p-button-warning",3,"click"],["pButton","","icon","pi pi-sign-in","label","Login",3,"click"]],template:function(e,t){1&e&&(io(0,"p-menubar",0,1),io(2,"div",2),Ys(3,Ey,5,1,"div",3),Ys(4,Dy,1,0,"button",4),no(),no(),io(5,"input",5),ho("change",(function(e){return t.templateUpload(e)})),no(),io(6,"input",6),ho("change",(function(e){return t.templateUploadJson(e)})),no(),io(7,"input",7),ho("change",(function(e){return t.templateUploadBson(e)})),no()),2&e&&(eo("model",t.menuItems),Wn(3),eo("ngIf",t.authService.isLoggedIn()),Wn(1),eo("ngIf",!t.authService.isLoggedIn()))},directives:[dy,$c,wy,_y],styles:[".menu-line[_ngcontent-%COMP%]{display:flex;flex-flow:row}.like-bloc[_ngcontent-%COMP%]{margin-right:1em}"]}),e})();var Iy=function(e){return e[e.newBlueprint=0]="newBlueprint",e[e.uploadBlueprint=1]="uploadBlueprint",e[e.uploadYaml=2]="uploadYaml",e[e.changeTool=3]="changeTool",e[e.changeOverlay=4]="changeOverlay",e[e.about=5]="about",e[e.browseBlueprints=6]="browseBlueprints",e[e.saveBlueprint=7]="saveBlueprint",e[e.getShareableUrl=8]="getShareableUrl",e[e.exportImages=9]="exportImages",e[e.exportBlueprint=10]="exportBlueprint",e[e.fetchIcons=11]="fetchIcons",e[e.downloadIcons=12]="downloadIcons",e[e.downloadGroups=13]="downloadGroups",e[e.downloadUtility=14]="downloadUtility",e[e.repackTextures=15]="repackTextures",e[e.addElementsTiles=16]="addElementsTiles",e[e.showLoginDialog=17]="showLoginDialog",e}({});class Ty{}function Ay(e,t){return{type:7,name:e,definitions:t,options:{}}}function Oy(e,t=null){return{type:4,styles:t,timings:e}}function Fy(e,t=null){return{type:2,steps:e,options:t}}function By(e){return{type:6,styles:e,offset:null}}function My(e,t,i){return{type:0,name:e,styles:t,options:i}}function Py(e,t,i=null){return{type:1,expr:e,animation:t,options:i}}function Ly(e,t=null){return{type:8,animation:e,options:t}}function Ny(e=null){return{type:9,options:e}}function Ry(e,t=null){return{type:10,animation:e,options:t}}function Uy(e,t,i=null){return{type:11,selector:e,animation:t,options:i}}function zy(e){Promise.resolve(null).then(e)}class Vy{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zy(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class jy{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,n=0;const r=this.players.length;0==r?zy(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==r&&this._onFinish()}),e.onDestroy(()=>{++i==r&&this._onDestroy()}),e.onStart(()=>{++n==r&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const i=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(i)})}getPosition(){let e=0;return this.players.forEach(t=>{const i=t.getPosition();e=Math.min(i,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}const Hy=["container"],Wy=function(e,t,i,n){return{"pi-info-circle":e,"pi-exclamation-triangle":t,"pi-times-circle":i,"pi-check":n}};function Gy(e,t){if(1&e&&(so(0),ro(1,"span",6),io(2,"div",7),io(3,"div",8),Yo(4),no(),io(5,"div",9),Yo(6),no(),no(),oo()),2&e){const e=mo();Wn(1),eo("ngClass",pl(3,Wy,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),Wn(3),Ko(e.message.summary),Wn(2),Ko(e.message.detail)}}function qy(e,t){if(1&e){const e=lo();io(0,"button",10),ho("click",(function(t){return Qt(e),mo().onCloseIconClick(t)}))("keydown.enter",(function(t){return Qt(e),mo().onCloseIconClick(t)})),ro(1,"span",11),no()}}function $y(e,t){1&e&&ao(0)}const Zy=function(e,t,i,n){return{showTransformParams:e,hideTransformParams:t,showTransitionParams:i,hideTransitionParams:n}},Xy=function(e){return{value:"visible",params:e}},Yy=function(e){return{$implicit:e}};function Ky(e,t){if(1&e){const e=lo();io(0,"p-toastItem",3),ho("onClose",(function(t){return Qt(e),mo().onMessageClose(t)}))("@toastAnimation.start",(function(t){return Qt(e),mo().onAnimationStart(t)})),no()}if(2&e){const e=t.$implicit,i=t.index,n=mo();eo("message",e)("index",i)("template",n.template)("@toastAnimation",void 0)("showTransformOptions",n.showTransformOptions)("hideTransformOptions",n.hideTransformOptions)("showTransitionOptions",n.showTransitionOptions)("hideTransitionOptions",n.hideTransitionOptions)}}let Jy=(()=>{class e{constructor(e){this.zone=e,this.onClose=new xl}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return e.\u0275fac=function(t){return new(t||e)(Js(uu))},e.\u0275cmp=ct({type:e,selectors:[["p-toastItem"]],viewQuery:function(e,t){var i;1&e&&Ml(Hy,!0),2&e&&Fl(i=Nl())&&(t.containerViewChild=i.first)},inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:16,consts:[[1,"p-toast-message",3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content"],[4,"ngIf"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-toast-message-icon","pi",3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,t){1&e&&(io(0,"div",0,1),ho("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(){return t.onMouseLeave()})),io(2,"div",2),Ys(3,Gy,7,8,"ng-container",3),Ys(4,qy,2,0,"button",4),Ys(5,$y,1,0,"ng-container",5),no(),no()),2&e&&(eo("ngClass","p-toast-message-"+t.message.severity)("@messageState",cl(12,Xy,pl(7,Zy,t.showTransformOptions,t.hideTransformOptions,t.showTransitionOptions,t.hideTransitionOptions))),Zs("id",t.message.id),Wn(3),eo("ngIf",!t.template),Wn(1),eo("ngIf",!1!==t.message.closable),Wn(1),eo("ngTemplateOutlet",t.template)("ngTemplateOutletContext",cl(14,Yy,t.message)))},directives:[jc,$c,nh,zg],encapsulation:2,data:{animation:[Ay("messageState",[My("visible",By({transform:"translateY(0)",opacity:1})),Py("void => *",[By({transform:"{{showTransformParams}}",opacity:0}),Oy("{{showTransitionParams}}")]),Py("* => void",[Oy("{{hideTransitionParams}}",By({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),e})(),Qy=(()=>{class e{constructor(e,t){this.messageService=e,this.cd=t,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new xl}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(e instanceof Array){const t=e.filter(e=>this.canAdd(e));this.add(t)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let t=this.key===e.key;return t&&this.preventOpenDuplicates&&(t=!this.containsMessage(this.messages,e)),t&&this.preventDuplicates&&(t=!this.containsMessage(this.messagesArchieve,e)),t}containsMessage(e,t){return!!e&&null!=e.find(e=>e.summary===t.summary&&e.detail==t.detail&&e.severity===t.severity)}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"message":default:this.template=e.template}})}onMessageClose(e){this.messages.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){"void"===e.fromState&&this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++Ug.zindex))}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Js(Cg),Js(ys))},e.\u0275cmp=ct({type:e,selectors:[["p-toast"]],contentQueries:function(e,t,i){var n;1&e&&Ll(i,Eg,!1),2&e&&Fl(n=Nl())&&(t.templates=n)},viewQuery:function(e,t){var i;1&e&&Ml(Hy,!0),2&e&&Fl(i=Nl())&&(t.containerViewChild=i.first)},inputs:{autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",key:"key",style:"style",styleClass:"styleClass"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,t){1&e&&(io(0,"div",0,1),Ys(2,Ky,1,8,"p-toastItem",2),no()),2&e&&(No(t.styleClass),eo("ngClass","p-toast p-component p-toast-"+t.position)("ngStyle",t.style),Wn(2),eo("ngForOf",t.messages))},directives:[jc,ih,Gc,Jy],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start}.p-toast-message-text{-ms-flex:1 1 auto;flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;margin-left:-10em}.p-toast-bottom-center{bottom:20px;left:50%;margin-left:-10em}.p-toast-center{left:50%;top:50%;min-width:20vw;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.p-toast-icon-close{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}"],encapsulation:2,data:{animation:[Ay("toastAnimation",[Py(":enter, :leave",[Uy("@*",Ny())])])]},changeDetection:0}),e})(),ev=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh,Vg],Dg]}),e})();class tv{getNewContainer(){return new PIXI.Container}getNewGraphics(){return new PIXI.Graphics}getSpriteFrom(e){return PIXI.Sprite.from(e)}getNewBaseTexture(e){return PIXI.Texture.from(e)}getNewTexture(e,t){return new PIXI.Texture(e,t)}getNewTextureWhole(e){return new PIXI.Texture(e)}getNewRectangle(e,t,i,n){return new PIXI.Rectangle(e,t,i,n)}getNewBaseRenderTexture(e){return new PIXI.BaseRenderTexture(e)}getNewRenderTexture(e){return new PIXI.RenderTexture(e)}getNewPixiApp(e){return this.pixiApp}Init(e,t){tv.instance=this,this.parent=t;let i={};i.view=e.nativeElement,i.width=e.nativeElement.width,i.height=e.nativeElement.height,i.autoResize=!0,PIXI.utils.skipHello(),this.pixiApp=new PIXI.Application(i),this.backGraphics=new PIXI.Graphics,this.backGraphics.zIndex=-100,this.frontGraphics=new PIXI.Graphics,this.frontGraphics.zIndex=100,this.pixiApp.stage.interactiveChildren=!1,this.pixiApp.stage.addChild(this.backGraphics),this.pixiApp.stage.addChild(this.frontGraphics),this.pixiApp.ticker.add(()=>{this.drawAll()})}InitAnimation(){this.pixiApp.ticker.add(()=>{this.animateAll()})}drawAll(){ky.debugFps=this.pixiApp.ticker.FPS,null!=this.pixiApp&&this.pixiApp.renderer.resize(this.parent.canvasRef.nativeElement.width,this.parent.canvasRef.nativeElement.height),this.parent.drawAll()}sortChildren(){this.pixiApp.stage.sortChildren()}animateAll(){this.parent.animateAll()}clearGraphics(){this.backGraphics.clear(),this.frontGraphics.clear()}FillRect(e,t,i,n,r){this.backGraphics.beginFill(e),this.backGraphics.drawRect(t,i,n,r),this.backGraphics.endFill()}drawBlueprintLine(e,t,i,n,r){this.backGraphics.lineStyle(1,16777215,t),this.backGraphics.moveTo(i.x,i.y),this.backGraphics.lineTo(n.x,n.y)}drawTemplateItem(e,t){e.drawPixi(t,this)}drawTileRectangle(e,t,i,n,r,s,o,a,l){let u=new kg.Vector2((t.x+e.cameraOffset.x)*e.currentZoom,(-t.y+e.cameraOffset.y)*e.currentZoom),c=new kg.Vector2((i.x-t.x)*e.currentZoom,(t.y-i.y)*e.currentZoom),h=n?this.frontGraphics:this.backGraphics;h.beginFill(s,a),h.drawRect(u.x,u.y,c.x,c.y),h.endFill(),r>0&&(h.lineStyle(r,o,l),h.moveTo(u.x,u.y),h.lineTo(u.x+c.x,u.y),h.lineTo(u.x+c.x,u.y+c.y),h.lineTo(u.x,u.y+c.y),h.lineTo(u.x,u.y))}}var iv=i("xOOu");let nv=(()=>{class e{constructor(){this.myMouseUp=new xl,this.myMouseDown=new xl,this.myMouseOut=new xl,this.myMouseDrag=new xl,this.myMouseStopDrag=new xl,this.myMouseMove=new xl,this.myMouseClick=new xl,this.isMouseDown=[],this.lastDragPosition=[],this.startDragPosition=[];for(let e=0;e<=2;e++)this.isMouseDown[e]=!1}onMouseDown(e){let t=(e=window.event||e).button;this.isMouseDown[t]||(this.myMouseDown.emit(e),this.isMouseDown[t]=!0,this.startDragPosition[t]=new kg.Vector2(e.clientX,e.clientY),this.lastDragPosition[t]=new kg.Vector2(e.clientX,e.clientY)),e.preventDefault&&e.preventDefault()}onMouseUp(e){let t=(e=window.event||e).button;new kg.Vector2(e.clientX,e.clientY).equals(this.startDragPosition[t])&&this.myMouseClick.emit(e),this.myMouseUp.emit(e),this.stopDrag(e,t)}onContextMenu(e){return!1}onMouseLeave(e){for(let t=0;t<=2;t++)this.stopDrag(e,t);this.myMouseOut.emit(e)}onMouseMove(e){e=window.event||e;let t=!1;for(let i=0;i<=2;i++)this.isMouseDown[i]&&(t=!0);if(t){for(let t=0;t<=2;t++)this.isMouseDown[t]&&(e.dragX=e.clientX-this.lastDragPosition[t].x,e.dragY=e.clientY-this.lastDragPosition[t].y,e.dragButton=this.isMouseDown,this.lastDragPosition[t].x=e.clientX,this.lastDragPosition[t].y=e.clientY);this.myMouseDrag.emit(e)}else this.myMouseMove.emit(e)}stopDrag(e,t){this.isMouseDown[t]=!1,this.startDragPosition[t]=null,this.lastDragPosition[t]=null,this.myMouseStopDrag.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=gt({type:e,selectors:[["","dragAndDrop",""]],hostBindings:function(e,t){1&e&&ho("mousedown",(function(e){return t.onMouseDown(e)}))("mouseup",(function(e){return t.onMouseUp(e)}))("contextmenu",(function(e){return t.onContextMenu(e)}))("mouseout",(function(e){return t.onMouseLeave(e)}))("mousemove.out-zone",(function(e){return t.onMouseMove(e)}))},outputs:{myMouseUp:"myMouseUp",myMouseDown:"myMouseDown",myMouseOut:"myMouseOut",myMouseDrag:"myMouseDrag",myMouseStopDrag:"myMouseStopDrag",myMouseMove:"myMouseMove",myMouseClick:"myMouseClick"}}),e})(),rv=(()=>{class e{constructor(){this.mouseWheelUp=new xl,this.mouseWheelDown=new xl,this.mouseWheel=new xl}onMouseWheelChrome(e){this.mouseWheelFunc(e)}onMouseWheelFirefox(e){this.mouseWheelFunc(e)}onMouseWheelIE(e){this.mouseWheelFunc(e)}mouseWheelFunc(e){e=window.event||e;var t=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));e.delta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),0!=t&&this.mouseWheel.emit(e),t>0?this.mouseWheelUp.emit(e):t<0&&this.mouseWheelDown.emit(e),e.returnValue=!1,e.preventDefault&&e.preventDefault()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=gt({type:e,selectors:[["","mouseWheel",""]],hostBindings:function(e,t){1&e&&ho("mousewheel.out-zone",(function(e){return t.onMouseWheelChrome(e)}))("DOMMouseScroll.out-zone",(function(e){return t.onMouseWheelFirefox(e)}))("onmousewheel.out-zone",(function(e){return t.onMouseWheelIE(e)}))},outputs:{mouseWheelUp:"mouseWheelUp",mouseWheelDown:"mouseWheelDown",mouseWheel:"mouseWheel"}}),e})(),sv=(()=>{class e{constructor(){this.keyPress=new xl}onKeyPress(e){this.keyPress.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=gt({type:e,selectors:[["","keyEvents",""]],hostBindings:function(e,t){1&e&&ho("keydown",(function(e){return t.onKeyPress(e)}),!1,Gi)},outputs:{keyPress:"keyPress"}}),e})();const ov=["blueprintCanvas"],av=["divCalcHeight"];let lv=(()=>{class e{constructor(e,t,i){this.ngZone=e,this.blueprintService=t,this.toolService=i,this.previousMouse=new kg.Vector2,this.drawPixi=new tv,this.cameraService=new kg.CameraService(this.drawPixi.getNewContainer()),this.cameraService.subscribeCameraChange(this)}get blueprint(){return this.blueprintService.blueprint}ngOnInit(){this.running=!0,this.ngZone.runOutsideAngular(()=>{this.drawPixi.Init(this.canvasRef,this),this.drawPixi.InitAnimation(),this.cameraService.container=this.drawPixi.pixiApp.stage})}ngOnDestroy(){this.running=!1}loadNewBlueprint(e){this.blueprint.destroyAndCopyItems(e),this.cameraService.overlay=kg.Overlay.Base;let t=this.canvasRef.nativeElement.getBoundingClientRect();if(this.cameraService.resetZoom(new kg.Vector2(t.width-t.left,t.height-t.top)),e.blueprintItems.length>0){let e=this.blueprint.getBoundingBox(),t=e[1];this.cameraService.cameraOffset.x=1-e[0].x,this.cameraService.cameraOffset.y=t.y+2}}getCursorPosition(e){let t=this.canvasRef.nativeElement.getBoundingClientRect();return new kg.Vector2(e.clientX-t.left,e.clientY-t.top)}getCurrentTile(e){let t=this.cameraService.getTileCoords(this.getCursorPosition(e));return t.x=Math.floor(t.x),t.y=Math.ceil(t.y),t}mouseWheel(e){this.cameraService.zoom(e.delta,this.getCursorPosition(e))}mouseUp(e){0==e.button&&(this.storePreviousTileFloat=null)}mouseDown(e){0==e.button&&this.toolService.mouseDown(this.getCurrentTile(e))}mouseOut(e){this.toolService.mouseOut()}mouseClick(e){0==e.button?this.toolService.leftClick(this.getCurrentTile(e)):2==e.button&&this.toolService.rightClick(this.getCurrentTile(e))}mouseDrag(e){let t=kg.Vector2.clone(this.storePreviousTileFloat),i=this.cameraService.getTileCoords(this.getCursorPosition(e));e.dragButton[2]?(this.cameraService.cameraOffset.x+=e.dragX/this.cameraService.currentZoom,this.cameraService.cameraOffset.y+=e.dragY/this.cameraService.currentZoom):e.dragButton[0]&&this.toolService.drag(t,i),this.storePreviousTileFloat=kg.Vector2.clone(i)}mouseStopDrag(e){this.storePreviousTileFloat=null,this.toolService.dragStop()}mouseMove(e){this.previousMouse=this.getCursorPosition(e);let t=this.getCurrentTile(e);null!=this.previousTileUnderMouse&&this.previousTileUnderMouse.equals(t)||this.toolService.hover(t),this.previousTileUnderMouse=t}keyPress(e){this.toolService.keyDown(e.key),document.body==document.activeElement&&("ArrowLeft"==e.key&&(this.cameraService.cameraOffset.x+=1),"ArrowRight"==e.key&&(this.cameraService.cameraOffset.x-=1),"ArrowUp"==e.key&&(this.cameraService.cameraOffset.y+=1),"ArrowDown"==e.key&&(this.cameraService.cameraOffset.y-=1),"+"==e.key&&this.cameraService.zoom(1,this.previousMouse),"-"==e.key&&this.cameraService.zoom(-1,this.previousMouse)),"z"==e.key&&e.ctrlKey&&this.blueprintService.undo(),"y"==e.key&&e.ctrlKey&&this.blueprintService.redo()}prepareOverlayInfo(){null!=this.blueprint&&this.blueprint.prepareOverlayInfo(this.cameraService.overlay)}fetchIcons(){for(let e of kg.ImageSource.keys)kg.ImageSource.getBaseTexture(e,this.drawPixi);for(let e of kg.SpriteInfo.keys)kg.SpriteInfo.getSpriteInfo(e).getTexture(this.drawPixi)}downloadUtility(t){let i=new PIXI.filters.ColorMatrixFilter;i.matrix[0]=1,i.matrix[1]=1,i.matrix[2]=1,i.matrix[4]=1,i.matrix[5]=1,i.matrix[6]=1,i.matrix[7]=1,i.matrix[9]=1,i.matrix[10]=1,i.matrix[11]=1,i.matrix[12]=1,i.matrix[14]=1;let n=t.spriteModifiers.filter(e=>-1!=e.tags.indexOf(kg.SpriteTag.solid)),r=[];for(let e of n){let i=t.uiSprites.find(t=>t.name==e.spriteInfoName);-1==r.indexOf(i.textureName)&&r.push(i.textureName);let n=kg.BSpriteModifier.clone(e);n.name=n.name+"_white",n.spriteInfoName=n.spriteInfoName+"_white",n.tags.push(kg.SpriteTag.white),t.spriteModifiers.push(n);let s=null;for(let r of t.uiSprites)r.name==e.spriteInfoName&&(s=kg.BSpriteInfo.clone(r));null!=s&&(s.name=n.spriteInfoName,s.textureName=s.textureName+"_white",t.uiSprites.push(s));for(let r of t.buildings)-1!=r.sprites.spriteNames.indexOf(e.name)&&r.sprites.spriteNames.push(n.name)}e.zip=new iv,e.nbBlob=0,e.downloadFile="solidSprites.zip",e.nbBlobMax=r.length,e.zip.file("database_white.json",JSON.stringify(t,null,2));for(let e of r){let t=kg.ImageSource.getBaseTexture(e,this.drawPixi),n=new PIXI.Texture(t),r=new PIXI.BaseRenderTexture({width:n.width,height:n.height}),s=new PIXI.RenderTexture(r),o=PIXI.Sprite.from(n);o.filters=[i],this.drawPixi.pixiApp.renderer.render(o,s),this.drawPixi.pixiApp.renderer.extract.canvas(s).toBlob(t=>{this.addBlob(t,e+"_white.png")},"image/png")}}downloadGroups(t){console.log("downloadGroups");let i=[],n=[];for(let e of kg.OniItem.oniItems){let r=t.buildings.find(t=>t.prefabId==e.id),s=[];for(let t of e.spriteGroup.spriteModifiers)null==t&&console.log(e),-1!=t.tags.indexOf(kg.SpriteTag.solid)&&-1==t.tags.indexOf(kg.SpriteTag.tileable)&&-1==t.tags.indexOf(kg.SpriteTag.connection)&&s.push(t);if(s.length>1){let s=new PIXI.Container;s.sortableChildren=!0;let o=e.id+"_group_modifier",a=e.id+"_group_sprite",l=e.id+"_group_sprite",u=0;for(let i of e.spriteGroup.spriteModifiers){if(-1==i.tags.indexOf(kg.SpriteTag.solid)||-1!=i.tags.indexOf(kg.SpriteTag.tileable)||-1!=i.tags.indexOf(kg.SpriteTag.connection))continue;let e=r.sprites.spriteNames.indexOf(i.spriteModifierId);r.sprites.spriteNames.splice(e,1);let n=t.spriteModifiers.find(e=>e.name==i.spriteModifierId);null!=n&&(e=t.spriteModifiers.indexOf(n),t.spriteModifiers.splice(e,1));let o=t.uiSprites.find(e=>e.name==i.spriteInfoName);null!=o&&(e=t.uiSprites.indexOf(o),t.uiSprites.splice(e,1));let a=kg.SpriteInfo.getSpriteInfo(i.spriteInfoName),l=a.getTexture(this.drawPixi),c=PIXI.Sprite.from(l);c.anchor.set(a.pivot.x,1-a.pivot.y),c.x=0+i.translation.x,c.y=0-i.translation.y,c.width=a.realSize.x,c.height=a.realSize.y,c.scale.x=i.scale.x,c.scale.y=i.scale.y,c.angle=-i.rotation,c.zIndex-=u/50,s.addChild(c),u++}r.sprites.spriteNames.push(o),s.calculateBounds();let c=s.getBounds();c.x=Math.floor(c.x),c.y=Math.floor(c.y),c.width=Math.ceil(c.width),c.height=Math.ceil(c.height);let h=new kg.Vector2(c.x,c.y);for(let e of s.children)e.x-=h.x,e.y-=h.y;let d=new kg.Vector2(1-(c.width+c.x)/c.width,(c.height+c.y)/c.height),p=new PIXI.BaseRenderTexture({width:c.width,height:c.height,scaleMode:PIXI.SCALE_MODES.NEAREST}),f=new PIXI.RenderTexture(p);this.drawPixi.pixiApp.renderer.render(s,f),i.push(f),n.push(l);let m=new kg.BSpriteModifier;m.name=o,m.spriteInfoName=a,m.rotation=0,m.scale=new kg.Vector2(1,1),m.translation=new kg.Vector2(0,0),m.tags=[kg.SpriteTag.solid],t.spriteModifiers.push(m);let g=new kg.BSpriteInfo;g.name=a,g.textureName=l,g.pivot=d,g.uvMin=new kg.Vector2(0,0),g.realSize=new kg.Vector2(c.width,c.height),g.uvSize=new kg.Vector2(c.width,c.height),t.uiSprites.push(g)}else console.log(e.id+" should not be grouped")}e.zip=new iv,e.nbBlob=0,e.downloadFile="solidGroups.zip",e.nbBlobMax=i.length,e.zip.file("database_groups.json",JSON.stringify(t,null,2));for(let e=0;e<i.length;e++)this.drawPixi.pixiApp.renderer.extract.canvas(i[e]).toBlob(t=>{this.addBlob(t,n[e]+".png")},"image/png")}repackTextures(e){}downloadIcons(){e.zip=new iv,e.nbBlob=0,e.downloadFile="icons.zip",e.nbBlobMax=kg.SpriteInfo.keys.filter(e=>kg.SpriteInfo.getSpriteInfo(e).isIcon).length;for(let e of kg.SpriteInfo.keys.filter(e=>kg.SpriteInfo.getSpriteInfo(e).isIcon)){let t=kg.SpriteInfo.getSpriteInfo(e).getTexture(this.drawPixi),i=PIXI.Sprite.from(t),n=Math.max(t.width,t.height),r=new PIXI.Container;r.addChild(i),i.x=0,i.y=0,t.width>t.height&&(i.y+=t.width/2-t.height/2),t.height>t.width&&(i.x+=t.height/2-t.width/2);let s=new PIXI.BaseRenderTexture({width:n,height:n,scaleMode:PIXI.SCALE_MODES.LINEAR}),o=new PIXI.RenderTexture(s);this.drawPixi.pixiApp.renderer.render(r,o,!0),this.drawPixi.pixiApp.renderer.extract.canvas(o).toBlob(t=>{this.addBlob(t,e+".png")},"image/png")}}addBlob(t,i){e.nbBlob++,e.zip.file(i,t),e.nbBlob==e.nbBlobMax&&(console.log("last blob arrived!"),e.zip.generateAsync({type:"blob"}).then((function(t){let i=document.createElement("a");document.body.append(i),i.download=e.downloadFile,i.href=URL.createObjectURL(t),i.click(),i.remove()})))}updateThumbnail(){this.blueprintService.thumbnail=null;let e=this.blueprint.clone();if(0==e.blueprintItems.length)throw new Error("No buildings to export");let t=e.getBoundingBox(),i=t[0],n=t[1],r=new kg.Vector2(n.x-i.x+3,n.y-i.y+3),s=200/Math.max(r.x,r.y),o=new kg.Vector2(1-i.x,n.y+1);r.x>r.y&&(o.y+=r.x/2-r.y/2),r.y>r.x&&(o.x+=r.y/2-r.x/2);let a=new kg.CameraService(this.drawPixi.getNewContainer());a.setHardZoom(s),a.cameraOffset=o,a.overlay=kg.Overlay.Base,a.display=this.cameraService.display,a.container=new PIXI.Container,a.container.sortableChildren=!0;let l=new PIXI.Graphics;a.container.addChild(l),e.blueprintItems.map(t=>{t.updateTileables(e),t.drawPixi(a,this.drawPixi)});let u=new PIXI.BaseRenderTexture({width:200,height:200,scaleMode:PIXI.SCALE_MODES.LINEAR}),c=new PIXI.RenderTexture(u);this.drawPixi.pixiApp.renderer.render(a.container,c,!1),this.drawPixi.pixiApp.renderer.extract.canvas(c).toBlob(e=>{let t=new FileReader;t.onload=()=>{this.blueprintService.thumbnail=t.result},t.readAsDataURL(e)})}saveImages(t){let i=this.blueprint.clone();if(0==i.blueprintItems.length)throw new Error("No buildings to export");let n=i.getBoundingBox(),r=n[0],s=n[1],o=t.pixelsPerTile,a=new kg.Vector2(s.x-r.x+3,s.y-r.y+3);console.log(a);let l=new kg.Vector2(a.x*o,a.y*o),u=new kg.CameraService(this.drawPixi.getNewContainer());u.setHardZoom(o),u.cameraOffset=new kg.Vector2(1-r.x,s.y+1),u.container=new PIXI.Container,u.container.sortableChildren=!0;let c=new PIXI.Graphics;u.container.addChild(c),c.beginFill(31449),c.drawRect(0,0,l.x,l.y),c.endFill(),e.zip=new iv,e.nbBlob=0,e.downloadFile="export.zip",e.nbBlobMax=t.selectedOverlays.length,t.selectedOverlays.map(e=>{u.overlay=e,i.blueprintItems.map(e=>{e.updateTileables(i),e.drawPixi(u,this.drawPixi)});let t=new PIXI.BaseRenderTexture({width:l.x,height:l.y,scaleMode:PIXI.SCALE_MODES.LINEAR}),n=new PIXI.RenderTexture(t);this.drawPixi.pixiApp.renderer.render(u.container,n,!1),this.drawPixi.pixiApp.renderer.extract.canvas(n).toBlob(t=>{this.addBlob(t,"export_"+kg.DrawHelpers.overlayString[e]+".png")})})}drawAll(){if(!this.running)return;this.width=window.innerWidth,this.height=window.innerHeight,this.canvasRef.nativeElement.width=window.innerWidth,this.canvasRef.nativeElement.height=window.innerHeight,this.cameraService.updateZoom(),this.drawPixi.clearGraphics(),this.drawPixi.FillRect(this.cameraService.display==kg.Display.blueprint?31449:9474192,0,0,this.width,this.height);let e=.4,t=this.cameraService.currentZoom;this.cameraService.currentZoom<35&&(e*=(this.cameraService.currentZoom-25)/10),this.cameraService.currentZoom<25&&(e=0);let i=0;for(let r=this.cameraService.cameraOffset.x*this.cameraService.currentZoom%(5*t)-4*t;r<this.width+4*t;r+=t){let t=i%5==0?.7:e,n="rgba(255,255,255, "+t+")";t>0&&this.drawPixi.drawBlueprintLine(n,t,new kg.Vector2(r,0),new kg.Vector2(r,this.height),1),i++}i=0;for(let r=this.cameraService.cameraOffset.y*this.cameraService.currentZoom%(5*t)-4*t;r<this.height+4*t;r+=t){let t=i%5==0?.7:e,n="rgba(255,255,255, "+t+")";t>0&&this.drawPixi.drawBlueprintLine(n,t,new kg.Vector2(0,r),new kg.Vector2(this.width,r),1),i++}if(null!=this.blueprint){for(var n of this.blueprint.blueprintItems)this.drawPixi.drawTemplateItem(n,this.cameraService);this.toolService.draw(this.drawPixi,this.cameraService)}this.cameraService.triggerSortChildren&&(this.drawPixi.sortChildren(),this.blueprint.sortChildren(),this.cameraService.triggerSortChildren=!1)}animateAll(){this.cameraService.updateAnimations(this.drawPixi.pixiApp.ticker.elapsedMS)}drawBlueprintLine(e,t,i,n,r,s,o){let a=s%2/2;e.beginPath(),e.moveTo(Math.floor(t)+a,Math.floor(i)+a),e.strokeStyle="rgba(255,255,255, "+o+")",e.lineWidth=s,e.lineTo(Math.floor(n)+a,Math.floor(r)+a),e.stroke()}cameraChanged(e){if(null!=this.blueprint)for(let t of this.blueprint.blueprintItems)t.cameraChanged(e);null!=this.toolService&&null!=this.toolService.buildTool&&null!=this.toolService.buildTool.templateItemToBuild&&this.toolService.buildTool.templateItemToBuild.cameraChanged(e)}}return e.\u0275fac=function(t){return new(t||e)(Js(uu),Js(Og),Js(Rg))},e.\u0275cmp=ct({type:e,selectors:[["app-component-canvas"]],viewQuery:function(e,t){var i;1&e&&(Bl(ov,!0),Bl(av,!0)),2&e&&(Fl(i=Nl())&&(t.canvasRef=i.first),Fl(i=Nl())&&(t.divCalcHeight=i.first))},decls:3,vars:0,consts:[["id","blueprintCanvas","tabindex","0","dragAndDrop","","mouseWheel","","keyEvents","",1,"height-test-2",3,"myMouseDrag","myMouseStopDrag","myMouseMove","myMouseClick","myMouseUp","myMouseDown","myMouseOut","mouseWheel","keyPress"],["blueprintCanvas",""]],template:function(e,t){1&e&&(io(0,"canvas",0,1),ho("myMouseDrag",(function(e){return t.mouseDrag(e)}))("myMouseStopDrag",(function(e){return t.mouseStopDrag(e)}))("myMouseMove",(function(e){return t.mouseMove(e)}))("myMouseClick",(function(e){return t.mouseClick(e)}))("myMouseUp",(function(e){return t.mouseUp(e)}))("myMouseDown",(function(e){return t.mouseDown(e)}))("myMouseOut",(function(e){return t.mouseOut(e)}))("mouseWheel",(function(e){return t.mouseWheel(e)}))("keyPress",(function(e){return t.keyPress(e)})),Yo(2," Your browser does not support canvas. "),no())},directives:[nv,rv,sv],styles:["#blueprintCanvas[_ngcontent-%COMP%]{background-color:#000;position:absolute;z-index:-1}"]}),e})();const uv=["buildingsAccordion"],cv=["selectToolCard"];function hv(e,t){if(1&e){const e=lo();io(0,"p-accordionTab",10),ho("selectedChange",(function(i){return Qt(e),t.$implicit.selected=i})),ro(1,"app-item-collection-info",11),no()}if(2&e){const e=t.$implicit;eo("selected",e.selected)("header",e.header)("transitionOptions","0ms"),Wn(1),eo("itemCollection",e)}}let dv=(()=>{class e{constructor(e,t){this.toolService=e,this.renderer=t}ngOnInit(){}setMaxHeight(e){this.renderer.setStyle(this.selectToolCard.nativeElement,"max-height","calc(100vh - "+e+"px - 20px)")}itemGroupeNext(){this.toolService.selectTool.itemGroupeNext()}itemGroupePrevious(){this.toolService.selectTool.itemGroupePrevious()}destroyAll(){this.toolService.selectTool.destroyAll()}}return e.\u0275fac=function(t){return new(t||e)(Js(Rg),Js(Ca))},e.\u0275cmp=ct({type:e,selectors:[["app-selection-tool"]],viewQuery:function(e,t){var i;1&e&&(Bl(uv,!0),Bl(cv,!0)),2&e&&(Fl(i=Nl())&&(t.buildingsAccordion=i.first),Fl(i=Nl())&&(t.selectToolCard=i.first))},decls:12,vars:1,consts:[[1,"box-card","ui-widget"],["selectToolCard",""],[1,"box-card-title"],[1,"button-line"],["pButton","","type","button","icon","pi pi-chevron-down","pTooltip","Select next item group",1,"ui-button",3,"click"],["pButton","","type","button","icon","pi pi-chevron-up","pTooltip","Select previous item group",1,"ui-button","buttonspace",3,"click"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Destroy every item group",1,"ui-button","buttonspace",3,"click"],[1,"scrollable"],["buildingsAccordion",""],[3,"selected","header","transitionOptions","selectedChange",4,"ngFor","ngForOf"],[3,"selected","header","transitionOptions","selectedChange"],[3,"itemCollection"]],template:function(e,t){1&e&&(io(0,"div",0,1),io(2,"div",2),Yo(3,"Select Tool"),no(),io(4,"div",3),io(5,"button",4),ho("click",(function(){return t.itemGroupeNext()})),no(),io(6,"button",5),ho("click",(function(){return t.itemGroupePrevious()})),no(),io(7,"button",6),ho("click",(function(){return t.destroyAll()})),no(),no(),io(8,"div",7),io(9,"p-accordion",null,8),Ys(11,hv,2,4,"p-accordionTab",9),no(),no(),no()),2&e&&(Wn(11),eo("ngForOf",t.toolService.selectTool.sameItemCollections))},styles:[".button-line[_ngcontent-%COMP%]{margin-bottom:10px}.scrollable[_ngcontent-%COMP%]{overflow-y:scroll;flex-grow:0}.test[_ngcontent-%COMP%]{background-color:#0ff;flex-grow:0;flex-shrink:1;overflow-y:auto}.buttonspace[_ngcontent-%COMP%]{margin-left:5px}"]}),e})();function pv(e,t){1&e&&ao(0)}function fv(e,t){if(1&e){const e=lo();io(0,"button",5),ho("click",(function(t){return Qt(e),mo(2).onCloseClick(t)}))("keydown.enter",(function(){return Qt(e),mo(2).hide()})),ro(1,"span",6),no()}2&e&&Zs("aria-label",mo(2).ariaCloseLabel)}const mv=function(e,t){return{showTransitionParams:e,hideTransitionParams:t}},gv=function(e,t){return{value:e,params:t}};function yv(e,t){if(1&e){const e=lo();io(0,"div",1),ho("click",(function(){return Qt(e),mo().onContainerClick()}))("@animation.start",(function(t){return Qt(e),mo().onAnimationStart(t)}))("@animation.done",(function(t){return Qt(e),mo().onAnimationEnd(t)})),io(1,"div",2),vo(2),Ys(3,pv,1,0,"ng-container",3),no(),Ys(4,fv,2,1,"button",4),no()}if(2&e){const e=mo();No(e.styleClass),eo("ngClass","p-overlaypanel p-component")("ngStyle",e.style)("@animation",hl(10,gv,e.overlayVisible?"open":"close",hl(7,mv,e.showTransitionOptions,e.hideTransitionOptions))),Wn(3),eo("ngTemplateOutlet",e.contentTemplate),Wn(1),eo("ngIf",e.showCloseIcon)}}const vv=["*"];let bv=(()=>{class e{constructor(e,t,i,n){this.el=e,this.renderer=t,this.cd=i,this.zone=n,this.dismissable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.focusOnShow=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new xl,this.onHide=new xl,this.overlayVisible=!1,this.render=!1,this.isContainerClicked=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template}this.cd.markForCheck()})}onContainerClick(){this.isContainerClicked=!0}bindDocumentClickListener(){!this.documentClickListener&&this.dismissable&&this.zone.runOutsideAngular(()=>{let e=Ug.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen("document",e,e=>{this.container.contains(e.target)||this.target===e.target||this.target.contains(e.target)||this.isContainerClicked||this.zone.run(()=>{this.hide()}),this.isContainerClicked=!1,this.cd.markForCheck()})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}toggle(e,t){this.overlayVisible?(this.hasTargetChanged(e,t)&&(this.destroyCallback=()=>{this.show(null,t||e.currentTarget||e.target)}),this.hide()):this.show(e,t)}show(e,t){this.target=t||e.currentTarget||e.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck()}hasTargetChanged(e,t){return null!=this.target&&this.target!==(t||e.currentTarget||e.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):Ug.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}align(){this.autoZIndex&&(this.container.style.zIndex=String(this.baseZIndex+ ++Ug.zindex)),Ug.absolutePosition(this.container,this.target),Ug.getOffset(this.container).top<Ug.getOffset(this.target).top&&Ug.addClass(this.container,"p-overlaypanel-flipped"),Math.floor(Ug.getOffset(this.container).left)<Math.floor(Ug.getOffset(this.target).left)&&Ug.getOffset(this.container).left>0&&Ug.addClass(this.container,"p-overlaypanel-shifted")}onAnimationStart(e){"open"===e.toState&&(this.container=e.element,this.onShow.emit(null),this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.focusOnShow&&this.focus())}onAnimationEnd(e){switch(e.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null);break;case"close":this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}}focus(){let e=Ug.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(e){this.hide(),e.preventDefault()}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onContainerDestroy(){this.target=null,this.unbindDocumentClickListener(),this.unbindDocumentResizeListener()}ngOnDestroy(){this.target=null,this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy())}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(Ca),Js(ys),Js(uu))},e.\u0275cmp=ct({type:e,selectors:[["p-overlayPanel"]],contentQueries:function(e,t,i){var n;1&e&&Ll(i,Eg,!1),2&e&&Fl(n=Nl())&&(t.templates=n)},inputs:{dismissable:"dismissable",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",ariaCloseLabel:"ariaCloseLabel"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:vv,decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[1,"p-overlaypanel-close-icon","pi","pi-times"]],template:function(e,t){1&e&&(yo(),Ys(0,yv,5,13,"div",0)),2&e&&eo("ngIf",t.render)},directives:[$c,jc,ih,nh,zg],styles:['.p-overlaypanel{position:absolute;margin-top:10px}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:1.25rem;content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after,.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}'],encapsulation:2,data:{animation:[Ay("animation",[My("void",By({transform:"scaleY(0.8)",opacity:0})),My("close",By({opacity:0})),My("open",By({transform:"translateY(0)",opacity:1})),Py("void => open",Oy("{{showTransitionParams}}")),Py("open => close",Oy("{{hideTransitionParams}}"))])]},changeDetection:0}),e})(),wv=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh,Vg]]}),e})();function xv(e,t){if(1&e&&ro(0,"img",3),2&e){const e=mo();bo("src",e.element.iconUrl,Sn),Zs("width",e.width)("height",e.height)}}function Cv(e,t){if(1&e&&(Si(),io(0,"svg",4),ro(1,"path",5),no()),2&e){const e=mo();Zs("width",e.width)("height",e.height)}}function _v(e,t){if(1&e&&(Si(),io(0,"svg",6),ro(1,"path",7),ro(2,"path",8),ro(3,"path",9),ro(4,"path",10),io(5,"g"),ro(6,"path",11),ro(7,"path",12),ro(8,"path",13),no(),no()),2&e){const e=mo();Zs("width",e.width)("height",e.height),Wn(5),Zs("fill",e.tint)}}function Sv(e,t){if(1&e&&(Si(),io(0,"svg",6),ro(1,"path",7),io(2,"g"),ro(3,"ellipse",14),ro(4,"ellipse",15),ro(5,"ellipse",16),ro(6,"ellipse",17),ro(7,"ellipse",18),ro(8,"ellipse",19),ro(9,"ellipse",20),no(),io(10,"g"),ro(11,"ellipse",21),ro(12,"ellipse",22),ro(13,"ellipse",23),ro(14,"ellipse",24),ro(15,"ellipse",25),ro(16,"ellipse",26),no(),io(17,"g"),ro(18,"ellipse",27),ro(19,"ellipse",28),ro(20,"ellipse",29),ro(21,"ellipse",30),ro(22,"ellipse",31),no(),no()),2&e){const e=mo();Zs("width",e.width)("height",e.height),Wn(10),Zs("fill",e.tint),Wn(9),Zs("fill",e.tint),Wn(2),Zs("fill",e.tint),Wn(1),Zs("fill",e.tint)}}let Ev=(()=>{class e{constructor(){}get isIcon(){return!this.element.hasTag("Gas")&&!this.element.hasTag("Liquid")}get nullIcon(){return null==this.element.icon}get isLiquid(){return this.element.hasTag("Liquid")}get isGas(){return this.element.hasTag("Gas")}get tint(){return kg.DrawHelpers.colorToHex(this.element.uiColor)}get style(){return"height: "+this.height+";"}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ct({type:e,selectors:[["app-element-icon"]],inputs:{element:"element",width:"width",height:"height"},decls:5,vars:6,consts:[[3,"src",4,"ngIf"],["version","1.1","viewBox","0 0 40 40","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["version","1.1","viewBox","0 0 10.583 10.583","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],[3,"src"],["version","1.1","viewBox","0 0 40 40","xmlns","http://www.w3.org/2000/svg"],["d","m20 3c-9.3882 0-17 7.6117-17 17s7.6118 17 17 17c9.3883 0 17-7.6118 17-17s-7.6118-17-17-17zm12.75 17c0 2.7483-0.884 5.2912-2.3687 7.3766l-17.758-17.758c2.0853-1.4847 4.6282-2.3687 7.3766-2.3687 7.0295 0 12.75 5.7205 12.75 12.75zm-25.5 0c0-2.7483 0.884-5.2912 2.3687-7.3766l17.757 17.756c-2.0839 1.4861-4.6268 2.3701-7.3752 2.3701-7.0295 0-12.75-5.7205-12.75-12.75z"],["version","1.1","viewBox","0 0 10.583 10.583","xmlns","http://www.w3.org/2000/svg"],["id","shadow","d","m0.49609 9.4456c0 1.0508 9.6384 1.0522 9.6384 0s-9.6384-1.0508-9.6384 0z","fill","#b2b2b2"],["d","m5.0736 3.3572s-1.7657 2.072-1.9789 3.281c-0.25312 1.6838 0.83587 2.9602 2.1567 2.8028 0.41257-0.0491 1.189-0.41007 1.4632-0.91583 0.4637-0.85522 0.32789-1.763 0.027919-2.7069-0.43236-1.3606-1.6689-2.4612-1.6689-2.4612z"],["d","m7.4084 0.92822s-1.1907 1.989-1.0941 3.0402c0.075785 0.82455 0.64768 1.6637 1.3698 1.6788 0.73295 0.0153 1.1683-0.65527 1.2597-1.2634 0.22463-1.4936-1.5354-3.4555-1.5354-3.4555z"],["d","m3.8743 0.2008s-0.34071 0.34693-0.6378 0.85734c-0.28909 0.49667-0.48775 1.1625-0.47251 1.6231 0.020957 0.63334 0.51128 1.2895 1.1339 1.2698 0.68489-0.0217 0.91593-0.97502 0.95085-1.6064 0.022233-0.40199-0.073019-0.84476-0.25048-1.1948-0.28764-0.56744-0.72399-0.949-0.72399-0.949z"],["d","m5.0698 4.0686s-1.5043 1.8106-1.3948 2.9901c0.091921 0.99026 0.66896 1.9455 1.47 1.9126 0.77716-0.0319 1.3343-0.77242 1.4199-1.5869 0.18073-1.7209-1.495-3.3158-1.495-3.3158z"],["d","m7.4414 1.4765s-0.92241 1.6542-0.78864 2.4701c0.08702 0.53076 0.50243 1.3303 1.0403 1.3285 0.51584-2e-3 0.80045-0.68858 0.85939-1.2729 0.088749-0.8799-1.111-2.5257-1.111-2.5257z"],["d","m3.8802 0.62602s-0.82881 1.1188-0.81501 1.7245c0.00955 0.41909 0.29556 1.1345 0.71461 1.1457 0.40276 0.0108 0.73493-0.70929 0.68508-1.2225-0.023507-0.24205-0.06028-0.53715-0.15715-0.7988-0.17136-0.46282-0.42753-0.84894-0.42753-0.84894z"],["cx","7.3583","cy","4.9309","rx","1.2946","ry","1.365"],["cx","5.9071","cy","2.2854","rx","1.0043","ry",".98497"],["cx","3.8138","cy","2.1242","rx",".6036","ry",".58727"],["cx","4.7341","cy",".7652","rx",".53416","ry",".56603"],["cx","2.4948","cy","6.5488","rx",".50284","ry",".52844"],["cx","6.6263","cy","7.5241","rx",".62086","ry",".67018"],["cx","5.4629","cy","9.222","rx",".48502","ry",".49596"],["cx","2.5057","cy","6.571","rx",".30485","ry",".27814"],["cx","6.6024","cy","7.4889","rx",".36332","ry",".3909"],["cx","7.375","cy","4.9957","rx",".83939","ry",".91708"],["cx","5.9133","cy","2.3022","rx",".63059","ry",".58717"],["cx","3.8545","cy","2.1268","rx",".32573","ry",".34496"],["cx","4.7607","cy",".76535","rx",".30485","ry",".2865"],["cx","4.8471","cy","5.1217","rx","2.1131","ry","2.0103"],["cx","4.8234","cy","5.0876","rx","1.6328","ry","1.5676"],["cx","4.3849","cy","7.7494","rx","1.2946","ry","1.3207"],["cx","4.3807","cy","7.7102","rx",".92709","ry",".91291"],["cx","5.4498","cy","9.2198","rx",".27145","ry",".28441"]],template:function(e,t){1&e&&(io(0,"div"),Ys(1,xv,1,3,"img",0),Ys(2,Cv,2,2,"svg",1),Ys(3,_v,9,3,"svg",2),Ys(4,Sv,23,6,"svg",2),no()),2&e&&(Bo("height",t.height),Wn(1),eo("ngIf",t.isIcon&&!t.nullIcon),Wn(1),eo("ngIf",t.isIcon&&t.nullIcon),Wn(1),eo("ngIf",t.isLiquid),Wn(1),eo("ngIf",t.isGas))},directives:[$c],styles:[""]}),e})();function Dv(e,t){return new v(i=>{const n=e.length;if(0===n)return void i.complete();const r=new Array(n);let s=0,o=0;for(let a=0;a<n;a++){const l=L(e[a]);let u=!1;i.add(l.subscribe({next:e=>{u||(u=!0,o++),r[a]=e},error:e=>i.error(e),complete:()=>{s++,s!==n&&u||(o===n&&i.next(t?t.reduce((e,t,i)=>(e[t]=r[i],e),{}):r),i.complete())}}))}})}const kv=new Pe("NgValueAccessor"),Iv={provide:kv,useExisting:we(()=>Tv),multi:!0};let Tv=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Js(Ca),Js(va))},e.\u0275dir=gt({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&ho("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[fa([Iv])]}),e})();const Av={provide:kv,useExisting:we(()=>Fv),multi:!0},Ov=new Pe("CompositionEventMode");let Fv=(()=>{class e{constructor(e,t,i){this._renderer=e,this._elementRef=t,this._compositionMode=i,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=Uu()?Uu().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(Js(Ca),Js(va),Js(Ov,8))},e.\u0275dir=gt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&ho("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[fa([Av])]}),e})(),Bv=(()=>{class e{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=gt({type:e}),e})(),Mv=(()=>{class e extends Bv{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(t){return Pv(t||e)},e.\u0275dir=gt({type:e,features:[ia]}),e})();const Pv=hn(Mv);function Lv(){throw new Error("unimplemented")}class Nv extends Bv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Lv()}get asyncValidator(){return Lv()}}class Rv{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Uv=(()=>{class e extends Rv{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(Js(Nv,2))},e.\u0275dir=gt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&Mo("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[ia]}),e})(),zv=(()=>{class e extends Rv{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(Js(Mv,2))},e.\u0275dir=gt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&Mo("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[ia]}),e})();function Vv(e){return null==e||0===e.length}function jv(e){return null!=e&&"number"==typeof e.length}const Hv=new Pe("NgValidators"),Wv=new Pe("NgAsyncValidators"),Gv=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class qv{static min(e){return t=>{if(Vv(t.value)||Vv(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(Vv(t.value)||Vv(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}static required(e){return Vv(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return Vv(e.value)||Gv.test(e.value)?null:{email:!0}}static minLength(e){return t=>Vv(t.value)||!jv(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}static maxLength(e){return t=>jv(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}static pattern(e){if(!e)return qv.nullValidator;let t,i;return"string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),e=>{if(Vv(e.value))return null;const n=e.value;return t.test(n)?null:{pattern:{requiredPattern:i,actualValue:n}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter($v);return 0==t.length?null:function(e){return Xv(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter($v);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if(l(t))return Dv(t,null);if(u(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Dv(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return Dv(e=1===e.length&&l(e[0])?e[0]:e,null).pipe(D(e=>t(...e)))}return Dv(e,null)}(function(e,t){return t.map(t=>t(e))}(e,t).map(Zv)).pipe(D(Xv))}}}function $v(e){return null!=e}function Zv(e){const t=uo(e)?L(e):e;if(!co(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Xv(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Yv(e){return e.validate?t=>e.validate(t):e}function Kv(e){return e.validate?t=>e.validate(t):e}const Jv={provide:kv,useExisting:we(()=>Qv),multi:!0};let Qv=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Js(Ca),Js(va))},e.\u0275dir=gt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&ho("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[fa([Jv])]}),e})();const eb={provide:kv,useExisting:we(()=>ib),multi:!0};let tb=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),ib=(()=>{class e{constructor(e,t,i,n){this._renderer=e,this._elementRef=t,this._registry=i,this._injector=n,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Nv),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return e.\u0275fac=function(t){return new(t||e)(Js(Ca),Js(va),Js(tb),Js(Ms))},e.\u0275dir=gt({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&ho("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[fa([eb])]}),e})();const nb={provide:kv,useExisting:we(()=>rb),multi:!0};let rb=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Js(Ca),Js(va))},e.\u0275dir=gt({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&ho("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[fa([nb])]}),e})();const sb='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',ob='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',ab='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class lb{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+sb)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${ob}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${ab}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+sb)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+ob)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n\n      Example:\n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}.\n    Support for using the ngModel input property and ngModelChange event with\n    reactive form directives has been deprecated in Angular v6 and will be removed\n    in a future version of Angular.\n\n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const ub={provide:kv,useExisting:we(()=>hb),multi:!0};function cb(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let hb=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const i=cb(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",i)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(t){return new(t||e)(Js(Ca),Js(va))},e.\u0275dir=gt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&ho("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[fa([ub])]}),e})(),db=(()=>{class e{constructor(e,t,i){this._element=e,this._renderer=t,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(cb(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(Ca),Js(hb,9))},e.\u0275dir=gt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const pb={provide:kv,useExisting:we(()=>mb),multi:!0};function fb(e,t){return null==e?""+t:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let mb=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const i=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(i.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const i=[];if(void 0!==t.selectedOptions){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const n=e.item(t),r=this._getOptionValue(n.value);i.push(r)}}else{const e=t.options;for(let t=0;t<e.length;t++){const n=e.item(t);if(n.selected){const e=this._getOptionValue(n.value);i.push(e)}}}this.value=i,e(i)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(t){return new(t||e)(Js(Ca),Js(va))},e.\u0275dir=gt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&ho("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[fa([pb])]}),e})(),gb=(()=>{class e{constructor(e,t,i){this._element=e,this._renderer=t,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(fb(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(fb(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(Ca),Js(mb,9))},e.\u0275dir=gt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();function yb(e,t){return[...t.path,e]}function vb(e,t){e||Cb(t,"Cannot find control with"),t.valueAccessor||Cb(t,"No value accessor for form control with"),e.validator=qv.compose([e.validator,t.validator]),e.asyncValidator=qv.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&bb(e,t)})}(e,t),function(e,t){e.registerOnChange((e,i)=>{t.valueAccessor.writeValue(e),i&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&bb(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function bb(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function wb(e,t){null==e&&Cb(t,"Cannot find control with"),e.validator=qv.compose([e.validator,t.validator]),e.asyncValidator=qv.composeAsync([e.asyncValidator,t.asyncValidator])}function xb(e){return Cb(e,"There is no FormControl instance attached to form control element with")}function Cb(e,t){let i;throw i=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${i}`)}function _b(e){return null!=e?qv.compose(e.map(Yv)):null}function Sb(e){return null!=e?qv.composeAsync(e.map(Kv)):null}function Eb(e,t){if(!e.hasOwnProperty("model"))return!1;const i=e.model;return!!i.isFirstChange()||!Object.is(t,i.currentValue)}const Db=[Tv,rb,Qv,hb,mb,ib];function kb(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Ib(e,t){if(!t)return null;Array.isArray(t)||Cb(e,"Value accessor was not provided as an array for form control with");let i=void 0,n=void 0,r=void 0;return t.forEach(t=>{var s;t.constructor===Fv?i=t:(s=t,Db.some(e=>s.constructor===e)?(n&&Cb(e,"More than one built-in value accessor matches form control with"),n=t):(r&&Cb(e,"More than one custom value accessor matches form control with"),r=t))}),r||n||i||(Cb(e,"No valid value accessor for form control with"),null)}function Tb(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}function Ab(e,t,i,n){wn()&&"never"!==n&&((null!==n&&"once"!==n||t._ngModelWarningSentOnce)&&("always"!==n||i._ngModelWarningSent)||(lb.ngModelWarning(e),t._ngModelWarningSentOnce=!0,i._ngModelWarningSent=!0))}function Ob(e){const t=Bb(e)?e.validators:e;return Array.isArray(t)?_b(t):t||null}function Fb(e,t){const i=Bb(t)?t.asyncValidators:e;return Array.isArray(i)?Sb(i):i||null}function Bb(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Mb{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=Ob(e)}setAsyncValidators(e){this.asyncValidator=Fb(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING";const t=Zv(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,i){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let n=e;return t.forEach(e=>{n=n instanceof Lb?n.controls.hasOwnProperty(e)?n.controls[e]:null:n instanceof Nb&&n.at(e)||null}),n}(this,e)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new xl,this.statusChanges=new xl}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Pb extends Mb{constructor(e=null,t,i){super(Ob(t),Fb(i,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Lb extends Mb{constructor(e,t,i){super(Ob(t),Fb(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((i,n)=>{i.reset(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t instanceof Pb?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((e,n)=>{i=t(i,e,n)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class Nb extends Mb{constructor(e,t,i){super(Ob(t),Fb(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,i)=>{this.at(i)&&this.at(i).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((i,n)=>{i.reset(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Pb?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Rb={provide:Mv,useExisting:we(()=>zb)},Ub=(()=>Promise.resolve(null))();let zb=(()=>{class e extends Mv{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new xl,this.form=new Lb({},_b(e),Sb(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ub.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),vb(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ub.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),Tb(this._directives,e)})}addFormGroup(e){Ub.then(()=>{const t=this._findContainer(e.path),i=new Lb({});wb(i,e),t.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ub.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){Ub.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,kb(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(Js(Hv,10),Js(Wv,10))},e.\u0275dir=gt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&ho("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fa([Rb]),ia]}),e})(),Vb=(()=>{class e extends Mv{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return yb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return _b(this._validators)}get asyncValidator(){return Sb(this._asyncValidators)}_checkParentType(){}}return e.\u0275fac=function(t){return jb(t||e)},e.\u0275dir=gt({type:e,features:[ia]}),e})();const jb=hn(Vb);class Hb{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${sb}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${ob}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${ab}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${ob}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${ab}`)}}const Wb={provide:Mv,useExisting:we(()=>Gb)};let Gb=(()=>{class e extends Vb{constructor(e,t,i){super(),this._parent=e,this._validators=t,this._asyncValidators=i}_checkParentType(){this._parent instanceof e||this._parent instanceof zb||Hb.modelGroupParentException()}}return e.\u0275fac=function(t){return new(t||e)(Js(Mv,5),Js(Hv,10),Js(Wv,10))},e.\u0275dir=gt({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[fa([Wb]),ia]}),e})();const qb={provide:Nv,useExisting:we(()=>Zb)},$b=(()=>Promise.resolve(null))();let Zb=(()=>{class e extends Nv{constructor(e,t,i,n){super(),this.control=new Pb,this._registered=!1,this.update=new xl,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=i||[],this.valueAccessor=Ib(this,n)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Eb(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?yb(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return _b(this._rawValidators)}get asyncValidator(){return Sb(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vb(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Gb)&&this._parent instanceof Vb?Hb.formGroupNameException():this._parent instanceof Gb||this._parent instanceof zb||Hb.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Hb.missingNameException()}_updateValue(e){$b.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,i=""===t||t&&"false"!==t;$b.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(Js(Mv,9),Js(Hv,10),Js(Wv,10),Js(kv,10))},e.\u0275dir=gt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[fa([qb]),ia,Tt]}),e})(),Xb=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=gt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const Yb=new Pe("NgModelWithFormControlWarning"),Kb={provide:Nv,useExisting:we(()=>Jb)};let Jb=(()=>{class e extends Nv{constructor(e,t,i,n){super(),this._ngModelWarningConfig=n,this.update=new xl,this._ngModelWarningSent=!1,this._rawValidators=e||[],this._rawAsyncValidators=t||[],this.valueAccessor=Ib(this,i)}set isDisabled(e){lb.disabledAttrWarning()}ngOnChanges(t){this._isControlChanged(t)&&(vb(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),Eb(t,this.viewModel)&&(Ab("formControl",e,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return _b(this._rawValidators)}get asyncValidator(){return Sb(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return e.\u0275fac=function(t){return new(t||e)(Js(Hv,10),Js(Wv,10),Js(kv,10),Js(Yb,8))},e.\u0275dir=gt({type:e,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[fa([Kb]),ia,Tt]}),e._ngModelWarningSentOnce=!1,e})();const Qb={provide:Mv,useExisting:we(()=>ew)};let ew=(()=>{class e extends Mv{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new xl}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return vb(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){Tb(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);wb(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);wb(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,kb(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){t.valueAccessor.registerOnChange(()=>xb(t)),t.valueAccessor.registerOnTouched(()=>xb(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&vb(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=_b(this._validators);this.form.validator=qv.compose([this.form.validator,e]);const t=Sb(this._asyncValidators);this.form.asyncValidator=qv.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||lb.missingFormException()}}return e.\u0275fac=function(t){return new(t||e)(Js(Hv,10),Js(Wv,10))},e.\u0275dir=gt({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&ho("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fa([Qb]),ia,Tt]}),e})();const tw={provide:Mv,useExisting:we(()=>iw)};let iw=(()=>{class e extends Vb{constructor(e,t,i){super(),this._parent=e,this._validators=t,this._asyncValidators=i}_checkParentType(){sw(this._parent)&&lb.groupParentException()}}return e.\u0275fac=function(t){return new(t||e)(Js(Mv,13),Js(Hv,10),Js(Wv,10))},e.\u0275dir=gt({type:e,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[fa([tw]),ia]}),e})();const nw={provide:Mv,useExisting:we(()=>rw)};let rw=(()=>{class e extends Mv{constructor(e,t,i){super(),this._parent=e,this._validators=t,this._asyncValidators=i}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return yb(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return _b(this._validators)}get asyncValidator(){return Sb(this._asyncValidators)}_checkParentType(){sw(this._parent)&&lb.arrayParentException()}}return e.\u0275fac=function(t){return new(t||e)(Js(Mv,13),Js(Hv,10),Js(Wv,10))},e.\u0275dir=gt({type:e,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[fa([nw]),ia]}),e})();function sw(e){return!(e instanceof iw||e instanceof ew||e instanceof rw)}const ow={provide:Nv,useExisting:we(()=>aw)};let aw=(()=>{class e extends Nv{constructor(e,t,i,n,r){super(),this._ngModelWarningConfig=r,this._added=!1,this.update=new xl,this._ngModelWarningSent=!1,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=i||[],this.valueAccessor=Ib(this,n)}set isDisabled(e){lb.disabledAttrWarning()}ngOnChanges(t){this._added||this._setUpControl(),Eb(t,this.viewModel)&&(Ab("formControlName",e,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return yb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return _b(this._rawValidators)}get asyncValidator(){return Sb(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof iw)&&this._parent instanceof Vb?lb.ngModelGroupException():this._parent instanceof iw||this._parent instanceof ew||this._parent instanceof rw||lb.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(Js(Mv,13),Js(Hv,10),Js(Wv,10),Js(kv,10),Js(Yb,8))},e.\u0275dir=gt({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[fa([ow]),ia,Tt]}),e._ngModelWarningSentOnce=!1,e})();const lw={provide:Hv,useExisting:we(()=>cw),multi:!0},uw={provide:Hv,useExisting:we(()=>hw),multi:!0};let cw=(()=>{class e{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&""+e!="false",this._onChange&&this._onChange()}validate(e){return this.required?qv.required(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=gt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&Zs("required",t.required?"":null)},inputs:{required:"required"},features:[fa([lw])]}),e})(),hw=(()=>{class e extends cw{validate(e){return this.required?qv.requiredTrue(e):null}}return e.\u0275fac=function(t){return dw(t||e)},e.\u0275dir=gt({type:e,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&Zs("required",t.required?"":null)},features:[fa([uw]),ia]}),e})();const dw=hn(hw),pw={provide:Hv,useExisting:we(()=>fw),multi:!0};let fw=(()=>{class e{constructor(){this._enabled=!1}set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?qv.email(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=gt({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[fa([pw])]}),e})();const mw={provide:Hv,useExisting:we(()=>gw),multi:!0};let gw=(()=>{class e{constructor(){this._validator=qv.nullValidator}ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null==this.minlength?null:this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=qv.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=gt({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&Zs("minlength",t.minlength?t.minlength:null)},inputs:{minlength:"minlength"},features:[fa([mw]),Tt]}),e})();const yw={provide:Hv,useExisting:we(()=>vw),multi:!0};let vw=(()=>{class e{constructor(){this._validator=qv.nullValidator}ngOnChanges(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null!=this.maxlength?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=qv.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=gt({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&Zs("maxlength",t.maxlength?t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[fa([yw]),Tt]}),e})();const bw={provide:Hv,useExisting:we(()=>ww),multi:!0};let ww=(()=>{class e{constructor(){this._validator=qv.nullValidator}ngOnChanges(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=qv.pattern(this.pattern)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=gt({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&Zs("pattern",t.pattern?t.pattern:null)},inputs:{pattern:"pattern"},features:[fa([bw]),Tt]}),e})(),xw=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)}}),e})(),Cw=(()=>{class e{group(e,t=null){const i=this._reduceControls(e);let n=null,r=null,s=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(n=null!=t.validators?t.validators:null,r=null!=t.asyncValidators?t.asyncValidators:null,s=null!=t.updateOn?t.updateOn:void 0):(n=null!=t.validator?t.validator:null,r=null!=t.asyncValidator?t.asyncValidator:null)),new Lb(i,{asyncValidators:r,updateOn:s,validators:n})}control(e,t,i){return new Pb(e,t,i)}array(e,t,i){const n=e.map(e=>this._createControl(e));return new Nb(n,t,i)}_reduceControls(e){const t={};return Object.keys(e).forEach(i=>{t[i]=this._createControl(e[i])}),t}_createControl(e){return e instanceof Pb||e instanceof Lb||e instanceof Nb?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),_w=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},providers:[tb],imports:[xw]}),e})(),Sw=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Yb,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},providers:[Cw,tb],imports:[xw]}),e})(),Ew=(()=>{class e{constructor(e,t){this.el=e,this.ngModel=t}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(Zb,8))},e.\u0275dir=gt({type:e,selectors:[["","pInputText",""]],hostVars:6,hostBindings:function(e,t){1&e&&ho("input",(function(e){return t.onInput(e)})),2&e&&Mo("p-inputtext",!0)("p-component",!0)("p-filled",t.filled)}}),e})(),Dw=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh]]}),e})();const kw=["cb"],Iw=function(e,t,i){return{"p-checkbox-label":!0,"p-checkbox-label-active":e,"p-disabled":t,"p-checkbox-label-focus":i}};function Tw(e,t){if(1&e){const e=lo();io(0,"label",7),ho("click",(function(t){Qt(e);const i=mo(),n=Ks(3);return i.onClick(t,n,!0)})),Yo(1),no()}if(2&e){const e=mo();No(e.labelStyleClass),eo("ngClass",dl(5,Iw,e.checked,e.disabled,e.focused)),Zs("for",e.inputId),Wn(1),Ko(e.label)}}const Aw=function(e,t,i){return{"p-checkbox p-component":!0,"p-checkbox-checked":e,"p-checkbox-disabled":t,"p-checkbox-focused":i}},Ow=function(e,t,i){return{"p-highlight":e,"p-disabled":t,"p-focus":i}},Fw={provide:kv,useExisting:we(()=>Bw),multi:!0};let Bw=(()=>{class e{constructor(e){this.cd=e,this.checkboxIcon="pi pi-check",this.onChange=new xl,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.focused=!1,this.checked=!1}onClick(e,t,i){e.preventDefault(),this.disabled||this.readonly||(this.checked=!this.checked,this.updateModel(e),i&&t.focus())}updateModel(e){this.binary?this.onModelChange(this.checked):(this.checked?this.addValue():this.removeValue(),this.onModelChange(this.model),this.formControl&&this.formControl.setValue(this.model)),this.onChange.emit({checked:this.checked,originalEvent:e})}handleChange(e){this.readonly||(this.checked=e.target.checked,this.updateModel(e))}isChecked(){return this.binary?this.model:this.model&&this.model.indexOf(this.value)>-1}removeValue(){this.model=this.model.filter(e=>e!==this.value)}addValue(){this.model=this.model?[...this.model,this.value]:[this.value]}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(e){this.model=e,this.checked=this.isChecked(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return e.\u0275fac=function(t){return new(t||e)(Js(ys))},e.\u0275cmp=ct({type:e,selectors:[["p-checkbox"]],viewQuery:function(e,t){var i;1&e&&Ml(kw,!0),2&e&&Fl(i=Nl())&&(t.inputViewChild=i.first)},inputs:{checkboxIcon:"checkboxIcon",disabled:"disabled",value:"value",name:"name",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",readonly:"readonly",required:"required"},outputs:{onChange:"onChange"},features:[fa([Fw])],decls:7,vars:25,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(e,t){if(1&e){const e=lo();io(0,"div",0),io(1,"div",1),io(2,"input",2,3),ho("focus",(function(){return t.onFocus()}))("blur",(function(){return t.onBlur()}))("change",(function(e){return t.handleChange(e)})),no(),no(),io(4,"div",4),ho("click",(function(i){Qt(e);const n=Ks(3);return t.onClick(i,n,!0)})),ro(5,"span",5),no(),no(),Ys(6,Tw,2,9,"label",6)}2&e&&(No(t.styleClass),eo("ngStyle",t.style)("ngClass",dl(17,Aw,t.checked,t.disabled,t.focused)),Wn(2),eo("readonly",t.readonly)("value",t.value)("checked",t.checked)("disabled",t.disabled),Zs("id",t.inputId)("name",t.name)("tabindex",t.tabindex)("aria-labelledby",t.ariaLabelledBy)("required",t.required),Wn(2),eo("ngClass",dl(21,Ow,t.checked,t.disabled,t.focused)),Zs("aria-checked",t.checked),Wn(1),eo("ngClass",t.checked?t.checkboxIcon:null),Wn(1),eo("ngIf",t.label))},directives:[ih,jc,$c],styles:[".p-checkbox{display:-ms-inline-flexbox;display:inline-flex;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:bottom}.p-checkbox-box{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}p-checkbox{display:-ms-inline-flexbox;display:inline-flex;vertical-align:bottom;-ms-flex-align:center;align-items:center}.p-checkbox-label{line-height:1}"],encapsulation:2,changeDetection:0}),e})(),Mw=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh]]}),e})();function Pw(e,t){if(1&e){const e=lo();io(0,"div",6),ho("click",(function(){Qt(e);const i=t.$implicit;return mo().selectElement(i)})),io(1,"div",7),ro(2,"app-element-icon",8),io(3,"div",9),Yo(4),no(),no(),no()}if(2&e){const e=t.$implicit;Wn(2),eo("element",e)("width","25px")("height","25px"),Wn(2),Ko(e.name)}}let Lw=(()=>{class e{constructor(){this.filterNameSubject=new _,this.selectedTags=["Gas","Liquid"],this.onSelectElement=new xl,this.filterNameSubject.subscribe(e=>{this.filter()})}ngOnInit(){this.filterElements()}filter(){this.filterElements()}tagChanged(e){this.filterElements()}filterElements(){this.elements=[];for(let e of kg.BuildableElement.elements){let t=!1,i=!1,n=!0;for(let r of this.selectedTags)e.hasTag(r)&&(i=!0);(null==this.filterName||""==this.filterName||-1!=e.name.toUpperCase().indexOf(this.filterName.toUpperCase()))&&(t=!0),-1!=e.name.indexOf("MISSING")&&(n=!1),t&&i&&n&&this.elements.push(e)}}selectElement(e){this.onSelectElement.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ct({type:e,selectors:[["app-cell-element-picker"]],outputs:{onSelectElement:"onSelectElement"},decls:7,vars:4,consts:[["type","text","size","30","placeholder","Search","pInputText","",1,"float-input",3,"ngModel","ngModelChange"],["name","groupTag","value","Gas","label","Gas","inputId","Gas",3,"ngModel","onChange","ngModelChange"],[1,"second-checkbox"],["name","groupTag","value","Liquid","label","Liquid","inputId","Liquid",3,"ngModel","onChange","ngModelChange"],[1,"element-list"],["class","ui-clickable-icon element-button","style","margin-bottom: 5px;",3,"click",4,"ngFor","ngForOf"],[1,"ui-clickable-icon","element-button",2,"margin-bottom","5px",3,"click"],[1,"element-panel-content"],[3,"element","width","height"],[1,"element-panel-text"]],template:function(e,t){1&e&&(io(0,"div"),io(1,"input",0),ho("ngModelChange",(function(e){return t.filterName=e}))("ngModelChange",(function(e){return t.filterNameSubject.next(e)})),no(),no(),io(2,"p-checkbox",1),ho("onChange",(function(e){return t.tagChanged(e)}))("ngModelChange",(function(e){return t.selectedTags=e})),no(),io(3,"span",2),io(4,"p-checkbox",3),ho("onChange",(function(e){return t.tagChanged(e)}))("ngModelChange",(function(e){return t.selectedTags=e})),no(),no(),io(5,"div",4),Ys(6,Pw,5,4,"div",5),no()),2&e&&(Wn(1),eo("ngModel",t.filterName),Wn(1),eo("ngModel",t.selectedTags),Wn(2),eo("ngModel",t.selectedTags),Wn(2),eo("ngForOf",t.elements))},directives:[Fv,Ew,Uv,Zb,Bw,Gc,Ev],styles:[".element-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;align-content:stretch;margin-top:10px;max-height:250px;overflow-y:auto}.element-panel-content[_ngcontent-%COMP%]{display:flex;flex-flow:row;align-items:center;height:35px;padding:5px}.element-panel-text[_ngcontent-%COMP%], .second-checkbox[_ngcontent-%COMP%]{margin-left:10px}"]}),e})();function Nw(e,t){if(1&e&&(io(0,"div",15),Yo(1),no()),2&e){const e=mo().index,t=mo();Wn(1),Jo(" Warning : Not every selected building is made of ",t.currentElement[e].name," ")}}function Rw(e,t){if(1&e){const e=lo();io(0,"div"),io(1,"div",16),ho("click",(function(){Qt(e);const i=t.$implicit,n=mo(2).index;return mo().chooseElement(i,n)})),ro(2,"app-element-icon",8),no(),no()}if(2&e){const e=t.$implicit;Wn(1),eo("pTooltip",e.name),Wn(1),eo("element",e)("width","40px")("height","40px")}}function Uw(e,t){if(1&e&&(io(0,"div",7),Ys(1,Rw,3,4,"div",5),no()),2&e){const e=mo().index,t=mo();Wn(1),eo("ngForOf",t.buildableElementsArray[e])}}function zw(e,t){if(1&e){const e=lo();io(0,"app-cell-element-picker",17),ho("onSelectElement",(function(t){return Qt(e),mo(2).chooseElement(t,0)})),no()}}function Vw(e,t){if(1&e){const e=lo();io(0,"div"),io(1,"div",6),ho("click",(function(i){Qt(e);const n=t.index;return mo().showElements(i,n)})),io(2,"div",7),ro(3,"app-element-icon",8),ro(4,"div",9),io(5,"div"),Yo(6),no(),ro(7,"div",10),no(),no(),Ys(8,Nw,2,1,"div",11),io(9,"p-overlayPanel",12),Ys(10,Uw,2,1,"div",13),Ys(11,zw,1,0,"app-cell-element-picker",14),no(),no()}if(2&e){const e=t.index,i=mo();Wn(3),eo("element",i.currentElement[e])("width","40px")("height","40px"),Wn(3),Ko(i.currentElement[e].name),Wn(2),eo("ngIf",i.showWarning(e)),Wn(1),eo("appendTo","body"),Wn(1),eo("ngIf",!i.isGasLiquid),Wn(1),eo("ngIf",i.isGasLiquid)}}let jw=(()=>{class e{constructor(){this.changeElement=new xl,this.cameraService=kg.CameraService.cameraService}ngOnInit(){}showWarning(e){return null!=this.nbElements&&this.nbElements[e]>1}showElements(e,t){let i=0;this.elementPanels.forEach(n=>{t==i?n.toggle(e):n.hide(),i++})}chooseElement(e,t){this.changeElement.emit({newElement:e,index:t}),this.elementPanels.forEach(e=>{e.hide()}),this.currentElement[t]=e}elementsVisualization(){this.cameraService.visualization=kg.Visualization.elements}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ct({type:e,selectors:[["app-buildable-element-picker"]],viewQuery:function(e,t){var i;1&e&&Ml(bv,!0),2&e&&Fl(i=Nl())&&(t.elementPanels=i)},inputs:{buildableElementsArray:"buildableElementsArray",currentElement:"currentElement",nbElements:"nbElements",isGasLiquid:"isGasLiquid"},outputs:{changeElement:"changeElement"},decls:7,vars:1,consts:[[1,"ui-fieldset","ui-widget","ui-widget-content","ui-corner-all"],[1,"ui-fieldset-legend","ui-corner-all","ui-state-default","ui-unselectable-text"],[1,"ui-fieldset-legend-text","ui-fieldset-false-link",3,"click"],[1,"ui-fieldset-content-wrapper"],[1,"ui-fieldset-content"],[4,"ngFor","ngForOf"],[1,"ui-clickable-icon","element-button",2,"margin-bottom","5px",3,"click"],[1,"element-panel-content"],[3,"element","width","height"],[1,"left"],[1,"right"],["class","error-red",4,"ngIf"],[3,"appendTo"],["class","element-panel-content",4,"ngIf"],[3,"onSelectElement",4,"ngIf"],[1,"error-red"],["tooltipPosition","bottom","life","5000",1,"ui-clickable-icon","element-button",3,"pTooltip","click"],[3,"onSelectElement"]],template:function(e,t){1&e&&(io(0,"fieldset",0),io(1,"legend",1),io(2,"span",2),ho("click",(function(){return t.elementsVisualization()})),Yo(3,"Elements"),no(),no(),io(4,"div",3),io(5,"div",4),Ys(6,Vw,12,8,"div",5),no(),no(),no()),2&e&&(Wn(6),eo("ngForOf",t.buildableElementsArray))},directives:[Gc,Ev,$c,bv,_y,Lw],styles:[".element-panel-content[_ngcontent-%COMP%]{display:flex;flex-flow:row;align-items:center}.element-button[_ngcontent-%COMP%]{width:100%;height:50px;padding:5px}.left[_ngcontent-%COMP%]{flex:1}.right[_ngcontent-%COMP%]{flex:2}.error-red[_ngcontent-%COMP%]{color:#8b0000;font-size:smaller;text-align:justify}"]}),e})();const Hw=["sliderHandle"],Ww=["sliderHandleStart"],Gw=["sliderHandleEnd"],qw=function(e,t){return{left:e,width:t}};function $w(e,t){if(1&e&&ro(0,"span",4),2&e){const e=mo();eo("ngStyle",hl(1,qw,e.handleValues[0]+"%",e.handleValues[1]-e.handleValues[0]+"%"))}}const Zw=function(e,t){return{bottom:e,height:t}};function Xw(e,t){if(1&e&&ro(0,"span",4),2&e){const e=mo();eo("ngStyle",hl(1,Zw,e.handleValues[0]+"%",e.handleValues[1]-e.handleValues[0]+"%"))}}const Yw=function(e){return{height:e}};function Kw(e,t){if(1&e&&ro(0,"span",4),2&e){const e=mo();eo("ngStyle",cl(1,Yw,e.handleValue+"%"))}}const Jw=function(e){return{width:e}};function Qw(e,t){if(1&e&&ro(0,"span",4),2&e){const e=mo();eo("ngStyle",cl(1,Jw,e.handleValue+"%"))}}const ex=function(e,t){return{left:e,bottom:t}};function tx(e,t){if(1&e){const e=lo();io(0,"span",5,6),ho("keydown",(function(t){return Qt(e),mo().onHandleKeydown(t)}))("mousedown",(function(t){return Qt(e),mo().onMouseDown(t)}))("touchstart",(function(t){return Qt(e),mo().onTouchStart(t)}))("touchmove",(function(t){return Qt(e),mo().onTouchMove(t)}))("touchend",(function(t){return Qt(e),mo().onTouchEnd(t)})),no()}if(2&e){const e=mo();Bo("transition",e.dragging?"none":null),eo("ngStyle",hl(8,ex,"horizontal"==e.orientation?e.handleValue+"%":null,"vertical"==e.orientation?e.handleValue+"%":null)),Zs("tabindex",e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)}}const ix=function(e){return{"p-slider-handle-active":e}};function nx(e,t){if(1&e){const e=lo();io(0,"span",7,8),ho("keydown",(function(t){return Qt(e),mo().onHandleKeydown(t,0)}))("mousedown",(function(t){return Qt(e),mo().onMouseDown(t,0)}))("touchstart",(function(t){return Qt(e),mo().onTouchStart(t,0)}))("touchmove",(function(t){return Qt(e),mo().onTouchMove(t,0)}))("touchend",(function(t){return Qt(e),mo().onTouchEnd(t)})),no()}if(2&e){const e=mo();Bo("transition",e.dragging?"none":null),eo("ngStyle",hl(9,ex,e.rangeStartLeft,e.rangeStartBottom))("ngClass",cl(12,ix,0==e.handleIndex)),Zs("tabindex",e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[0]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)}}function rx(e,t){if(1&e){const e=lo();io(0,"span",7,9),ho("keydown",(function(t){return Qt(e),mo().onHandleKeydown(t,1)}))("mousedown",(function(t){return Qt(e),mo().onMouseDown(t,1)}))("touchstart",(function(t){return Qt(e),mo().onTouchStart(t,1)}))("touchmove",(function(t){return Qt(e),mo().onTouchMove(t,1)}))("touchend",(function(t){return Qt(e),mo().onTouchEnd(t)})),no()}if(2&e){const e=mo();Bo("transition",e.dragging?"none":null),eo("ngStyle",hl(9,ex,e.rangeEndLeft,e.rangeEndBottom))("ngClass",cl(12,ix,1==e.handleIndex)),Zs("tabindex",e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[1]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)}}const sx=function(e,t,i,n){return{"p-slider p-component":!0,"p-disabled":e,"p-slider-horizontal":t,"p-slider-vertical":i,"p-slider-animate":n}},ox={provide:kv,useExisting:we(()=>ax),multi:!0};let ax=(()=>{class e{constructor(e,t,i,n){this.el=e,this.renderer=t,this.ngZone=i,this.cd=n,this.min=0,this.max=100,this.orientation="horizontal",this.tabindex=0,this.onChange=new xl,this.onSlideEnd=new xl,this.handleValues=[],this.onModelChange=()=>{},this.onModelTouched=()=>{},this.handleIndex=0}onMouseDown(e,t){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=t,this.bindDragListeners(),e.target.focus(),e.preventDefault(),this.animate&&Ug.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onTouchStart(e,t){if(!this.disabled){var i=e.changedTouches[0];this.startHandleValue=this.range?this.handleValues[t]:this.handleValue,this.dragging=!0,this.handleIndex=t,"horizontal"===this.orientation?(this.startx=parseInt(i.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(i.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&Ug.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),e.preventDefault()}}onTouchMove(e,t){if(!this.disabled){var i,n=e.changedTouches[0];i="horizontal"===this.orientation?Math.floor(100*(parseInt(n.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(n.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(e,i),e.preventDefault()}}onTouchEnd(e,t){this.disabled||(this.dragging=!1,this.onSlideEnd.emit(this.range?{originalEvent:e,values:this.values}:{originalEvent:e,value:this.value}),this.animate&&Ug.addClass(this.el.nativeElement.children[0],"p-slider-animate"),e.preventDefault())}onBarClick(e){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(e)),this.sliderHandleClick=!1)}onHandleKeydown(e,t){38==e.which||39==e.which?this.spin(e,1,t):37!=e.which&&40!=e.which||this.spin(e,-1,t)}spin(e,t,i){let n=(this.step||1)*t;this.range?(this.handleIndex=i,this.updateValue(this.values[this.handleIndex]+n),this.updateHandleValue()):(this.updateValue(this.value+n),this.updateHandleValue()),e.preventDefault()}handleChange(e){let t=this.calculateHandleValue(e);this.setValueFromHandle(e,t)}bindDragListeners(){this.ngZone.runOutsideAngular(()=>{this.dragListener||(this.dragListener=this.renderer.listen("document","mousemove",e=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(e)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen("document","mouseup",e=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.onSlideEnd.emit(this.range?{originalEvent:e,values:this.values}:{originalEvent:e,value:this.value}),this.animate&&Ug.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()}setValueFromHandle(e,t){let i=this.getValueFromHandle(t);this.range?this.step?this.handleStepChange(i,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=t,this.updateValue(i,e)):this.step?this.handleStepChange(i,this.value):(this.handleValue=t,this.updateValue(i,e))}handleStepChange(e,t){let i=e-t,n=t;i<0?n=t+Math.ceil(e/this.step-t/this.step)*this.step:i>0&&(n=t+Math.floor(e/this.step-t/this.step)*this.step),this.updateValue(n),this.updateHandleValue()}writeValue(e){this.range?this.values=e||[0,0]:this.value=e||0,this.updateHandleValue(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}get rangeStartLeft(){return this.isVertical()?"auto":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?"auto":this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return"vertical"===this.orientation}updateDomData(){let e=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=e.left+Ug.getWindowScrollLeft(),this.initY=e.top+Ug.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(e){return"horizontal"===this.orientation?100*(e.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-e.pageY)/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.handleValue=this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min)}updateValue(e,t){if(this.range){let i=e;0==this.handleIndex?(i<this.min?(i=this.min,this.handleValues[0]=0):i>this.values[1]&&(i=this.values[1],this.handleValues[0]=this.handleValues[1]),this.sliderHandleStart.nativeElement.focus()):(i>this.max?(i=this.max,this.handleValues[1]=100):i<this.values[0]&&(i=this.values[0],this.handleValues[1]=this.handleValues[0]),this.sliderHandleEnd.nativeElement.focus()),this.values[this.handleIndex]=this.getNormalizedValue(i),this.values=this.values.slice(),this.onModelChange(this.values),this.onChange.emit({event:t,values:this.values})}else e<this.min?(e=this.min,this.handleValue=0):e>this.max&&(e=this.max,this.handleValue=100),this.value=this.getNormalizedValue(e),this.onModelChange(this.value),this.onChange.emit({event:t,value:this.value}),this.sliderHandle.nativeElement.focus()}getValueFromHandle(e){return e/100*(this.max-this.min)+this.min}getDecimalsCount(e){return e&&Math.floor(e)!==e&&e.toString().split(".")[1].length||0}getNormalizedValue(e){let t=this.getDecimalsCount(this.step);return t>0?+e.toFixed(t):Math.floor(e)}ngOnDestroy(){this.unbindDragListeners()}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(Ca),Js(uu),Js(ys))},e.\u0275cmp=ct({type:e,selectors:[["p-slider"]],viewQuery:function(e,t){var i;1&e&&(Ml(Hw,!0),Ml(Ww,!0),Ml(Gw,!0)),2&e&&(Fl(i=Nl())&&(t.sliderHandle=i.first),Fl(i=Nl())&&(t.sliderHandleStart=i.first),Fl(i=Nl())&&(t.sliderHandleEnd=i.first))},inputs:{min:"min",max:"max",orientation:"orientation",tabindex:"tabindex",disabled:"disabled",animate:"animate",step:"step",range:"range",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[fa([ox])],decls:8,vars:16,consts:[[3,"ngStyle","ngClass","click"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],[1,"p-slider-handle",3,"ngStyle","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandle",""],[1,"p-slider-handle",3,"ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandleStart",""],["sliderHandleEnd",""]],template:function(e,t){1&e&&(io(0,"div",0),ho("click",(function(e){return t.onBarClick(e)})),Ys(1,$w,1,4,"span",1),Ys(2,Xw,1,4,"span",1),Ys(3,Kw,1,3,"span",1),Ys(4,Qw,1,3,"span",1),Ys(5,tx,2,11,"span",2),Ys(6,nx,2,14,"span",3),Ys(7,rx,2,14,"span",3),no()),2&e&&(No(t.styleClass),eo("ngStyle",t.style)("ngClass",pl(11,sx,t.disabled,"horizontal"==t.orientation,"vertical"==t.orientation,t.animate)),Wn(1),eo("ngIf",t.range&&"horizontal"==t.orientation),Wn(1),eo("ngIf",t.range&&"vertical"==t.orientation),Wn(1),eo("ngIf",!t.range&&"vertical"==t.orientation),Wn(1),eo("ngIf",!t.range&&"horizontal"==t.orientation),Wn(1),eo("ngIf",!t.range),Wn(1),eo("ngIf",t.range),Wn(1),eo("ngIf",t.range))},directives:[ih,jc,$c],styles:[".p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:-webkit-grab;cursor:grab;-ms-touch-action:none;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}"],encapsulation:2,changeDetection:0}),e})(),lx=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh]]}),e})();function ux(e,t){if(1&e&&(Si(),ro(0,"stop")),2&e){const e=t.index,i=mo();Zs("stop-color",i.temperatureColor(e))("offset",i.temperatureOffset(e))}}function cx(e,t){1&e&&(io(0,"div",23),Yo(1," Warning : Not every selected building has the same temperature "),no())}let hx=(()=>{class e{constructor(){this.changeTemperature=new xl,this.cameraService=kg.CameraService.cameraService}get temperatureLabel(){return this.blueprintItem.temperatureCelcius.toFixed(0)+"\xb0C"}get temperatureHex(){return kg.DrawHelpers.colorToHex(kg.DrawHelpers.temperatureToColor(this.blueprintItem.temperature))}get temperatureThresholds(){return kg.DrawHelpers.temperatureThresholds}temperatureOffset(e){return kg.DrawHelpers.temperatureToScale(kg.DrawHelpers.temperatureThresholds[e].temperature)/100}temperatureColor(e){return kg.DrawHelpers.colorToHex(kg.DrawHelpers.temperatureThresholds[e].color)}ngOnInit(){}onChange(){this.changeTemperature.emit(this.blueprintItem.temperature)}temperatureVisualization(){this.cameraService.visualization=kg.Visualization.temperature}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ct({type:e,selectors:[["app-temperature-picker"]],inputs:{blueprintItem:"blueprintItem",temperatureWarning:"temperatureWarning"},outputs:{changeTemperature:"changeTemperature"},decls:25,vars:6,consts:[[1,"ui-fieldset","ui-widget","ui-widget-content","ui-corner-all"],[1,"ui-fieldset-legend","ui-corner-all","ui-state-default","ui-unselectable-text"],[1,"ui-fieldset-legend-text","ui-fieldset-false-link",3,"click"],[1,"ui-fieldset-content-wrapper"],[1,"ui-fieldset-content"],[1,"temperature-panel-content"],[1,"temperature-icon"],["width","19","height","40","version","1.1","viewBox","0 0 5.0271 10.583","xmlns","http://www.w3.org/2000/svg"],["transform","translate(0 -286.42)"],["d","m1.1917 293.03s-0.93016 0.50746-0.86732 1.74c0.0547 1.072 1.1943 1.9068 2.2092 1.9118 1.0152 5e-3 2.1414-0.72204 2.1714-1.9118 0.0273-1.0811-0.80145-1.7293-0.80145-1.7293 0.5033-3.1654 0.65066-6.2156-1.3614-6.2981-1.9151 0.29952-1.7918 2.5875-1.3504 6.2874z","fill","#a09ea1","stroke","#000","stroke-width",".64301"],["fill","none","stroke","#020000","stroke-linecap","round","stroke-width",".42867"],["d","m1.6738 288.97 1.7786-0.0427"],["d","m1.6869 290.47 1.7786-0.0427"],["d","m1.78 292 1.6249-0.0214"],["d","m2.0903 293.64s-0.74626 0.1088-0.79927 1.0416c-0.0233 0.40933 0.26165 1.0551 1.2421 1.0718 0.61968 0.0106 1.1835-0.22958 1.2111-0.92088 0.0392-0.98349-0.83099-1.167-0.83099-1.167s0.69309-6.3037-0.33348-6.2453c-1.0266 0.0583-0.48942 6.2197-0.48942 6.2197z","stroke","#000","stroke-width",".34299"],[1,"temperature-slider"],[1,"temperature-scale"],["version","1.1","viewBox","0 0 100 20","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","linearGradient839","x2","100","y1","10","y2","10","gradientUnits","userSpaceOnUse"],[4,"ngFor","ngForOf"],["width","100","height","20","fill","url(#linearGradient839)"],[3,"ngModel","step","ngModelChange","onSlideEnd"],["class","error-red",4,"ngIf"],[1,"error-red"]],template:function(e,t){1&e&&(io(0,"fieldset",0),io(1,"legend",1),io(2,"span",2),ho("click",(function(){return t.temperatureVisualization()})),Yo(3),no(),no(),io(4,"div",3),io(5,"div",4),io(6,"div",5),io(7,"div",6),Si(),io(8,"svg",7),io(9,"g",8),ro(10,"path",9),io(11,"g",10),ro(12,"path",11),ro(13,"path",12),ro(14,"path",13),no(),ro(15,"path",14),no(),no(),no(),Ei(),io(16,"div",15),io(17,"div",16),Si(),io(18,"svg",17),io(19,"defs"),io(20,"linearGradient",18),Ys(21,ux,1,2,"stop",19),no(),no(),ro(22,"rect",20),no(),no(),Ei(),io(23,"p-slider",21),ho("ngModelChange",(function(e){return t.blueprintItem.temperatureScale=e}))("onSlideEnd",(function(){return t.onChange()})),no(),no(),no(),Ys(24,cx,2,0,"div",22),no(),no(),no()),2&e&&(Wn(3),Jo("Temperature: ",t.temperatureLabel,""),Wn(12),Zs("fill",t.temperatureHex),Wn(6),eo("ngForOf",t.temperatureThresholds),Wn(2),eo("ngModel",t.blueprintItem.temperatureScale)("step",.1),Wn(1),eo("ngIf",t.temperatureWarning))},directives:[Gc,ax,Uv,Zb,$c],styles:[".temperature-panel-content[_ngcontent-%COMP%]{display:flex;flex-flow:row;align-items:center;width:100%;margin-bottom:10px}.temperature-slider[_ngcontent-%COMP%]{flex:1}.temperature-scale[_ngcontent-%COMP%]{width:100%}.temperature-icon[_ngcontent-%COMP%]{height:40px;margin-right:20px}.error-red[_ngcontent-%COMP%]{color:#8b0000;font-size:smaller;text-align:justify}"]}),e})(),dx=(()=>{class e{constructor(){}get title(){return this.value+this.singleSliderSideScreen.sliderUnits}get tooltip(){let e=this.singleSliderSideScreen.tooltip;return e.includes("{1}")?(e=e.replace("{0}","fuel"),e=e.replace("{1}",this.value.toString())):e=e.replace("{0}",this.value.toString()),e}get step(){return 1/Math.pow(10,this.singleSliderSideScreen.sliderDecimalPlaces)}ngOnInit(){this.value=this.blueprintItem.getUiSettings(this.singleSliderSideScreen.id).values[0]}onChange(){this.blueprintItem.getUiSettings(this.singleSliderSideScreen.id).values[0]=this.value}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ct({type:e,selectors:[["app-single-slider-screen"]],inputs:{blueprintItem:"blueprintItem",singleSliderSideScreen:"singleSliderSideScreen"},decls:7,vars:7,consts:[[1,"text-title"],[3,"ngModel","min","max","step","ngModelChange","onChange"],[1,"text-tooltip"]],template:function(e,t){1&e&&(io(0,"div",0),Yo(1),io(2,"b"),Yo(3),no(),no(),io(4,"p-slider",1),ho("ngModelChange",(function(e){return t.value=e}))("onChange",(function(){return t.onChange()})),no(),io(5,"div",2),Yo(6),no()),2&e&&(Wn(1),Jo("",t.singleSliderSideScreen.title,": "),Wn(2),Ko(t.title),Wn(1),eo("ngModel",t.value)("min",t.singleSliderSideScreen.min)("max",t.singleSliderSideScreen.max)("step",t.step),Wn(2),Ko(t.tooltip))},directives:[ax,Uv,Zb],styles:[".text-title[_ngcontent-%COMP%]{margin-bottom:10px}.text-tooltip[_ngcontent-%COMP%]{margin-top:10px;text-align:justify;font-size:smaller}"]}),e})(),px=(()=>{class e{constructor(){}get correctedMaxRange(){return"LogicPressureSensorGas"==this.blueprintItem.id?1e3*this.thresholdSwitchSideScreen.rangeMax:" \xbaC"==this.thresholdSwitchSideScreen.thresholdValueUnits?1e3:this.thresholdSwitchSideScreen.rangeMax}get correctedStep(){return" \xbaC"==this.thresholdSwitchSideScreen.thresholdValueUnits?.1:this.thresholdSwitchSideScreen.incrementScale}get correctedUnit(){return"germs"==this.thresholdSwitchSideScreen.thresholdValueUnits?" germs":this.thresholdSwitchSideScreen.thresholdValueUnits}get valueWithUnit(){let e="",t=this.value.toString();return" \xbaC"==this.thresholdSwitchSideScreen.thresholdValueUnits&&(t=(this.value-273.15).toFixed(1)),e+=t,e+=this.correctedUnit,e}get valueLabel(){return(this.above?"Above ":"Below ")+this.valueWithUnit}get tooltip(){let e=this.above?this.thresholdSwitchSideScreen.aboveToolTip:this.thresholdSwitchSideScreen.belowToolTip;return e=e.replace("{0}",this.valueWithUnit),e}get classAbove(){return"button-item "+(this.above?"p-button-info":"p-button-secondary")}get classBelow(){return"button-item "+(this.above?"p-button-secondary":"p-button-info")}ngOnInit(){this.value=this.blueprintItem.getUiSettings(this.thresholdSwitchSideScreen.id).values[0],this.above=this.blueprintItem.getUiSettings(this.thresholdSwitchSideScreen.id).values[1]}clickAbove(){this.above=!0,this.blueprintItem.getUiSettings(this.thresholdSwitchSideScreen.id).values[1]=this.above}clickBelow(){this.above=!1,this.blueprintItem.getUiSettings(this.thresholdSwitchSideScreen.id).values[1]=this.above}onChange(){this.blueprintItem.getUiSettings(this.thresholdSwitchSideScreen.id).values[0]=this.value}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ct({type:e,selectors:[["app-threshold-switch-screen"]],inputs:{blueprintItem:"blueprintItem",thresholdSwitchSideScreen:"thresholdSwitchSideScreen"},decls:11,vars:9,consts:[[1,"button-container"],["pButton","","label","Above",3,"ngClass","click"],["pButton","","label","Below",3,"ngClass","click"],[3,"ngModel","min","max","step","ngModelChange","onChange"],[1,"text-tooltip"]],template:function(e,t){1&e&&(io(0,"div"),Yo(1),no(),io(2,"div"),io(3,"b"),Yo(4),no(),no(),io(5,"div",0),io(6,"button",1),ho("click",(function(){return t.clickAbove()})),no(),io(7,"button",2),ho("click",(function(){return t.clickBelow()})),no(),no(),io(8,"p-slider",3),ho("ngModelChange",(function(e){return t.value=e}))("onChange",(function(){return t.onChange()})),no(),io(9,"div",4),Yo(10),no()),2&e&&(Wn(1),Jo("",t.thresholdSwitchSideScreen.title," :"),Wn(3),Ko(t.valueLabel),Wn(2),eo("ngClass",t.classAbove),Wn(1),eo("ngClass",t.classBelow),Wn(1),eo("ngModel",t.value)("min",t.thresholdSwitchSideScreen.rangeMin)("max",t.correctedMaxRange)("step",t.thresholdSwitchSideScreen.incrementScale),Wn(2),Ko(t.tooltip))},directives:[wy,jc,ax,Uv,Zb],styles:[".button-container[_ngcontent-%COMP%]{display:flex;flex-flow:row;width:100%;margin-bottom:10px;margin-top:10px}.button-item[_ngcontent-%COMP%]{flex:1;width:100%}.text-tooltip[_ngcontent-%COMP%]{margin-top:10px;text-align:justify;font-size:smaller}"]}),e})(),fx=(()=>{class e{constructor(){}get activateTooltip(){let e=this.activeRangeSideScreen.activateTooltip;return e=e.replace("{0}",this.values[1].toString()),e}get deactivateTooltip(){let e=this.activeRangeSideScreen.deactivateTooltip;return e=e.replace("{0}",this.values[0].toString()),e}ngOnInit(){this.values=[],this.values[0]=this.blueprintItem.getUiSettings(this.activeRangeSideScreen.id).values[0],this.values[1]=this.blueprintItem.getUiSettings(this.activeRangeSideScreen.id).values[1]}onChange(){this.blueprintItem.getUiSettings(this.activeRangeSideScreen.id).values[0]=this.values[0],this.blueprintItem.getUiSettings(this.activeRangeSideScreen.id).values[1]=this.values[1]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ct({type:e,selectors:[["app-active-range-screen"]],inputs:{blueprintItem:"blueprintItem",activeRangeSideScreen:"activeRangeSideScreen"},decls:8,vars:7,consts:[[1,"range-slider"],[3,"ngModel","range","min","max","ngModelChange","onChange"],[1,"text-tooltip"]],template:function(e,t){1&e&&(io(0,"div"),Yo(1),no(),io(2,"div",0),io(3,"p-slider",1),ho("ngModelChange",(function(e){return t.values=e}))("onChange",(function(){return t.onChange()})),no(),no(),io(4,"div",2),Yo(5),no(),io(6,"div",2),Yo(7),no()),2&e&&(Wn(1),Jo("",t.activeRangeSideScreen.title," :"),Wn(2),eo("ngModel",t.values)("range",!0)("min",t.activeRangeSideScreen.minValue)("max",t.activeRangeSideScreen.maxValue),Wn(2),Ko(t.activateTooltip),Wn(2),Ko(t.deactivateTooltip))},directives:[ax,Uv,Zb],styles:[".range-slider[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.text-tooltip[_ngcontent-%COMP%]{text-align:justify;font-size:smaller}"]}),e})();function mx(e,t){if(1&e&&ro(0,"app-single-slider-screen",8),2&e){const e=mo().$implicit;eo("blueprintItem",mo(2).blueprintItem)("singleSliderSideScreen",e)}}function gx(e,t){if(1&e&&ro(0,"app-threshold-switch-screen",9),2&e){const e=mo().$implicit;eo("blueprintItem",mo(2).blueprintItem)("thresholdSwitchSideScreen",e)}}function yx(e,t){if(1&e&&ro(0,"app-active-range-screen",10),2&e){const e=mo().$implicit;eo("blueprintItem",mo(2).blueprintItem)("activeRangeSideScreen",e)}}function vx(e,t){if(1&e&&(io(0,"div"),Ys(1,mx,1,2,"app-single-slider-screen",5),Ys(2,gx,1,2,"app-threshold-switch-screen",6),Ys(3,yx,1,2,"app-active-range-screen",7),no()),2&e){const e=t.$implicit;Wn(1),eo("ngIf","SingleSliderSideScreen"==e.id),Wn(1),eo("ngIf","ThresholdSwitchSideScreen"==e.id),Wn(1),eo("ngIf","ActiveRangeSideScreen"==e.id)}}function bx(e,t){if(1&e&&(io(0,"fieldset",1),io(1,"legend",2),io(2,"span",3),Yo(3,"Settings"),no(),no(),Ys(4,vx,4,3,"div",4),no()),2&e){const e=mo();Wn(4),eo("ngForOf",e.uiScreens)}}let wx=(()=>{class e{constructor(){}get showSettings(){return this.blueprintItem.oniItem.uiScreens.length>0}get uiScreens(){return this.blueprintItem.oniItem.uiScreens}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ct({type:e,selectors:[["app-ui-screen-container"]],inputs:{blueprintItem:"blueprintItem"},decls:1,vars:1,consts:[["legend","Settings","class","ui-fieldset ui-widget ui-widget-content ui-corner-all",4,"ngIf"],["legend","Settings",1,"ui-fieldset","ui-widget","ui-widget-content","ui-corner-all"],[1,"ui-fieldset-legend","ui-corner-all","ui-state-default","ui-unselectable-text"],[1,"ui-fieldset-legend-text"],[4,"ngFor","ngForOf"],[3,"blueprintItem","singleSliderSideScreen",4,"ngIf"],[3,"blueprintItem","thresholdSwitchSideScreen",4,"ngIf"],[3,"blueprintItem","activeRangeSideScreen",4,"ngIf"],[3,"blueprintItem","singleSliderSideScreen"],[3,"blueprintItem","thresholdSwitchSideScreen"],[3,"blueprintItem","activeRangeSideScreen"]],template:function(e,t){1&e&&Ys(0,bx,5,1,"fieldset",0),2&e&&eo("ngIf",t.showSettings)},directives:[$c,Gc,dx,px,fx],styles:[""]}),e})();const xx=["categoryPanel"];function Cx(e,t){1&e&&ro(0,"img",20),2&e&&bo("src",mo(2).currentItem.iconUrl,Sn)}function _x(e,t){1&e&&ro(0,"app-element-icon",21),2&e&&eo("element",mo(2).currentItemToBuild.buildableElements[0])("width","40px")("height","40px")}function Sx(e,t){1&e&&(io(0,"div"),Yo(1,'Press "O" to change item orientation'),no())}function Ex(e,t){if(1&e&&(io(0,"div",22),Yo(1),no()),2&e){const e=mo(2);Wn(1),Ko(e.currentItemToBuild.buildCandidateResult.cantBuildReason)}}function Dx(e,t){if(1&e){const e=lo();io(0,"div",7),ho("click",(function(){Qt(e);const i=t.$implicit;return mo(4).chooseItem(i)})),ro(1,"img",20),no()}if(2&e){const e=t.$implicit;eo("pTooltip",e.name),Wn(1),bo("src",e.iconUrl,Sn)}}function kx(e,t){if(1&e&&(io(0,"div",6),Ys(1,Dx,2,2,"div",24),no()),2&e){const e=t.$implicit;Wn(1),eo("ngForOf",e)}}function Ix(e,t){if(1&e&&(io(0,"p-overlayPanel",4),Ys(1,kx,2,1,"div",23),no()),2&e){const e=t.index,i=mo(2);eo("appendTo","body"),Wn(1),eo("ngForOf",i.items[e])}}function Tx(e,t){if(1&e){const e=lo();io(0,"div"),io(1,"div",10),ho("click",(function(t){return Qt(e),mo().showCategories(t)})),io(2,"div",6),Ys(3,Cx,1,1,"img",11),Ys(4,_x,1,3,"app-element-icon",12),ro(5,"div",13),io(6,"div"),Yo(7),no(),ro(8,"div",14),no(),no(),Ys(9,Sx,2,0,"div",3),Ys(10,Ex,2,1,"div",15),io(11,"app-buildable-element-picker",16),ho("changeElement",(function(t){return Qt(e),mo().changeElement(t)})),no(),ro(12,"app-temperature-picker",17),ro(13,"app-ui-screen-container",18),Ys(14,Ix,2,2,"p-overlayPanel",19),no()}if(2&e){const e=mo();Wn(3),eo("ngIf",!e.currentItem.isElement),Wn(1),eo("ngIf",e.currentItem.isElement),Wn(3),Ko(e.currentItem.name),Wn(2),eo("ngIf",e.currentItem.orientations.length>1),Wn(1),eo("ngIf",!e.currentItemToBuild.buildCandidateResult.canBuild),Wn(1),eo("currentElement",e.currentItemToBuild.buildableElements)("buildableElementsArray",e.currentItem.buildableElementsArray)("isGasLiquid",e.isGasLiquid),Wn(1),eo("blueprintItem",e.currentItemToBuild)("temperatureWarning",!1),Wn(1),eo("blueprintItem",e.currentItemToBuild),Wn(1),eo("ngForOf",e.buildMenuCategories)}}function Ax(e,t){if(1&e){const e=lo();io(0,"div"),io(1,"div",7),ho("click",(function(i){Qt(e);const n=t.$implicit,r=t.index;return mo().showItems(i,n,r)})),ro(2,"img",20),no(),no()}if(2&e){const e=t.$implicit;Wn(1),eo("pTooltip",e.categoryName),Wn(1),bo("src",e.categoryIconUrl,Sn)}}let Ox=(()=>{class e{constructor(e){this.toolService=e,this.databaseLoaded=!1,this.items=[],this.toolService.buildTool.subscribeBuildItemChanged(this),this.toolService.subscribeToolChanged(this)}get buildMenuCategories(){return kg.BuildMenuCategory.buildMenuCategories}get currentItemToBuild(){return this.toolService.buildTool.templateItemToBuild}get isGasLiquid(){return this.currentItemToBuild.oniItem.isElement}ngOnInit(){}oniItemsLoaded(){this.toolService.buildTool.changeItem(kg.BlueprintHelpers.createInstance("Tile")),this.databaseLoaded=!0}showCategories(e){this.categoryPanel.toggle(e),this.itemPanels.forEach(e=>{e!=this.itemPanels.last&&e.hide()})}paintElement(){let e=new kg.BlueprintItemElement(kg.OniItem.elementId);e.setElement("Water",0),this.toolService.buildTool.changeItem(e),this.categoryPanel.hide()}showItems(e,t,i){this.items[i]=[];let n=0,r=0;for(let o of kg.BuildMenuItem.buildMenuItems)if(t.category==o.category){let e=kg.OniItem.getOniItem(o.buildingId);null==this.items[i][n]&&this.items[i].push([]),this.items[i][n].push(e),r++,r>6&&(r=0,n++)}let s=0;this.itemPanels.forEach(n=>{n!=this.itemPanels.last&&(s!=i?n.hide():this.currentCategory==t?n.toggle(e):n.show(e)),s++}),this.currentCategory=t}chooseItem(e){this.itemPanels.forEach(e=>{e.hide()}),this.currentItem=e,this.uiItemChanged()}changeElement(e){this.toolService.buildTool.templateItemToBuild.reloadCamera=!0}uiItemChanged(){this.toolService.buildTool.changeItem(kg.BlueprintHelpers.createInstance(this.currentItem.id))}onFocus(){}itemChanged(e){this.currentItem=e.oniItem}toolChanged(e){e==Ig.build&&this.uiItemChanged(),null!=this.itemPanels&&this.itemPanels.forEach(e=>{e.hide()})}}return e.\u0275fac=function(t){return new(t||e)(Js(Rg))},e.\u0275cmp=ct({type:e,selectors:[["app-build-tool"]],viewQuery:function(e,t){var i;1&e&&(Ml(xx,!0),Ml(bv,!0)),2&e&&(Fl(i=Nl())&&(t.categoryPanel=i.first),Fl(i=Nl())&&(t.itemPanels=i))},decls:11,vars:4,consts:[[1,"box-card","ui-widget"],["selectToolCard",""],[1,"box-card-title"],[4,"ngIf"],[3,"appendTo"],["categoryPanel",""],[1,"building-panel-content"],["tooltipPosition","bottom","life","5000",1,"ui-clickable-icon","element-button",3,"pTooltip","click"],["src","assets/images/ui/manual/liquid_icon.png","height","40px"],[4,"ngFor","ngForOf"],[1,"ui-clickable-icon","element-button-width",2,"margin-bottom","5px",3,"click"],["height","40px",3,"src",4,"ngIf"],[3,"element","width","height",4,"ngIf"],[1,"left"],[1,"right"],["class","error-red",4,"ngIf"],[3,"currentElement","buildableElementsArray","isGasLiquid","changeElement"],[3,"blueprintItem","temperatureWarning"],[3,"blueprintItem"],[3,"appendTo",4,"ngFor","ngForOf"],["height","40px",3,"src"],[3,"element","width","height"],[1,"error-red"],["class","building-panel-content",4,"ngFor","ngForOf"],["class","ui-clickable-icon element-button","tooltipPosition","bottom","life","5000",3,"pTooltip","click",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(io(0,"div",0,1),io(2,"div",2),Yo(3,"Build Tool"),no(),Ys(4,Tx,15,12,"div",3),no(),io(5,"p-overlayPanel",4,5),io(7,"div",6),io(8,"div",7),ho("click",(function(){return t.paintElement()})),ro(9,"img",8),no(),Ys(10,Ax,3,2,"div",9),no(),no()),2&e&&(Wn(4),eo("ngIf",t.databaseLoaded),Wn(1),eo("appendTo","body"),Wn(3),eo("pTooltip","Paint Element"),Wn(2),eo("ngForOf",t.buildMenuCategories))},directives:[$c,bv,_y,Gc,jw,hx,wx,Ev],styles:[".rightHandCells[_ngcontent-%COMP%]{padding-left:10px;width:100%}.scrollable[_ngcontent-%COMP%]{overflow-y:auto;max-height:60vh}.building-panel-content[_ngcontent-%COMP%]{display:flex;flex-flow:row;align-items:center}.element-button-width[_ngcontent-%COMP%]{width:100%}.element-button[_ngcontent-%COMP%], .element-button-width[_ngcontent-%COMP%]{height:50px;padding:5px}.left[_ngcontent-%COMP%]{flex:1}.right[_ngcontent-%COMP%]{flex:2}.error-red[_ngcontent-%COMP%]{color:#8b0000;text-align:justify}"]}),e})(),Fx=(()=>{class e{constructor(){}ngOnInit(){}toggleDialog(){this.visible=!this.visible}close(){this.visible=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ct({type:e,selectors:[["app-dialog-about"]],decls:51,vars:0,consts:[[1,"about-card","ui-widget"],[1,"header"],[1,"ui-close-button",3,"click"],[1,"pi","pi-times"],[1,"scrollable"],[1,"content"],["height","200px","src","assets/images/ui/manual/logo.png",1,"image-float-right"],["href","https://www.klei.com/games/oxygen-not-included","target","_blank"],["href","https://blueprintnotincluded.com/b/5de2666b7c0edb5515e65315","target","blueprint_link"],["height","200px","src","assets/images/ui/manual/gravitas_display1_manual.png",1,"image-float-right"],[1,"block-title"]],template:function(e,t){1&e&&(io(0,"div",0),io(1,"div",1),io(2,"h1"),Yo(3,"About BlueprintNotIncluded"),no(),io(4,"a",2),ho("click",(function(){return t.close()})),ro(5,"span",3),no(),no(),io(6,"div",4),io(7,"h3"),Yo(8,"What is this website ?"),no(),io(9,"div",5),ro(10,"img",6),Yo(11," Hi! I created this website after playing "),io(12,"a",7),Yo(13,"Oyxgen not included"),no(),Yo(14," for a while, browsing the subreddits and forums for the game. One thing I noticed is that when sharing their builds, people usually share a bunch of imgur pictures with the different overlays. This is fine for simple builds, but you can't very well zoom in, switch overlays, look what the setting is on that buffer logic switch... So I decided to create a tool where players could either upload the builds they created in game, or create their build from scratch on the web page. Here are some current features of the website : "),io(15,"ul"),io(16,"li"),Yo(17,"You can build your blueprint from scratch using the various tools"),no(),io(18,"li"),Yo(19,"You can import templates from the game (more on that later)"),no(),io(20,"li"),Yo(21,"You can cycle between various overlays. each overlay will hightlight different buildings"),no(),io(22,"li"),Yo(23,"You can save your blueprints"),no(),io(24,"li"),Yo(25,"You can share your blueprints, by exporting png images for each overlay"),no(),io(26,"li"),Yo(27,"Or by sharing a link that will directly open your blueprint! "),io(28,"a",8),Yo(29,"click here to open my SPOM in a new tab!"),no(),no(),no(),no(),ro(30,"br"),io(31,"h3"),Yo(32,"Controls"),no(),io(33,"div",5),ro(34,"img",9),io(35,"span",10),Yo(36,"Camera controls :"),no(),io(37,"ul"),io(38,"li"),Yo(39,"To move the camera with the mouse, press and hold the right mouse button, and drag the camera around"),no(),io(40,"li"),Yo(41,"Alternatively, you can use the arrow keys to move the camera by one tile in the direction of the arrow"),no(),io(42,"li"),Yo(43,'To zoom in / out, you can either use the mouse wheel, or use the "+" or "-" keys on your keypad'),no(),no(),io(44,"span",10),Yo(45,"Other Controls :"),no(),io(46,"ul"),io(47,"li"),Yo(48,'Ctrl-Z and Ctrl-Y will "undo" / "redo" any action you just made. These are also available in the "Edit" menu'),no(),io(49,"li"),Yo(50,'The "B" key will open the build tool. You can also get there with the "Tool : Build" menu'),no(),no(),no(),no(),no())},styles:[".about-card[_ngcontent-%COMP%]{background-color:#fff;color:#333;border-radius:3px;padding:10px;height:100%;display:flex;flex-flow:column;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12)}.header[_ngcontent-%COMP%]{display:flex;width:100%}.block-title[_ngcontent-%COMP%]{text-decoration:underline}.ui-close-button[_ngcontent-%COMP%]{margin-left:auto}.scrollable[_ngcontent-%COMP%]{overflow-y:auto;flex:1}.logo[_ngcontent-%COMP%]{float:left}.image-float-right[_ngcontent-%COMP%]{float:right;margin-left:20px}h1[_ngcontent-%COMP%]{display:block}.content[_ngcontent-%COMP%]{text-align:justify}"]}),e})(),Bx=(()=>{class e{constructor(){}validate(t){return e.validateBlueprintName(t)}static validateBlueprintName(t){let i=null;return null==t.value||0==t.value.length||(-1==t.value.search(e.regexp)&&(null==i&&(i={}),i.invalidChars=!0),t.value.length>60&&(null==i&&(i={}),i.tooLong=!0)),i}}return e.regexp=/^[a-zA-Z0-9-_ ]+$/,e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=gt({type:e,selectors:[["","appBlueprintNameValidation",""]],features:[fa([{provide:Hv,useExisting:e,multi:!0}])]}),e})(),Mx=(()=>{class e{constructor(e){this.el=e}onkeydown(e){if(!0!==this.pFocusTrapDisabled){e.preventDefault();let t=Ug.getFocusableElements(this.el.nativeElement);if(t&&t.length>0)if(document.activeElement){let i=t.indexOf(document.activeElement);e.shiftKey?-1==i||0===i?t[t.length-1].focus():t[i-1].focus():-1==i||i===t.length-1?t[0].focus():t[i+1].focus()}else t[0].focus()}}}return e.\u0275fac=function(t){return new(t||e)(Js(va))},e.\u0275dir=gt({type:e,selectors:[["","pFocusTrap",""]],hostBindings:function(e,t){1&e&&ho("keydown.tab",(function(e){return t.onkeydown(e)}))("keydown.shift.tab",(function(e){return t.onkeydown(e)}))},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),e})(),Px=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh]]}),e})();const Lx=["titlebar"],Nx=["content"],Rx=["footer"];function Ux(e,t){if(1&e&&(io(0,"span",16),Yo(1),no()),2&e){const e=mo(4);Zs("id",e.id+"-label"),Wn(1),Ko(e.header)}}function zx(e,t){1&e&&(io(0,"span",16),vo(1,1),no()),2&e&&Zs("id",mo(4).id+"-label")}function Vx(e,t){1&e&&ao(0)}const jx=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function Hx(e,t){if(1&e){const e=lo();io(0,"button",17),ho("click",(function(){return Qt(e),mo(4).maximize()}))("keydown.enter",(function(){return Qt(e),mo(4).maximize()})),ro(1,"span",18),no()}if(2&e){const e=mo(4);eo("ngClass",ul(2,jx)),Wn(1),eo("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}const Wx=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function Gx(e,t){if(1&e){const e=lo();io(0,"button",17),ho("click",(function(t){return Qt(e),mo(4).close(t)}))("keydown.enter",(function(t){return Qt(e),mo(4).close(t)})),ro(1,"span",19),no()}if(2&e){const e=mo(4);eo("ngClass",ul(2,Wx)),Wn(1),eo("ngClass",e.closeIcon)}}function qx(e,t){if(1&e){const e=lo();io(0,"div",11,12),ho("mousedown",(function(t){return Qt(e),mo(3).initDrag(t)})),Ys(2,Ux,2,2,"span",13),Ys(3,zx,2,1,"span",13),Ys(4,Vx,1,0,"ng-container",8),io(5,"div",14),Ys(6,Hx,2,3,"button",15),Ys(7,Gx,2,3,"button",15),no(),no()}if(2&e){const e=mo(3);Wn(2),eo("ngIf",e.header),Wn(1),eo("ngIf",e.headerFacet),Wn(1),eo("ngTemplateOutlet",e.headerTemplate),Wn(2),eo("ngIf",e.maximizable),Wn(1),eo("ngIf",e.closable)}}function $x(e,t){1&e&&ao(0)}function Zx(e,t){1&e&&ao(0)}function Xx(e,t){if(1&e&&(io(0,"div",20,21),vo(2,2),Ys(3,Zx,1,0,"ng-container",8),no()),2&e){const e=mo(3);Wn(3),eo("ngTemplateOutlet",e.footerTemplate)}}function Yx(e,t){if(1&e){const e=lo();io(0,"div",22),ho("mousedown",(function(t){return Qt(e),mo(3).initResize(t)})),no()}}const Kx=function(e,t,i,n){return{"p-dialog p-component":!0,"p-dialog-rtl":e,"p-dialog-draggable":t,"p-dialog-resizable":i,"p-dialog-maximized":n}},Jx=function(e,t){return{transform:e,transition:t}},Qx=function(e){return{value:"visible",params:e}};function eC(e,t){if(1&e){const e=lo();io(0,"div",3,4),ho("@animation.start",(function(t){return Qt(e),mo(2).onAnimationStart(t)}))("@animation.done",(function(t){return Qt(e),mo(2).onAnimationEnd(t)})),Ys(2,qx,8,5,"div",5),io(3,"div",6,7),vo(5),Ys(6,$x,1,0,"ng-container",8),no(),Ys(7,Xx,4,1,"div",9),Ys(8,Yx,1,0,"div",10),no()}if(2&e){const e=mo(2);No(e.styleClass),eo("ngClass",pl(15,Kx,e.rtl,e.draggable,e.resizable,e.maximized))("ngStyle",e.style)("pFocusTrapDisabled",!1===e.focusTrap)("@animation",cl(23,Qx,hl(20,Jx,e.transformOptions,e.transitionOptions))),Zs("aria-labelledby",e.id+"-label"),Wn(2),eo("ngIf",e.showHeader),Wn(1),No(e.contentStyleClass),eo("ngClass","p-dialog-content")("ngStyle",e.contentStyle),Wn(3),eo("ngTemplateOutlet",e.contentTemplate),Wn(1),eo("ngIf",e.footerFacet||e.footerTemplate),Wn(1),eo("ngIf",e.resizable)}}const tC=function(e,t,i,n,r,s,o,a,l,u){return{"p-dialog-mask":!0,"p-component-overlay":e,"p-dialog-mask-scrollblocker":t,"p-dialog-left":i,"p-dialog-right":n,"p-dialog-top":r,"p-dialog-topleft":s,"p-dialog-topright":o,"p-dialog-bottom":a,"p-dialog-bottomleft":l,"p-dialog-bottomright":u}};function iC(e,t){if(1&e&&(io(0,"div",1),Ys(1,eC,9,25,"div",2),no()),2&e){const e=mo();No(e.maskStyleClass),eo("ngClass",(i=4,n=tC,r=[e.modal,e.modal||e.blockScroll,"left"===e.position,"right"===e.position,"top"===e.position,"topleft"===e.position,"topright"===e.position,"bottom"===e.position,"bottomleft"===e.position,"bottomright"===e.position],function(e,t,i,n,r,s){let o=t+i,a=!1;for(let l=0;l<r.length;l++)Ws(e,o++,r[l])&&(a=!0);return a?js(e,o,n.apply(s,r)):fl(e,o)}(Kt(),oi(),i,n,r,s))),Wn(1),eo("ngIf",e.visible)}var i,n,r,s}const nC=["*",[["p-header"]],[["p-footer"]]],rC=["*","p-header","p-footer"];let sC=0;const oC=Ly([By({transform:"{{transform}}",opacity:0}),Oy("{{transition}}")]),aC=Ly([Oy("{{transition}}",By({transform:"{{transform}}",opacity:0}))]);let lC=(()=>{class e{constructor(e,t,i,n){this.el=e,this.renderer=t,this.zone=i,this.cd=n,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new xl,this.onHide=new xl,this.visibleChange=new xl,this.onResizeInit=new xl,this.onResizeEnd=new xl,this.onDragEnd=new xl,this.id="p-dialog-"+sC++,this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(e){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(e){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(e){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(e){console.log("Breakpoint property is not utilized and deprecated, use CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.contentTemplate=e.template}})}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(e){e&&(this._style=Object.assign({},e),this.originalStyle=e)}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let e=Ug.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}close(e){this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"click",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)})),this.modal&&Ug.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&Ug.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,this.modal||this.blockScroll||(this.maximized?Ug.addClass(document.body,"p-overflow-hidden"):Ug.removeClass(document.body,"p-overflow-hidden"))}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(this.container.style.zIndex=String(this.baseZIndex+ ++Ug.zindex),this.wrapper.style.zIndex=String(this.baseZIndex+(Ug.zindex-1)))}initDrag(e){Ug.hasClass(e.target,"p-dialog-header-icon")||Ug.hasClass(e.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",Ug.addClass(document.body,"p-unselectable-text"))}onKeydown(e){if(this.focusTrap&&9===e.which){e.preventDefault();let t=Ug.getFocusableElements(this.container);if(t&&t.length>0)if(document.activeElement){let i=t.indexOf(document.activeElement);e.shiftKey?-1==i||0===i?t[t.length-1].focus():t[i-1].focus():-1==i||i===t.length-1?t[0].focus():t[i+1].focus()}else t[0].focus()}}onDrag(e){if(this.dragging){let t=Ug.getOuterWidth(this.container),i=Ug.getOuterHeight(this.container),n=e.pageX-this.lastPageX,r=e.pageY-this.lastPageY,s=Ug.getOffset(this.container),o=s.left+n,a=s.top+r,l=Ug.getViewport();this.container.style.position="fixed",this.keepInViewport?(o>=this.minX&&o+t<l.width&&(this._style.left=o+"px",this.lastPageX=e.pageX,this.container.style.left=o+"px"),a>=this.minY&&a+i<l.height&&(this._style.top=a+"px",this.lastPageY=e.pageY,this.container.style.top=a+"px")):(this.lastPageX=e.pageX,this.container.style.left=o+"px",this.lastPageY=e.pageY,this.container.style.top=a+"px")}}endDrag(e){this.dragging&&(this.dragging=!1,Ug.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(e))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,Ug.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(e))}onResize(e){if(this.resizing){let t=e.pageX-this.lastPageX,i=e.pageY-this.lastPageY,n=Ug.getOuterWidth(this.container),r=Ug.getOuterHeight(this.container),s=Ug.getOuterHeight(this.contentViewChild.nativeElement),o=n+t,a=r+i,l=this.container.style.minWidth,u=this.container.style.minHeight,c=Ug.getOffset(this.container),h=Ug.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(o+=t,a+=i),(!l||o>parseInt(l))&&c.left+o<h.width&&(this._style.width=o+"px",this.container.style.width=this._style.width),(!u||a>parseInt(u))&&c.top+a<h.height&&(this.contentViewChild.nativeElement.style.height=s+a-r+"px",this._style.height&&(this._style.height=a+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,Ug.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen("document","keydown",e=>{27==e.which&&parseInt(this.container.style.zIndex)===Ug.zindex+this.baseZIndex&&this.close(e)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):Ug.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.onShow.emit({}),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&Ug.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus()}}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(Ug.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&Ug.removeClass(document.body,"p-overflow-hidden"),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy())}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(Ca),Js(uu),Js(ys))},e.\u0275cmp=ct({type:e,selectors:[["p-dialog"]],contentQueries:function(e,t,i){var n;1&e&&(Ll(i,_g,!0),Ll(i,Sg,!0),Ll(i,Eg,!1)),2&e&&(Fl(n=Nl())&&(t.headerFacet=n.first),Fl(n=Nl())&&(t.footerFacet=n.first),Fl(n=Nl())&&(t.templates=n))},viewQuery:function(e,t){var i;1&e&&(Ml(Lx,!0),Ml(Nx,!0),Ml(Rx,!0)),2&e&&(Fl(i=Nl())&&(t.headerViewChild=i.first),Fl(i=Nl())&&(t.contentViewChild=i.first),Fl(i=Nl())&&(t.footerViewChild=i.first))},inputs:{draggable:"draggable",resizable:"resizable",closeOnEscape:"closeOnEscape",closable:"closable",showHeader:"showHeader",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",positionLeft:"positionLeft",positionTop:"positionTop",responsive:"responsive",breakpoint:"breakpoint",visible:"visible",style:"style",position:"position",header:"header",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",dismissableMask:"dismissableMask",rtl:"rtl",appendTo:"appendTo",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maximizable:"maximizable"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd"},ngContentSelectors:rC,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"]],template:function(e,t){1&e&&(yo(nC),Ys(0,iC,2,15,"div",0)),2&e&&eo("ngIf",t.maskVisible)},directives:[$c,jc,Mx,ih,nh,zg],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;pointer-events:none;background-color:transparent;transition-property:background-color}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;pointer-events:auto;max-height:90%;-ms-transform:scale(1);transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto}.p-dialog-header{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.p-dialog-title{list-style:outside}.p-dialog .p-dialog-header-icons{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.p-dialog .p-dialog-header-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;overflow:hidden;position:relative}.p-dialog-mask.p-dialog-mask-leave{background-color:transparent}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom .p-dialog,.p-dialog-bottomleft .p-dialog,.p-dialog-bottomright .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top .p-dialog,.p-dialog-topleft .p-dialog,.p-dialog-topright .p-dialog{margin:.75rem;transform:translate3d(0,0,0)}.p-dialog-maximized{transition:none;-ms-transform:none;transform:none;width:100vw!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{-ms-flex-positive:1;flex-grow:1}.p-dialog-left{-ms-flex-pack:start;justify-content:flex-start}.p-dialog-right{-ms-flex-pack:end;justify-content:flex-end}.p-dialog-top{-ms-flex-align:start;align-items:flex-start}.p-dialog-topleft{-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:start;align-items:flex-start}.p-dialog-topright{-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:start;align-items:flex-start}.p-dialog-bottom{-ms-flex-align:end;align-items:flex-end}.p-dialog-bottomleft{-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:end;align-items:flex-end}.p-dialog-bottomright{-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}"],encapsulation:2,data:{animation:[Ay("animation",[Py("void => visible",[Ry(oC)]),Py("visible => void",[Ry(aC)])])]},changeDetection:0}),e})(),uC=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh,Px,Vg],Dg]}),e})();function cC(e,t){1&e&&(io(0,"div"),Yo(1,"Blueprint name is required."),no())}function hC(e,t){1&e&&(io(0,"div"),Yo(1,"Invalid characters in blueprint name"),no())}function dC(e,t){1&e&&(io(0,"div"),Yo(1,"Blueprint name is too long"),no())}function pC(e,t){if(1&e&&(io(0,"div",10),Ys(1,cC,2,0,"div",11),Ys(2,hC,2,0,"div",11),Ys(3,dC,2,0,"div",11),no()),2&e){const e=mo();Wn(1),eo("ngIf",e.f.name.errors.required),Wn(1),eo("ngIf",e.f.name.errors.invalidChars),Wn(1),eo("ngIf",e.f.name.errors.tooLong)}}function fC(e,t){1&e&&(io(0,"div",10),Yo(1,"You already have a blueprint with this name. Overwrite?"),no())}function mC(e,t){1&e&&(io(0,"div",10),Yo(1,"You must be logged in to save a blueprint"),no())}function gC(e,t){if(1&e&&ro(0,"p-button",12),2&e){const e=mo();eo("label",e.saveLabel)("icon",e.icon)("disabled",e.disabledSaveButton)}}function yC(e,t){if(1&e){const e=lo();io(0,"button",13),ho("click",(function(){return Qt(e),mo().doNotOverwrite()})),no()}}function vC(e,t){if(1&e){const e=lo();io(0,"button",14),ho("click",(function(){return Qt(e),mo().doOverwrite()})),no()}if(2&e){const e=mo();eo("icon",e.working?"pi pi-spin pi-spinner":"pi pi-check")("disabled",e.disabledSaveButton)}}let bC=(()=>{class e{constructor(e,t,i){this.blueprintService=e,this.messageService=t,this.authService=i,this.visible=!1,this.onSave=new xl,this.onUpdateThumbnail=new xl,this.saveBlueprintForm=new Lb({thumbnailType:new Pb("Color",[qv.required]),name:new Pb("",[qv.required,Bx.validateBlueprintName])}),this.working=!1,this.thumbnailReady=!1,this.overwrite=!1}get f(){return this.saveBlueprintForm.controls}get icon(){return this.working||null==this.blueprintService.thumbnail?"pi pi-spin pi-spinner":""}get saveLabel(){return null==this.blueprintService.thumbnail?"Generating thumbnail":"Save"}get disabledSaveButton(){return!this.saveBlueprintForm.valid||this.saveBlueprintForm.pending||this.working||!this.authService.isLoggedIn()||null==this.blueprintService.thumbnail}ngOnInit(){}onSubmit(){this.working=!0,this.blueprintService.name=this.saveBlueprintForm.value.name,this.blueprintService.saveBlueprint(!1).subscribe({next:this.handleSaveNext.bind(this),error:this.handleSaveError.bind(this)})}handleSaveNext(e){e.overwrite?(this.overwrite=!0,this.saveBlueprintForm.controls.name.disable(),this.working=!1):(this.hideDialog(),this.messageService.add({severity:"success",summary:this.blueprintService.name+" saved",detail:""}),this.working=!1)}handleSaveError(){this.hideDialog(),this.messageService.add({severity:"error",summary:"Error saving blueprint"}),this.working=!1}showDialog(){this.reset(),this.visible=!0,this.saveBlueprintForm.patchValue({thumbnailType:"Color"}),null!=this.blueprintService.name&&""!=this.blueprintService.name&&this.saveBlueprintForm.patchValue({name:this.blueprintService.name})}tryClearInterval(){null!=this.intervalId&&window.clearInterval(this.intervalId),this.intervalId=null}updateThumbnailReady(){this.thumbnailReady=null!=this.blueprintService.thumbnail,this.thumbnailReady&&this.tryClearInterval()}changeThumbnail(){if(null!=this.saveBlueprintForm.value.thumbnailType){let e="Color"==this.saveBlueprintForm.value.thumbnailType?kg.Display.solid:kg.Display.blueprint;e!=this.blueprintService.thumbnailStyle&&(this.blueprintService.thumbnailStyle=e,this.onUpdateThumbnail.emit(),this.intervalId=window.setInterval(this.updateThumbnailReady.bind(this),500))}}reset(){this.working=!1,this.thumbnailReady=!1,this.overwrite=!1,this.saveBlueprintForm.controls.name.enable(),this.saveBlueprintForm.reset(),this.tryClearInterval(),this.intervalId=window.setInterval(this.updateThumbnailReady.bind(this),500)}doNotOverwrite(){this.overwrite=!1,this.saveBlueprintForm.controls.name.enable()}doOverwrite(){this.working=!0,this.blueprintService.name=this.saveBlueprintForm.getRawValue().name,this.blueprintService.saveBlueprint(!0).subscribe({next:this.handleSaveNext.bind(this),error:this.handleSaveError.bind(this)})}hideDialog(){this.visible=!1}}return e.\u0275fac=function(t){return new(t||e)(Js(Og),Js(Cg),Js(Ag))},e.\u0275cmp=ct({type:e,selectors:[["app-component-save-dialog"]],outputs:{onSave:"onSave",onUpdateThumbnail:"onUpdateThumbnail"},decls:15,vars:15,consts:[[3,"formGroup","ngSubmit"],["header","Save blueprint to the cloud",3,"visible","modal","dismissableMask","closable","focusOnShow","maximizable","draggable","resizable","visibleChange"],["saveDialog",""],[1,"p-float-label"],["type","text","size","60","formControlName","name","pInputText",""],["for","inputtext"],["class","error-red",4,"ngIf"],["type","submit",3,"label","icon","disabled",4,"ngIf"],["type","button","pButton","","icon","pi pi-times","label","No","class","ui-button-danger",3,"click",4,"ngIf"],["type","button","pButton","","label","Yes",3,"icon","disabled","click",4,"ngIf"],[1,"error-red"],[4,"ngIf"],["type","submit",3,"label","icon","disabled"],["type","button","pButton","","icon","pi pi-times","label","No",1,"ui-button-danger",3,"click"],["type","button","pButton","","label","Yes",3,"icon","disabled","click"]],template:function(e,t){1&e&&(io(0,"form",0),ho("ngSubmit",(function(){return t.onSubmit()})),io(1,"p-dialog",1,2),ho("visibleChange",(function(e){return t.visible=e})),ro(3,"br"),io(4,"span",3),ro(5,"input",4),io(6,"label",5),Yo(7,"Blueprint name"),no(),no(),Ys(8,pC,4,3,"div",6),Ys(9,fC,2,0,"div",6),Ys(10,mC,2,0,"div",6),io(11,"p-footer"),Ys(12,gC,1,3,"p-button",7),Ys(13,yC,1,0,"button",8),Ys(14,vC,1,2,"button",9),no(),no(),no()),2&e&&(eo("formGroup",t.saveBlueprintForm),Wn(1),eo("visible",t.visible)("modal",!0)("dismissableMask",!0)("closable",!0)("focusOnShow",!1)("maximizable",!1)("draggable",!1)("resizable",!1),Wn(7),eo("ngIf",t.f.name.invalid&&(t.f.name.dirty||t.f.name.touched)),Wn(1),eo("ngIf",t.overwrite),Wn(1),eo("ngIf",!t.authService.isLoggedIn()),Wn(2),eo("ngIf",!t.overwrite),Wn(1),eo("ngIf",t.overwrite),Wn(1),eo("ngIf",t.overwrite))},directives:[Xb,zv,ew,lC,Fv,Uv,aw,Ew,$c,Sg,xy,wy],styles:[".error-red[_ngcontent-%COMP%]{color:#8b0000;margin-left:.5em}.radio-button[_ngcontent-%COMP%]{margin-left:10px}"]}),e})(),wC=(()=>{class e{constructor(){}validate(t){return e.validate(t)}static validate(t){let i=null;return null==t.value||0==t.value.length||(-1==t.value.search(e.regexp)&&(null==i&&(i={}),i.invalidChars=!0),t.value.length>30&&(null==i&&(i={}),i.tooLong=!0)),i}}return e.regexp=/^[a-zA-Z0-9-_]+$/,e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=gt({type:e,selectors:[["","appUsernameValidation",""]],features:[fa([{provide:Hv,useExisting:e,multi:!0}])]}),e})();const xC=new Pe("recaptcha-base-url"),CC=new Pe("recaptcha-nonce-tag"),_C=new Pe("recaptcha-v3-site-key");let SC=(()=>{let e=class{constructor(e,t,i,n,r){this.onLoadComplete=e=>{this.grecaptcha=e,this.actionBacklog&&this.actionBacklog.length>0&&(this.actionBacklog.forEach(([e,t])=>this.executeActionWithSubject(e,t)),this.actionBacklog=void 0)},this.zone=e,this.isBrowser=Ih(i),this.siteKey=t,this.nonce=r,this.baseUrl=n,this.init()}get onExecute(){return this.onExecuteSubject||(this.onExecuteSubject=new _,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable}execute(e){const t=new _;return this.isBrowser&&(this.grecaptcha?this.executeActionWithSubject(e,t):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([e,t]))),t.asObservable()}executeActionWithSubject(e,t){this.zone.runOutsideAngular(()=>{this.grecaptcha.execute(this.siteKey,{action:e}).then(i=>{this.zone.run(()=>{t.next(i),t.complete(),this.onExecuteSubject&&this.onExecuteSubject.next({action:e,token:i})})})})}init(){this.isBrowser&&("grecaptcha"in window?this.grecaptcha=grecaptcha:function(e,t,i,n,r){window.ng2recaptchaloaded=()=>{t(grecaptcha)};const s=document.createElement("script");s.innerHTML="",s.src=`${n||"https://www.google.com/recaptcha/api.js"}?render=${e}&onload=ng2recaptchaloaded`,r&&(s.nonce=r),s.async=!0,s.defer=!0,document.head.appendChild(s)}(this.siteKey,this.onLoadComplete,0,this.baseUrl,this.nonce))}};return e.\u0275fac=function(t){return new(t||e)(Ge(uu),Ge(_C),Ge(Zl),Ge(xC,8),Ge(CC,8))},e.\u0275prov=ae({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),EC=(()=>{let e=class{};return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},providers:[SC]}),e})(),DC=(()=>{class e{constructor(e,t){this.el=e,this.zone=t,this.promptLabel="Enter a password",this.weakLabel="Weak",this.mediumLabel="Medium",this.strongLabel="Strong",this.feedback=!0}set showPassword(e){this.el.nativeElement.type=e?"text":"password"}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}createPanel(){this.panel=document.createElement("div"),this.panel.className="p-password-panel p-component p-password-panel-overlay p-connected-overlay",this.meter=document.createElement("div"),this.meter.className="p-password-meter",this.info=document.createElement("div"),this.info.className="p-password-info",this.info.textContent=this.promptLabel,this.panel.appendChild(this.meter),this.panel.appendChild(this.info),this.panel.style.minWidth=Ug.getOuterWidth(this.el.nativeElement)+"px",document.body.appendChild(this.panel)}onFocus(){this.feedback&&(this.panel||this.createPanel(),this.panel.style.zIndex=String(++Ug.zindex),this.panel.style.display="block",this.zone.runOutsideAngular(()=>{setTimeout(()=>{Ug.addClass(this.panel,"p-connected-overlay-visible")},1)}),Ug.absolutePosition(this.panel,this.el.nativeElement))}onBlur(){this.feedback&&(Ug.addClass(this.panel,"p-connected-overlay-hidden"),Ug.removeClass(this.panel,"p-connected-overlay-visible"),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.ngOnDestroy()},150)}))}onKeyup(e){if(this.feedback){let i=e.target.value,n=null,r=null;if(0===i.length)n=this.promptLabel,r="0px 0px";else{var t=this.testStrength(i);t<30?(n=this.weakLabel,r="0px -10px"):t>=30&&t<80?(n=this.mediumLabel,r="0px -20px"):t>=80&&(n=this.strongLabel,r="0px -30px")}this.meter.style.backgroundPosition=r,this.info.textContent=n}}testStrength(e){let t,i=0;return t=e.match("[0-9]"),i+=25*this.normalize(t?t.length:1/4,1),t=e.match("[a-zA-Z]"),i+=10*this.normalize(t?t.length:.5,3),t=e.match("[!@#$%^&*?_~.,;=]"),i+=35*this.normalize(t?t.length:1/6,1),t=e.match("[A-Z]"),i+=30*this.normalize(t?t.length:1/6,1),i*=e.length/8,i>100?100:i}normalize(e,t){return e-t<=0?e/t:1+e/(e+t/4)*.5}get disabled(){return this.el.nativeElement.disabled}ngOnDestroy(){this.panel&&(document.body.removeChild(this.panel),this.panel=null,this.meter=null,this.info=null)}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(uu))},e.\u0275dir=gt({type:e,selectors:[["","pPassword",""]],hostVars:6,hostBindings:function(e,t){1&e&&ho("input",(function(e){return t.onInput(e)}))("focus",(function(){return t.onFocus()}))("blur",(function(){return t.onBlur()}))("keyup",(function(e){return t.onKeyup(e)})),2&e&&Mo("p-inputtext",!0)("p-component",!0)("p-filled",t.filled)},inputs:{promptLabel:"promptLabel",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",feedback:"feedback",showPassword:"showPassword"}}),e})(),kC=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh]]}),e})();function IC(e,t){1&e&&(io(0,"div"),Yo(1,"Username is required."),no())}function TC(e,t){1&e&&(io(0,"div"),Yo(1,"Invalid characters in username"),no())}function AC(e,t){1&e&&(io(0,"div"),Yo(1,"Username is too long"),no())}function OC(e,t){if(1&e&&(io(0,"div",11),Ys(1,IC,2,0,"div",12),Ys(2,TC,2,0,"div",12),Ys(3,AC,2,0,"div",12),no()),2&e){const e=mo();Wn(1),eo("ngIf",e.f.username.errors.required),Wn(1),eo("ngIf",e.f.username.errors.invalidChars),Wn(1),eo("ngIf",e.f.username.errors.tooLong)}}function FC(e,t){1&e&&(io(0,"div"),Yo(1,"Password is required."),no())}function BC(e,t){if(1&e&&(io(0,"div",11),Ys(1,FC,2,0,"div",12),no()),2&e){const e=mo();Wn(1),eo("ngIf",e.f.password.errors.required)}}function MC(e,t){1&e&&(io(0,"div",11),Yo(1,"Authentification error"),no())}let PC=(()=>{class e{constructor(e,t,i){this.authService=e,this.recaptchaV3Service=t,this.messageService=i,this.loginForm=new Lb({username:new Pb("",[qv.required,wC.validate]),password:new Pb("",[qv.required])}),this.onRegistration=new xl,this.onLoginOk=new xl,this.working=!1,this.authError=!1}get f(){return this.loginForm.controls}get icon(){return this.working?"pi pi-spin pi-spinner":""}ngOnInit(){}reset(){this.working=!1,this.authError=!1,this.loginForm.reset()}onSubmit(){this.working=!0,this.subscription=this.recaptchaV3Service.execute("login").subscribe(e=>{this.authService.login({"g-recaptcha-response":e,email:"",username:this.loginForm.value.username,password:this.loginForm.value.password}).subscribe({next:this.handleSaveNext.bind(this),error:this.handleSaveError.bind(this)}),this.subscription.unsubscribe()})}handleSaveNext(e){this.onLoginOk.emit();let t="Welcome "+this.authService.getUserDetails().username;this.messageService.add({severity:"success",summary:"Login Successful",detail:t}),this.working=!1}handleSaveError(){this.authError=!0,this.working=!1}registration(){this.onRegistration.emit()}}return e.\u0275fac=function(t){return new(t||e)(Js(Ag),Js(SC),Js(Cg))},e.\u0275cmp=ct({type:e,selectors:[["app-login-form"]],outputs:{onRegistration:"onRegistration",onLoginOk:"onLoginOk"},decls:28,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"p-float-label"],["type","text","size","30","formControlName","username","pInputText",""],["for","inputtext"],["class","error-red",4,"ngIf"],["pPassword","","type","password","size","30","formControlName","password",3,"feedback"],[3,"routerLink","click"],[1,"recaptcha-wrap"],["href","https://policies.google.com/privacy"],["href","https://policies.google.com/terms"],["type","submit",2,"visibility","hidden"],[1,"error-red"],[4,"ngIf"]],template:function(e,t){1&e&&(io(0,"form",0),ho("ngSubmit",(function(){return t.onSubmit()})),ro(1,"br"),io(2,"span",1),ro(3,"input",2),io(4,"label",3),Yo(5,"Username"),no(),no(),Ys(6,OC,4,3,"div",4),ro(7,"br"),io(8,"span",1),ro(9,"input",5),io(10,"label",3),Yo(11,"Password"),no(),no(),Ys(12,BC,2,1,"div",4),Ys(13,MC,2,0,"div",4),ro(14,"br"),io(15,"a",6),ho("click",(function(){return t.registration()})),Yo(16,"First registration ?"),no(),ro(17,"br"),ro(18,"br"),io(19,"div",7),Yo(20," This site is protected by reCAPTCHA and the Google "),io(21,"a",8),Yo(22,"Privacy Policy"),no(),Yo(23," and "),io(24,"a",9),Yo(25,"Terms of Service"),no(),Yo(26," apply. "),no(),ro(27,"button",10),no()),2&e&&(eo("formGroup",t.loginForm),Wn(6),eo("ngIf",t.f.username.invalid&&(t.f.username.dirty||t.f.username.touched)),Wn(3),eo("feedback",!1),Wn(3),eo("ngIf",t.f.password.invalid&&(t.f.password.dirty||t.f.password.touched)),Wn(1),eo("ngIf",t.authError))},directives:[Xb,zv,ew,Fv,Uv,aw,Ew,$c,DC,Jm],styles:[".error-red[_ngcontent-%COMP%]{color:#8b0000;margin-left:.5em}.recaptcha-wrap[_ngcontent-%COMP%]{font-size:x-small;width:25em}"]}),e})();class LC extends h{constructor(e,t){super()}schedule(e,t=0){return this}}class NC extends LC{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,n=void 0;try{this.work(e)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,i=t.actions,n=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&i.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let RC=(()=>{class e{constructor(t,i=e.now){this.SchedulerAction=t,this.now=i}schedule(e,t=0,i){return new this.SchedulerAction(this,e).schedule(i,t)}}return e.now=()=>Date.now(),e})();class UC extends RC{constructor(e,t=RC.now){super(e,()=>UC.delegate&&UC.delegate!==this?UC.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return UC.delegate&&UC.delegate!==this?UC.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const zC=new UC(NC);function VC(e){return!l(e)&&e-parseFloat(e)+1>=0}function jC(e=0,t,i){let n=-1;return VC(t)?n=Number(t)<1?1:Number(t):E(t)&&(i=t),E(i)||(i=zC),new v(t=>{const r=VC(e)?e:+e-i.now();return i.schedule(HC,r,{index:0,period:n,subscriber:t})})}function HC(e){const{index:t,period:i,subscriber:n}=e;if(n.next(t),!n.closed){if(-1===i)return n.complete();e.index=t+1,this.schedule(e,i)}}let WC=(()=>{class e{constructor(e){this.http=e}checkUsername(e){return jC(1e3).pipe(Sp(()=>this.http.get("/api/checkusername?username="+e)))}usernameValidator(){return e=>this.checkUsername(e.value).pipe(D(e=>{if(e.usernameExists)return{usernameExists:!0}}))}}return e.\u0275fac=function(t){return new(t||e)(Ge(Dd))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();function GC(e,t){1&e&&(io(0,"div"),Yo(1,"E-Mail is required."),no())}function qC(e,t){1&e&&(io(0,"div"),Yo(1,"E-Mail is not valid."),no())}function $C(e,t){if(1&e&&(io(0,"div",14),Ys(1,GC,2,0,"div",15),Ys(2,qC,2,0,"div",15),no()),2&e){const e=mo();Wn(1),eo("ngIf",e.f.email.errors.required),Wn(1),eo("ngIf",e.f.email.errors.email)}}function ZC(e,t){1&e&&(io(0,"div"),Yo(1,"Username is required."),no())}function XC(e,t){1&e&&(io(0,"div"),Yo(1,"Username is unavailable."),no())}function YC(e,t){1&e&&(io(0,"div"),Yo(1,"Invalid characters in username"),no())}function KC(e,t){if(1&e&&(io(0,"div",14),Ys(1,ZC,2,0,"div",15),Ys(2,XC,2,0,"div",15),Ys(3,YC,2,0,"div",15),no()),2&e){const e=mo();Wn(1),eo("ngIf",e.f.username.errors.required),Wn(1),eo("ngIf",null==e.f.username.errors?null:e.f.username.errors.usernameExists),Wn(1),eo("ngIf",e.f.username.errors.invalidChars)}}function JC(e,t){1&e&&(io(0,"div",16),Yo(1,"Checking username availability..."),no())}function QC(e,t){1&e&&(io(0,"div",17),Yo(1,"Username is available"),no())}function e_(e,t){1&e&&(io(0,"div"),Yo(1,"Password is required."),no())}function t_(e,t){if(1&e&&(io(0,"div",14),Ys(1,e_,2,0,"div",15),no()),2&e){const e=mo();Wn(1),eo("ngIf",e.f.password.errors.required)}}function i_(e,t){1&e&&(io(0,"div",14),Yo(1,"Passwords must match."),no())}function n_(e,t){1&e&&(io(0,"div",14),Yo(1,"Authentification error"),no())}function r_(e,t){1&e&&(io(0,"div",14),Yo(1,"Username or e-mail is already registered"),no())}let s_=(()=>{class e{constructor(e,t,i,n){this.authService=e,this.checkDuplicateService=t,this.messageService=i,this.recaptchaV3Service=n,this.registerForm=new Lb({email:new Pb("",[qv.required,qv.email]),username:new Pb("",[qv.required,wC.validate],[this.checkDuplicateService.usernameValidator()]),password:new Pb("",[qv.required]),confirmPassword:new Pb("",[qv.required])},{validators:[this.passwordConfirming]}),this.onRegistrationOk=new xl,this.working=!1,this.authError=!1,this.duplicateError=!1}get f(){return this.registerForm.controls}get icon(){return this.working?"pi pi-spin pi-spinner":""}reset(){this.working=!1,this.authError=!1,this.duplicateError=!1,this.registerForm.reset()}passwordConfirming(e){if(e.get("password").value!==e.get("confirmPassword").value)return{invalid:!0}}onSubmit(){this.working=!0,this.subscription=this.recaptchaV3Service.execute("register").subscribe(e=>{this.authService.register({"g-recaptcha-response":e,email:this.registerForm.value.email,username:this.registerForm.value.username,password:this.registerForm.value.password}).subscribe({next:this.handleSaveNext.bind(this),error:this.handleSaveError.bind(this)})})}handleSaveNext(e){if(e.duplicateError)this.duplicateError=!0;else if(e.token){this.onRegistrationOk.emit();let e="Registration Successful",t="Welcome "+this.authService.getUserDetails().username;this.messageService.add({severity:"success",summary:e,detail:t})}this.working=!1}handleSaveError(){this.authError=!0,this.working=!1}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(Js(Ag),Js(WC),Js(Cg),Js(SC))},e.\u0275cmp=ct({type:e,selectors:[["app-register-form"]],outputs:{onRegistrationOk:"onRegistrationOk"},decls:39,vars:11,consts:[[3,"formGroup","ngSubmit"],[1,"p-float-label"],["type","text","size","30","id","email","formControlName","email","pInputText","",1,"float-input"],["for","inputtext"],["class","error-red",4,"ngIf"],["type","text","size","30","formControlName","username","pInputText",""],["class","pending-blue",4,"ngIf"],["class","valid-green",4,"ngIf"],["pPassword","","type","password","size","30","formControlName","password",3,"feedback"],["pPassword","","type","password","size","30","formControlName","confirmPassword",3,"feedback"],[1,"recaptcha-wrap"],["href","https://policies.google.com/privacy"],["href","https://policies.google.com/terms"],["type","submit",2,"visibility","hidden"],[1,"error-red"],[4,"ngIf"],[1,"pending-blue"],[1,"valid-green"]],template:function(e,t){1&e&&(io(0,"form",0),ho("ngSubmit",(function(){return t.onSubmit()})),ro(1,"br"),io(2,"span",1),ro(3,"input",2),io(4,"label",3),Yo(5,"E-Mail"),no(),no(),Ys(6,$C,3,2,"div",4),ro(7,"br"),io(8,"span",1),ro(9,"input",5),io(10,"label",3),Yo(11,"Username"),no(),no(),Ys(12,KC,4,3,"div",4),Ys(13,JC,2,0,"div",6),Ys(14,QC,2,0,"div",7),ro(15,"br"),io(16,"span",1),ro(17,"input",8),io(18,"label",3),Yo(19,"Password"),no(),no(),Ys(20,t_,2,1,"div",4),ro(21,"br"),io(22,"span",1),ro(23,"input",9),io(24,"label",3),Yo(25,"Confirm Password"),no(),no(),Ys(26,i_,2,0,"div",4),Ys(27,n_,2,0,"div",4),Ys(28,r_,2,0,"div",4),ro(29,"br"),io(30,"div",10),Yo(31," This site is protected by reCAPTCHA and the Google "),io(32,"a",11),Yo(33,"Privacy Policy"),no(),Yo(34," and "),io(35,"a",12),Yo(36,"Terms of Service"),no(),Yo(37," apply. "),no(),ro(38,"button",13),no()),2&e&&(eo("formGroup",t.registerForm),Wn(6),eo("ngIf",t.f.email.invalid&&(t.f.email.dirty||t.f.email.touched)),Wn(6),eo("ngIf",t.f.username.invalid&&(t.f.username.dirty||t.f.username.touched)),Wn(1),eo("ngIf",t.f.username.pending),Wn(1),eo("ngIf",t.f.username.valid),Wn(3),eo("feedback",!1),Wn(3),eo("ngIf",t.f.password.invalid&&(t.f.password.dirty||t.f.password.touched)),Wn(3),eo("feedback",!1),Wn(3),eo("ngIf",null==t.registerForm.errors?null:t.registerForm.errors.invalid),Wn(1),eo("ngIf",t.authError),Wn(1),eo("ngIf",t.duplicateError))},directives:[Xb,zv,ew,Fv,Uv,aw,Ew,$c,DC],styles:[".error-red[_ngcontent-%COMP%]{color:#8b0000;margin-left:.5em}.pending-blue[_ngcontent-%COMP%]{color:#00008b;margin-left:.5em}.valid-green[_ngcontent-%COMP%]{color:#006400;margin-left:.5em}.recaptcha-wrap[_ngcontent-%COMP%]{font-size:x-small;width:25em}"]}),e})();const o_=["loginDialog"],a_=["loginForm"],l_=["registerForm"];function u_(e,t){if(1&e){const e=lo();io(0,"app-login-form",5,6),ho("onRegistration",(function(){return Qt(e),mo().registration()}))("onLoginOk",(function(){return Qt(e),mo().hideDialog()})),no()}}function c_(e,t){if(1&e){const e=lo();io(0,"app-register-form",7,8),ho("onRegistrationOk",(function(){return Qt(e),mo().hideDialog()})),no()}}let h_=(()=>{class e{constructor(e){this.cdRef=e,this.visible=!1,this.loginType=d_.Login}get label(){return this.isLogin?"Login":"Register"}get icon(){return this.isLogin&&null!=this.loginForm?this.loginForm.working?"pi pi-spin pi-spinner":"":this.isRegistration&&null!=this.registerForm&&this.registerForm.working?"pi pi-spin pi-spinner":""}get disabled(){return this.isLogin&&null!=this.loginForm?!this.loginForm.loginForm.valid||this.loginForm.loginForm.pending||this.loginForm.working:!(!this.isRegistration||null==this.registerForm)&&(!this.registerForm.registerForm.valid||this.registerForm.registerForm.pending||this.registerForm.working)}ngOnInit(){this.cdRef.detectChanges()}cancel(e){this.hideDialog()}showDialog(){this.loginType=d_.Login,this.cdRef.detectChanges(),this.loginForm.reset(),this.visible=!0,this.recenter()}submit(){this.isLogin?this.loginForm.onSubmit():this.isRegistration&&this.registerForm.onSubmit()}hideDialog(){this.visible=!1}get isLogin(){return this.loginType==d_.Login}get isRegistration(){return this.loginType==d_.Registration}registration(){this.loginType=d_.Registration,this.cdRef.detectChanges(),this.registerForm.reset(),this.recenter()}recenter(){}}return e.\u0275fac=function(t){return new(t||e)(Js(ys))},e.\u0275cmp=ct({type:e,selectors:[["app-login-dialog"]],viewQuery:function(e,t){var i;1&e&&(Bl(o_,!0),Ml(a_,!0),Ml(l_,!0)),2&e&&(Fl(i=Nl())&&(t.loginDialog=i.first),Fl(i=Nl())&&(t.loginForm=i.first),Fl(i=Nl())&&(t.registerForm=i.first))},decls:6,vars:14,consts:[[3,"header","visible","modal","dismissableMask","closable","focusOnShow","maximizable","draggable","resizable","visibleChange"],["loginDialog",""],[3,"onRegistration","onLoginOk",4,"ngIf"],[3,"onRegistrationOk",4,"ngIf"],["type","submit",3,"icon","label","disabled","click"],[3,"onRegistration","onLoginOk"],["loginForm",""],[3,"onRegistrationOk"],["registerForm",""]],template:function(e,t){1&e&&(io(0,"p-dialog",0,1),ho("visibleChange",(function(e){return t.visible=e})),Ys(2,u_,2,0,"app-login-form",2),Ys(3,c_,2,0,"app-register-form",3),io(4,"p-footer"),io(5,"p-button",4),ho("click",(function(){return t.submit()})),no(),no(),no()),2&e&&(eo("header",t.isLogin?"Login":"Register")("visible",t.visible)("modal",!0)("dismissableMask",!0)("closable",!0)("focusOnShow",!1)("maximizable",!1)("draggable",!1)("resizable",!1),Wn(2),eo("ngIf",t.isLogin),Wn(1),eo("ngIf",t.isRegistration),Wn(2),eo("icon",t.icon)("label",t.label)("disabled",t.disabled))},directives:[lC,$c,Sg,xy,PC,s_],styles:[""]}),e})();var d_=function(e){return e[e.Login=0]="Login",e[e.Registration=1]="Registration",e[e.ForgotPassword=2]="ForgotPassword",e}({});let p_=(()=>{class e{constructor(e,t){this.blueprintService=e,this.messageService=t,this.visible=!1}get url(){return null!=this.blueprintService.id?Og.baseUrl+"b/"+this.blueprintService.id:""}ngOnInit(){}showDialog(){this.visible=!0}hideDialog(){this.visible=!1}copyToClipboard(e){e.select(),document.execCommand("copy"),this.messageService.add({severity:"success",summary:"Shareable url copied",detail:"Paste it into a new tab to try it!"}),this.hideDialog()}newTab(){window.open(this.url,Math.random().toString(36))}}return e.\u0275fac=function(t){return new(t||e)(Js(Og),Js(Cg))},e.\u0275cmp=ct({type:e,selectors:[["app-dialog-share-url"]],decls:8,vars:12,consts:[["header","Get shareable url",3,"visible","modal","dismissableMask","closable","focusOnShow","maximizable","draggable","resizable","visibleChange"],["saveDialog",""],["type","text","size","60","pInputText","",1,"float-input",3,"ngModel","disabled"],["urlInput",""],["pButton","","type","button","icon","pi pi-clone","pTooltip","Copy url to clipboard",1,"ui-button","copy-button",3,"disabled","click"],["pButton","","type","button","icon","pi pi-external-link","pTooltip","Open in new tab",1,"ui-button","copy-button",3,"disabled","click"]],template:function(e,t){if(1&e){const e=lo();io(0,"p-dialog",0,1),ho("visibleChange",(function(e){return t.visible=e})),io(2,"div"),Yo(3,"Use the following url to share this blueprint : "),no(),ro(4,"input",2,3),io(6,"button",4),ho("click",(function(){Qt(e);const i=Ks(5);return t.copyToClipboard(i)})),no(),io(7,"button",5),ho("click",(function(){return t.newTab()})),no(),no()}2&e&&(eo("visible",t.visible)("modal",!0)("dismissableMask",!0)("closable",!0)("focusOnShow",!1)("maximizable",!1)("draggable",!1)("resizable",!1),Wn(4),eo("ngModel",t.url)("disabled",null==t.blueprintService.id),Wn(2),eo("disabled",null==t.blueprintService.id),Wn(1),eo("disabled",null==t.blueprintService.id))},directives:[lC,Fv,Ew,Uv,Zb,wy,_y],styles:[".copy-button[_ngcontent-%COMP%]{margin-left:5px}"]}),e})();class f_{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new m_(e,this.dueTime,this.scheduler))}}class m_ extends f{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(g_,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function g_(e){e.debouncedNext()}const y_=["browseDialog"],v_=["scrollable"];function b_(e,t){if(1&e){const e=lo();io(0,"p-checkbox",8),ho("ngModelChange",(function(t){return Qt(e),mo().filterUser=t}))("onChange",(function(){return Qt(e),mo().filterUserChange()})),no()}if(2&e){const e=mo();wo("label","Show only blueprints by ",e.filterUserName,""),eo("ngModel",e.filterUser)}}function w_(e,t){if(1&e){const e=lo();io(0,"img",17),ho("click",(function(){Qt(e);const t=mo().$implicit;return mo().openBlueprint(t)})),no()}2&e&&eo("src",mo().$implicit.thumbnail,Sn)}function x_(e,t){1&e&&(Si(),io(0,"svg",18),ro(1,"rect",19),ro(2,"path",20),ro(3,"path",21),no())}function C_(e,t){1&e&&(Si(),io(0,"svg",18),ro(1,"rect",19),ro(2,"path",22),ro(3,"path",23),no())}function __(e,t){if(1&e){const e=lo();io(0,"div",24),io(1,"button",25),ho("click",(function(){Qt(e);const t=mo().$implicit;return mo().deleteBlueprint(t)})),no(),no()}}function S_(e,t){if(1&e){const e=lo();io(0,"div"),Yo(1,"Author :\xa0"),io(2,"a",26),ho("click",(function(){Qt(e);const t=mo().$implicit;return mo().filterOwner(t.ownerId,t.ownerName)})),Yo(3),no(),no()}if(2&e){const e=mo().$implicit;Wn(3),Ko(e.ownerName)}}function E_(e,t){if(1&e&&(io(0,"div"),Yo(1),no()),2&e){const e=mo().$implicit,t=mo();Wn(1),Jo("Created : ",t.datepipe.transform(e.createdAt,"yyyy-MM-dd"),"")}}function D_(e,t){if(1&e&&(io(0,"div"),Yo(1),no()),2&e){const e=mo().$implicit,t=mo();Wn(1),Jo("Modified : ",t.datepipe.transform(e.modifiedAt,"yyyy-MM-dd"),"")}}function k_(e,t){if(1&e&&(io(0,"div",9),io(1,"div",10),Ys(2,w_,1,1,"img",11),Ys(3,x_,4,0,"svg",12),Ys(4,C_,4,0,"svg",12),no(),io(5,"div",13),io(6,"div",14),io(7,"b"),Yo(8),no(),Ys(9,__,2,0,"div",15),no(),ro(10,"br"),Ys(11,S_,4,1,"div",16),Ys(12,E_,2,1,"div",16),Ys(13,D_,2,1,"div",16),no(),no()),2&e){const e=t.$implicit,i=mo();Wn(2),eo("ngIf",i.isReal(e.thumbnail)),Wn(1),eo("ngIf","svg"==e.thumbnail),Wn(1),eo("ngIf","svg_nothing"==e.thumbnail),Wn(4),Ko(e.name),Wn(1),eo("ngIf",i.isReal(e.thumbnail)&&e.ownedByMe),Wn(2),eo("ngIf",i.isReal(e.thumbnail)),Wn(1),eo("ngIf",i.isReal(e.thumbnail)),Wn(1),eo("ngIf",i.isReal(e.thumbnail))}}let I_=(()=>{class e{constructor(e,t,i){this.blueprintService=e,this.authService=t,this.datepipe=i,this.visible=!1,this.filterNameSubject=new _;let n=new Date;this.loadingBlueprintItem={id:null,name:"Loading...",ownerId:"",ownerName:"Loading...",createdAt:n,modifiedAt:n,thumbnail:"svg",tags:null,likedByMe:!1,ownedByMe:!1,nbLikes:0},this.nothingBlueprintItem={id:null,name:"No Results",ownerId:"",ownerName:"Loading...",createdAt:n,modifiedAt:n,thumbnail:"svg_nothing",tags:null,likedByMe:!1,ownedByMe:!1,nbLikes:0},this.filterNameSubject.pipe(function(e,t=zC){return i=>i.lift(new f_(e,t))}(1e3)).subscribe(e=>{this.filterNameChange()}),this.filterNameSubject.subscribe(e=>{this.removeAll()})}isReal(e){return"svg"!=e&&"svg_nothing"!=e}ngOnInit(){this.browseDialog.onShow.subscribe({next:this.handleOnShow.bind(this)}),this.reset()}duplicateChange(){this.removeAll(),this.oldestDate=new Date,this.getBlueprints()}filterUserChange(){0==this.filterUser&&(this.removeAll(),this.filterUserId=null,this.filterUserName=null,this.oldestDate=new Date,this.getBlueprints())}filterNameChange(){this.removeAll(),this.oldestDate=new Date,this.getBlueprints()}filterOwner(e,t){this.filterUser=!0,this.filterUserId=e,this.filterUserName=t,this.removeAll(),this.getBlueprints()}getBlueprints(){let e=null;""!=this.filterName&&null!=this.filterName&&(e=this.filterName),this.blueprintService.getBlueprints(this.oldestDate,this.filterUserId,e,this.getDuplicates).subscribe({next:this.handleGetBlueprints.bind(this)})}deleteBlueprint(e){this.blueprintService.deleteBlueprint(e.id).subscribe({next:this.handleDeleteNext.bind(this),error:this.handleDeleteError.bind(this)})}handleDeleteNext(){this.removeAll(),this.getBlueprints()}handleDeleteError(){console.log("Error when deleting blueprint")}reset(){this.filterUser=!1,this.filterUserId=null,this.filterUserName=null,this.getDuplicates=!1,this.filterName=null,this.removeAll()}removeAll(){this.noMoreBlueprints=!1,this.oldestDate=new Date,this.working=!0,this.scrollable.nativeElement.scrollTop=0,this.remaining=6,this.blueprintListItems=[],this.appendTemp()}appendTemp(){for(let e=0;e<this.remaining;e++)this.blueprintListItems.push(this.loadingBlueprintItem)}openBlueprint(e){this.hideDialog(),this.blueprintService.openBlueprintFromId(e.id)}hideDialog(){this.visible=!1}showDialog(e=null,t=null,i=!1){this.reset(),null!=e&&(this.filterUserId=e,this.filterUserName=t,this.filterUser=!0),this.getDuplicates=i,this.getBlueprints(),this.visible=!0}handleOnShow(){this.scrollable.nativeElement.addEventListener("scroll",this.scroll.bind(this))}scroll(e){!this.noMoreBlueprints&&!this.working&&this.scrollable.nativeElement.scrollTop>this.scrollable.nativeElement.scrollHeight-this.scrollable.nativeElement.clientHeight-5&&this.loadMoreBlueprints()}handleGetBlueprints(e){this.working=!1,this.oldestDate=new Date(e.oldest),this.remaining=e.remaining,0==this.remaining&&(this.noMoreBlueprints=!0),this.blueprintListItems=this.blueprintListItems.filter(e=>e!=this.loadingBlueprintItem),e.blueprints.map(e=>{this.blueprintListItems.push(e)}),0==this.blueprintListItems.length&&this.blueprintListItems.push(this.nothingBlueprintItem)}loadMoreBlueprints(){this.working=!0,this.appendTemp(),this.getBlueprints()}}return e.\u0275fac=function(t){return new(t||e)(Js(Og),Js(Ag),Js(fh))},e.\u0275cmp=ct({type:e,selectors:[["app-dialog-browse"]],viewQuery:function(e,t){var i;1&e&&(Bl(y_,!0),Bl(v_,!0)),2&e&&(Fl(i=Nl())&&(t.browseDialog=i.first),Fl(i=Nl())&&(t.scrollable=i.first))},decls:10,vars:12,consts:[["header","Browse Blueprints",3,"visible","modal","dismissableMask","closable","focusOnShow","maximizable","draggable","resizable","contentStyle","visibleChange"],["browseDialog",""],["type","text","size","30","placeholder","Search","pInputText","",1,"float-input",3,"ngModel","ngModelChange"],["binary","true","label","Show duplicate blueprints",3,"ngModel","ngModelChange","onChange"],["binary","true",3,"ngModel","label","ngModelChange","onChange",4,"ngIf"],[1,"scrollable"],["scrollable",""],["class","blueprint-line",4,"ngFor","ngForOf"],["binary","true",3,"ngModel","label","ngModelChange","onChange"],[1,"blueprint-line"],[1,"thumbnail"],["class","clickable-image",3,"src","click",4,"ngIf"],["width","200","height","200","version","1.1","viewBox","0 0 200 200",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],[2,"width","100%"],[1,"title-line"],["class","like-widget",4,"ngIf"],[4,"ngIf"],[1,"clickable-image",3,"src","click"],["width","200","height","200","version","1.1","viewBox","0 0 200 200",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["width","200","height","200","fill","#007aff"],["fill","#fff","d","m114.92 91.943 9.4524-6.3017c4.671-3.1163 7.4625-8.3331 7.4625-13.944v-11.499c4.1094-1.4649 7.0755-5.355 7.0755-9.9637v-7.0755c0-1.9554-1.5823-3.5378-3.5378-3.5378h-70.755c-1.9554 0-3.5378 1.5823-3.5378 3.5378v7.0755c0 4.6087 2.966 8.4989 7.0755 9.9637v11.499c0 5.6106 2.7915 10.827 7.4625 13.944l9.4524 6.3017c2.7017 1.8033 4.3116 4.8161 4.3116 8.0566 0 3.2406-1.6099 6.2533-4.3116 8.0566l-9.4524 6.3017c-4.671 3.1163-7.4625 8.3331-7.4625 13.944v11.499c-4.1094 1.4649-7.0755 5.355-7.0755 9.9637v7.0755c0 1.9554 1.5823 3.5378 3.5378 3.5378h70.755c1.9554 0 3.5378-1.5823 3.5378-3.5378v-7.0755c0-4.6087-2.966-8.4988-7.0755-9.9637v-11.499c0-5.6106-2.7915-10.827-7.4625-13.944l-9.4524-6.3017c-2.7017-1.8033-4.3116-4.8161-4.3116-8.0566 0-3.2406 1.6099-6.2533 4.3116-8.0566zm-11.387 8.0566c0 5.6106 2.7915 10.827 7.4625 13.944l9.4524 6.3017c2.7017 1.8033 4.3116 4.8161 4.3116 8.0566v10.849h-49.529v-10.849c0-3.2406 1.6099-6.2533 4.3116-8.0566l9.4524-6.3017c4.671-3.1163 7.4625-8.333 7.4625-13.944 0-5.6106-2.7915-10.827-7.4625-13.944l-9.4524-6.3017c-2.7017-1.8033-4.3116-4.8161-4.3116-8.0566v-10.849h49.529v10.849c0 3.2406-1.6099 6.2533-4.3116 8.0566l-9.4524 6.3017c-4.671 3.1163-7.4625 8.3331-7.4625 13.944z"],["fill","#fff","d","m102.12 118.39c-1.2576-0.93963-2.9849-0.93963-4.2425 0l-15.568 11.677v2.0047h35.378v-2.0047z"],["d","m144.19 144.19a62.5 62.5 0 0 1-88.388 0 62.5 62.5 0 0 1 1e-6 -88.388 62.5 62.5 0 0 1 88.388 0 62.5 62.5 0 0 1 0 88.388z","fill","none","stroke","#fff","stroke-width","20"],["d","m55.806 55.806 88.388 88.388","fill","none","stroke","#fff","stroke-width","20"],[1,"like-widget"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Delete this blueprint",1,"p-button-danger",3,"click"],[3,"routerLink","click"]],template:function(e,t){1&e&&(io(0,"p-dialog",0,1),ho("visibleChange",(function(e){return t.visible=e})),io(2,"div"),io(3,"input",2),ho("ngModelChange",(function(e){return t.filterName=e}))("ngModelChange",(function(e){return t.filterNameSubject.next(e)})),no(),no(),io(4,"p-checkbox",3),ho("ngModelChange",(function(e){return t.getDuplicates=e}))("onChange",(function(){return t.duplicateChange()})),no(),ro(5,"br"),Ys(6,b_,1,2,"p-checkbox",4),io(7,"div",5,6),Ys(9,k_,14,8,"div",7),no(),no()),2&e&&(eo("visible",t.visible)("modal",!0)("dismissableMask",!0)("closable",!0)("focusOnShow",!1)("maximizable",!1)("draggable",!1)("resizable",!1),Wn(3),eo("ngModel",t.filterName),Wn(1),eo("ngModel",t.getDuplicates),Wn(2),eo("ngIf",null!=t.filterUserName),Wn(3),eo("ngForOf",t.blueprintListItems))},directives:[lC,Fv,Ew,Uv,Zb,Bw,$c,Gc,wy,_y,Jm],styles:[".error-red[_ngcontent-%COMP%]{color:#8b0000;margin-left:.5em}.scrollable[_ngcontent-%COMP%]{overflow-y:auto;max-height:70vh;margin-top:10px}.blueprint-line[_ngcontent-%COMP%]{display:flex;width:600px;margin-bottom:10px;padding:10px;border-radius:3px;border:1px solid #c8c8c8}.title-line[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.like-widget[_ngcontent-%COMP%]{margin-left:auto}.thumbnail[_ngcontent-%COMP%]{margin-right:10px}.clickable-image[_ngcontent-%COMP%]{width:200px;cursor:pointer}.search[_ngcontent-%COMP%]{margin-top:10px}"]}),e})();function T_(e,t=0){return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function A_(e,t,i,r){return n(i)&&(r=i,i=void 0),r?A_(e,t,i).pipe(D(e=>l(e)?r(...e):r(e))):new v(n=>{!function e(t,i,n,r,s){let o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(i,n,s),o=()=>e.removeEventListener(i,n,s)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(i,n),o=()=>e.off(i,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(i,n),o=()=>e.removeListener(i,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,a=t.length;o<a;o++)e(t[o],i,n,r,s)}r.add(o)}(e,t,(function(e){n.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),n,i)})}class O_ extends NC{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}class F_ extends UC{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,n=-1,r=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++n<r&&(e=t.shift()));if(this.active=!1,i){for(;++n<r&&(e=t.shift());)e.unsubscribe();throw i}}}const B_=new F_(O_);let M_=1;const P_=(()=>Promise.resolve())(),L_={};function N_(e){return e in L_&&(delete L_[e],!0)}const R_={setImmediate(e){const t=M_++;return L_[t]=!0,P_.then(()=>N_(t)&&e()),t},clearImmediate(e){N_(e)}};class U_ extends NC{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=R_.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(R_.clearImmediate(t),e.scheduled=void 0)}}class z_ extends UC{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,n=-1,r=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++n<r&&(e=t.shift()));if(this.active=!1,i){for(;++n<r&&(e=t.shift());)e.unsubscribe();throw i}}}const V_=new z_(U_);class j_{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new H_(e,this.compare,this.keySelector))}}class H_ extends f{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:i}=this;t=i?i(e):e}catch(n){return this.destination.error(n)}let i=!1;if(this.hasKey)try{const{compare:e}=this;i=e(this.key,t)}catch(n){return this.destination.error(n)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}class W_{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new G_(e,this.durationSelector))}}class G_ extends R{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let i;try{const{durationSelector:t}=this;i=t(e)}catch(t){return this.destination.error(t)}const n=U(i,new N(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}clearThrottle(){const{value:e,hasValue:t,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function q_(e,t=zC){return i=()=>jC(e,t),function(e){return e.lift(new W_(i))};var i}function $_(e){return t=>t.lift(new Z_(e))}class Z_{constructor(e){this.notifier=e}call(e,t){const i=new X_(e),n=U(this.notifier,new N(i));return n&&!i.seenValue?(i.add(n),t.subscribe(i)):i}}class X_ extends R{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class Y_{call(e,t){return t.subscribe(new K_(e))}}class K_ extends f{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class J_ extends NC{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}}class Q_ extends UC{}const eS=new Q_(J_);let tS,iS=(()=>{class e{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}accept(e,t,i){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,i)}toObservable(){switch(this.kind){case"N":return sd(this.value);case"E":return e=this.error,new v(t=>t.error(e));case"C":return Kd()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();class nS extends f{constructor(e,t,i=0){super(e),this.scheduler=t,this.delay=i}static dispatch(e){const{notification:t,destination:i}=e;t.observe(i),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(nS.dispatch,this.delay,new rS(e,this.destination)))}_next(e){this.scheduleMessage(iS.createNext(e))}_error(e){this.scheduleMessage(iS.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(iS.createComplete()),this.unsubscribe()}}class rS{constructor(e,t){this.notification=e,this.destination=t}}class sS extends _{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new oS(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,i=t?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,r=i.length;let s;if(this.closed)throw new w;if(this.isStopped||this.hasError?s=h.EMPTY:(this.observers.push(e),s=new x(this,e)),n&&e.add(e=new nS(e,n)),t)for(let o=0;o<r&&!e.closed;o++)e.next(i[o]);else for(let o=0;o<r&&!e.closed;o++)e.next(i[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||eS).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,i=this._windowTime,n=this._events,r=n.length;let s=0;for(;s<r&&!(e-n[s].time<i);)s++;return r>t&&(s=Math.max(s,r-t)),s>0&&n.splice(0,s),n}}class oS{constructor(e,t){this.time=e,this.value=t}}try{tS="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(HO){tS=!1}let aS=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Ih(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!tS)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(Ge(Zl,8))},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=ae({factory:function(){return new e(Ge(Zl,8))},token:e,providedIn:"root"}),e})(),lS=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)}}),e})();const uS=function(){var e={NORMAL:0,NEGATED:1,INVERTED:2};return e[e.NORMAL]="NORMAL",e[e.NEGATED]="NEGATED",e[e.INVERTED]="INVERTED",e}();let cS;function hS(){if("object"!=typeof document||!document)return uS.NORMAL;if(!cS){const e=document.createElement("div"),t=e.style;e.dir="rtl",t.height="1px",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const i=document.createElement("div"),n=i.style;n.width="2px",n.height="1px",e.appendChild(i),document.body.appendChild(e),cS=uS.NORMAL,0===e.scrollLeft&&(e.scrollLeft=1,cS=0===e.scrollLeft?uS.NEGATED:uS.INVERTED),e.parentNode.removeChild(e)}return cS}const dS=new Pe("cdk-dir-doc",{providedIn:"root",factory:function(){return qe(zu)}});let pS=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new xl,e){const t=e.documentElement?e.documentElement.dir:null,i=(e.body?e.body.dir:null)||t;this.value="ltr"===i||"rtl"===i?i:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(Ge(dS,8))},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=ae({factory:function(){return new e(Ge(dS,8))},token:e,providedIn:"root"}),e})(),fS=(()=>{class e{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new xl}get dir(){return this._dir}set dir(e){const t=this._dir,i=e?e.toLowerCase():e;this._rawDir=e,this._dir="ltr"===i||"rtl"===i?i:"ltr",t!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=gt({type:e,selectors:[["","dir",""]],hostVars:1,hostBindings:function(e,t){2&e&&Zs("dir",t._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[fa([{provide:pS,useExisting:e}])]}),e})(),mS=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)}}),e})();class gS extends class{}{constructor(e){super(),this._data=e}connect(){return this._data instanceof v?this._data:sd(this._data)}disconnect(){}}const yS=["contentWrapper"],vS=["*"],bS=new Pe("VIRTUAL_SCROLL_STRATEGY");class wS{constructor(e,t,i){this._scrolledIndexChange=new _,this.scrolledIndexChange=this._scrolledIndexChange.pipe(e=>e.lift(new j_(void 0,void 0))),this._viewport=null,this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=i}attach(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(e,t,i){if(i<t)throw Error("CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx");this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(e,t){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,t)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const e=this._viewport.measureScrollOffset(),t=e/this._itemSize,i=this._viewport.getRenderedRange(),n={start:i.start,end:i.end},r=this._viewport.getViewportSize(),s=this._viewport.getDataLength(),o=e-n.start*this._itemSize;if(o<this._minBufferPx&&0!=n.start){const e=Math.ceil((this._maxBufferPx-o)/this._itemSize);n.start=Math.max(0,n.start-e),n.end=Math.min(s,Math.ceil(t+(r+this._minBufferPx)/this._itemSize))}else{const i=n.end*this._itemSize-(e+r);if(i<this._minBufferPx&&n.end!=s){const e=Math.ceil((this._maxBufferPx-i)/this._itemSize);e>0&&(n.end=Math.min(s,n.end+e),n.start=Math.max(0,Math.floor(t-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(n),this._viewport.setRenderedContentOffset(this._itemSize*n.start),this._scrolledIndexChange.next(Math.floor(t))}}function xS(e){return e._scrollStrategy}let CS=(()=>{class e{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new wS(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=T_(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=T_(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=T_(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=gt({type:e,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[fa([{provide:bS,useFactory:xS,deps:[we(()=>e)]}]),Tt]}),e})(),_S=(()=>{class e{constructor(e,t){this._ngZone=e,this._platform=t,this._scrolled=new _,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new v(t=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(q_(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):sd()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const i=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(ad(e=>!e||i.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((i,n)=>{this._scrollableContainsElement(n,e)&&t.push(n)}),t}_scrollableContainsElement(e,t){let i=t.nativeElement,n=e.getElementRef().nativeElement;do{if(i==n)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>A_(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(Ge(uu),Ge(aS))},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=ae({factory:function(){return new e(Ge(uu),Ge(aS))},token:e,providedIn:"root"}),e})(),SS=(()=>{class e{constructor(e,t,i,n){this.elementRef=e,this.scrollDispatcher=t,this.ngZone=i,this.dir=n,this._destroyed=new _,this._elementScrolled=new v(e=>this.ngZone.runOutsideAngular(()=>A_(this.elementRef.nativeElement,"scroll").pipe($_(this._destroyed)).subscribe(e)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const t=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;e.left=null==e.left?i?e.end:e.start:e.left,e.right=null==e.right?i?e.start:e.end:e.right,null!=e.bottom&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),i&&hS()!=uS.NORMAL?(null!=e.left&&(e.right=t.scrollWidth-t.clientWidth-e.left),hS()==uS.INVERTED?e.left=e.right:hS()==uS.NEGATED&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const t=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?t.scrollTo(e):(null!=e.top&&(t.scrollTop=e.top),null!=e.left&&(t.scrollLeft=e.left))}measureScrollOffset(e){const t=this.elementRef.nativeElement;if("top"==e)return t.scrollTop;if("bottom"==e)return t.scrollHeight-t.clientHeight-t.scrollTop;const i=this.dir&&"rtl"==this.dir.value;return"start"==e?e=i?"right":"left":"end"==e&&(e=i?"left":"right"),i&&hS()==uS.INVERTED?"left"==e?t.scrollWidth-t.clientWidth-t.scrollLeft:t.scrollLeft:i&&hS()==uS.NEGATED?"left"==e?t.scrollLeft+t.scrollWidth-t.clientWidth:-t.scrollLeft:"left"==e?t.scrollLeft:t.scrollWidth-t.clientWidth-t.scrollLeft}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(_S),Js(uu),Js(pS,8))},e.\u0275dir=gt({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),e})();const ES="undefined"!=typeof requestAnimationFrame?B_:V_;let DS=(()=>{class e extends SS{constructor(e,t,i,n,r,s){if(super(e,s,i,r),this.elementRef=e,this._changeDetectorRef=t,this._scrollStrategy=n,this._detachedSubject=new _,this._renderedRangeSubject=new _,this._orientation="vertical",this.scrolledIndexChange=new v(e=>this._scrollStrategy.scrolledIndexChange.subscribe(t=>Promise.resolve().then(()=>this.ngZone.run(()=>e.next(t))))),this.renderedRangeStream=this._renderedRangeSubject.asObservable(),this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],!n)throw Error('Error: cdk-virtual-scroll-viewport requires the "itemSize" property to be set.')}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Ip(null),q_(0,ES)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),super.ngOnDestroy()}attach(e){if(this._forOf)throw Error("CdkVirtualScrollViewport is already attached.");this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe($_(this._detachedSubject)).subscribe(e=>{const t=e.length;t!==this._dataLength&&(this._dataLength=t,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){var t,i;((t=this._renderedRange).start!=(i=e).start||t.end!=i.end)&&(this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,t="to-start"){const i="horizontal"==this.orientation,n=i?"X":"Y";let r=`translate${n}(${Number((i&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===t&&(r+=` translate${n}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=r&&(this._renderedContentTransform=r,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,t="auto"){const i={behavior:t};"horizontal"===this.orientation?i.start=e:i.top=e,this.scrollTo(i)}scrollToIndex(e,t="auto"){this._scrollStrategy.scrollToIndex(e,t)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this.ngZone.run(()=>this._changeDetectorRef.markForCheck()),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform;const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const t of e)t()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":this._totalContentSize+"px",this._totalContentWidth="horizontal"===this.orientation?this._totalContentSize+"px":""}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(ys),Js(uu),Js(bS,8),Js(pS,8),Js(_S))},e.\u0275cmp=ct({type:e,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,t){var i;1&e&&Bl(yS,!0),2&e&&Fl(i=Nl())&&(t._contentWrapper=i.first)},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,t){2&e&&Mo("cdk-virtual-scroll-orientation-horizontal","horizontal"===t.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==t.orientation)},inputs:{orientation:"orientation"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[fa([{provide:SS,useExisting:e}]),ia],ngContentSelectors:vS,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,t){1&e&&(yo(),io(0,"div",0,1),vo(2),no(),ro(3,"div",2)),2&e&&(Wn(3),Bo("width",t._totalContentWidth)("height",t._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:0}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:0}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),e})();function kS(e,t){if(!t.getBoundingClientRect)return 0;const i=t.getBoundingClientRect();return"horizontal"==e?i.width:i.height}let IS=(()=>{class e{constructor(e,t,i,n,r){this._viewContainerRef=e,this._template=t,this._differs=i,this._viewport=n,this.viewChange=new _,this._dataSourceChanges=new _,this.cdkVirtualForTemplateCacheSize=20,this.dataStream=this._dataSourceChanges.pipe(Ip(null),e=>e.lift(new Y_),Sp(([e,t])=>this._changeDataSource(e,t)),function(e,t,i){let n;return n={bufferSize:1,windowTime:void 0,refCount:!1,scheduler:void 0},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:i,scheduler:n}){let r,s,o=0,a=!1,l=!1;return function(u){let c;o++,!r||a?(a=!1,r=new sS(e,t,n),c=r.subscribe(this),s=u.subscribe({next(e){r.next(e)},error(e){a=!0,r.error(e)},complete(){l=!0,s=void 0,r.complete()}})):c=r.subscribe(this),this.add(()=>{o--,c.unsubscribe(),s&&!l&&i&&0===o&&(s.unsubscribe(),s=void 0,r=void 0)})}}(n))}()),this._differ=null,this._templateCache=[],this._needsUpdate=!1,this._destroyed=new _,this.dataStream.subscribe(e=>{this._data=e,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe($_(this._destroyed)).subscribe(e=>{this._renderedRange=e,r.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e;const t=function(e){return e&&"function"==typeof e.connect}(e)?e:new gS(e instanceof v?e:Array.prototype.slice.call(e||[]));this._dataSourceChanges.next(t)}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(t,i)=>e(t+(this._renderedRange?this._renderedRange.start:0),i):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}measureRangeSize(e,t){if(e.start>=e.end)return 0;if(e.start<this._renderedRange.start||e.end>this._renderedRange.end)throw Error("Error: attempted to measure an item that isn't rendered.");const i=e.start-this._renderedRange.start;let n=0,r=e.end-e.start;for(;r--;){const e=this._viewContainerRef.get(r+i);let s=e?e.rootNodes.length:0;for(;s--;)n+=kS(t,e.rootNodes[s])}return n}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete();for(let e of this._templateCache)e.destroy()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(this.cdkVirtualForTrackBy)),this._needsUpdate=!0)}_changeDataSource(e,t){return e&&e.disconnect(this),this._needsUpdate=!0,t?t.connect(this):sd()}_updateContext(){const e=this._data.length;let t=this._viewContainerRef.length;for(;t--;){let i=this._viewContainerRef.get(t);i.context.index=this._renderedRange.start+t,i.context.count=e,this._updateComputedContextProperties(i.context),i.detectChanges()}}_applyChanges(e){e.forEachOperation((e,t,i)=>{if(null==e.previousIndex)this._insertViewForNewItem(i).context.$implicit=e.item;else if(null==i)this._cacheView(this._detachView(t));else{const n=this._viewContainerRef.get(t);this._viewContainerRef.move(n,i),n.context.$implicit=e.item}}),e.forEachIdentityChange(e=>{this._viewContainerRef.get(e.currentIndex).context.$implicit=e.item});const t=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const e=this._viewContainerRef.get(i);e.context.index=this._renderedRange.start+i,e.context.count=t,this._updateComputedContextProperties(e.context)}}_cacheView(e){if(this._templateCache.length<this.cdkVirtualForTemplateCacheSize)this._templateCache.push(e);else{const t=this._viewContainerRef.indexOf(e);-1===t?e.destroy():this._viewContainerRef.remove(t)}}_insertViewForNewItem(e){return this._insertViewFromCache(e)||this._createEmbeddedViewAt(e)}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_createEmbeddedViewAt(e){return this._viewContainerRef.createEmbeddedView(this._template,{$implicit:null,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},e)}_insertViewFromCache(e){const t=this._templateCache.pop();return t&&this._viewContainerRef.insert(t,e),t||null}_detachView(e){return this._viewContainerRef.detach(e)}}return e.\u0275fac=function(t){return new(t||e)(Js(Wa),Js(ja),Js(Na),Js(DS,4),Js(uu))},e.\u0275dir=gt({type:e,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize",cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate"}}),e})(),TS=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[mS,lS],mS]}),e})();class AS{static equals(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var i,n,r,s=Array.isArray(e),o=Array.isArray(t);if(s&&o){if((n=e.length)!=t.length)return!1;for(i=n;0!=i--;)if(!this.equalsByValue(e[i],t[i]))return!1;return!0}if(s!=o)return!1;var a=e instanceof Date,l=t instanceof Date;if(a!=l)return!1;if(a&&l)return e.getTime()==t.getTime();var u=e instanceof RegExp,c=t instanceof RegExp;if(u!=c)return!1;if(u&&c)return e.toString()==t.toString();var h=Object.keys(e);if((n=h.length)!==Object.keys(t).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(t,h[i]))return!1;for(i=n;0!=i--;)if(!this.equalsByValue(e[r=h[i]],t[r]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let i=t.split("."),n=e;for(let e=0,t=i.length;e<t;++e){if(null==n)return null;n=n[i[e]]}return n}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,i){e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}static generateSelectItems(e,t){let i;if(e&&e.length){i=[];for(let n of e)i.push({label:this.resolveFieldData(n,t),value:n})}return i}static insertIntoOrderedArray(e,t,i,n){if(i.length>0){let r=!1;for(let s=0;s<i.length;s++)if(this.findIndexInList(i[s],n)>t){i.splice(s,0,e),r=!0;break}r||i.push(e)}else i.push(e)}static findIndexInList(e,t){let i=-1;if(t)for(let n=0;n<t.length;n++)if(t[n]==e){i=n;break}return i}static removeAccents(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}}class OS{static filter(e,t,i,n,r){let s=[],o=AS.removeAccents(i).toLocaleLowerCase(r);if(e)for(let a of e)for(let e of t){let t=AS.removeAccents(String(AS.resolveFieldData(a,e))).toLocaleLowerCase(r);if(OS[n](t,o,r)){s.push(a);break}}return s}static startsWith(e,t,i){if(null==t||""===t.trim())return!0;if(null==e)return!1;let n=AS.removeAccents(t.toString()).toLocaleLowerCase(i);return AS.removeAccents(e.toString()).toLocaleLowerCase(i).slice(0,n.length)===n}static contains(e,t,i){if(null==t||"string"==typeof t&&""===t.trim())return!0;if(null==e)return!1;let n=AS.removeAccents(t.toString()).toLocaleLowerCase(i);return-1!==AS.removeAccents(e.toString()).toLocaleLowerCase(i).indexOf(n)}static endsWith(e,t,i){if(null==t||""===t.trim())return!0;if(null==e)return!1;let n=AS.removeAccents(t.toString()).toLocaleLowerCase(i),r=AS.removeAccents(e.toString()).toLocaleLowerCase(i);return-1!==r.indexOf(n,r.length-n.length)}static equals(e,t,i){return null==t||"string"==typeof t&&""===t.trim()||null!=e&&(e.getTime&&t.getTime?e.getTime()===t.getTime():AS.removeAccents(e.toString()).toLocaleLowerCase(i)==AS.removeAccents(t.toString()).toLocaleLowerCase(i))}static notEquals(e,t,i){return!(null==t||"string"==typeof t&&""===t.trim()||null!=e&&(e.getTime&&t.getTime?e.getTime()===t.getTime():AS.removeAccents(e.toString()).toLocaleLowerCase(i)==AS.removeAccents(t.toString()).toLocaleLowerCase(i)))}static in(e,t,i){if(null==t||0===t.length)return!0;if(null==e)return!1;for(let n=0;n<t.length;n++)if(AS.equals(e,t[n]))return!0;return!1}static lt(e,t,i){return null==t||null!=e&&(e.getTime&&t.getTime?e.getTime()<t.getTime():e<t)}static lte(e,t,i){return null==t||null!=e&&(e.getTime&&t.getTime?e.getTime()<=t.getTime():e<=t)}static gt(e,t,i){return null==t||null!=e&&(e.getTime&&t.getTime?e.getTime()>t.getTime():e>t)}static gte(e,t,i){return null==t||null!=e&&(e.getTime&&t.getTime?e.getTime()>=t.getTime():e>=t)}}function FS(e,t){if(1&e&&(io(0,"span"),Yo(1),no()),2&e){const e=mo();Wn(1),Ko(e.option.label||"empty")}}function BS(e,t){1&e&&ao(0)}const MS=function(e){return{height:e}},PS=function(e,t){return{"p-dropdown-item":!0,"p-highlight":e,"p-disabled":t}},LS=function(e){return{$implicit:e}},NS=["container"],RS=["filter"],US=["in"],zS=["editableInput"];function VS(e,t){if(1&e&&(so(0),Yo(1),oo()),2&e){const e=mo(2);Wn(1),Ko(e.label||"empty")}}function jS(e,t){1&e&&ao(0)}const HS=function(e){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":e}};function WS(e,t){if(1&e&&(io(0,"span",12),Ys(1,VS,2,1,"ng-container",13),Ys(2,jS,1,0,"ng-container",14),no()),2&e){const e=mo();eo("ngClass",cl(8,HS,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),Wn(1),eo("ngIf",!e.selectedItemTemplate),Wn(1),eo("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",cl(10,LS,e.selectedOption))}}const GS=function(e){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":e}};function qS(e,t){if(1&e&&(io(0,"span",15),Yo(1),no()),2&e){const e=mo();eo("ngClass",cl(2,GS,null==e.placeholder||0===e.placeholder.length)),Wn(1),Ko(e.placeholder||"empty")}}function $S(e,t){if(1&e){const e=lo();io(0,"input",16,17),ho("click",(function(){return Qt(e),mo().onEditableInputClick()}))("input",(function(t){return Qt(e),mo().onEditableInputChange(t)}))("focus",(function(t){return Qt(e),mo().onEditableInputFocus(t)}))("blur",(function(t){return Qt(e),mo().onInputBlur(t)})),no()}if(2&e){const e=mo();eo("disabled",e.disabled),Zs("maxlength",e.maxlength)("aria-label",e.selectedOption?e.selectedOption.label:" ")("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function ZS(e,t){if(1&e){const e=lo();io(0,"i",18),ho("click",(function(t){return Qt(e),mo().clear(t)})),no()}}function XS(e,t){if(1&e){const e=lo();io(0,"div",25),io(1,"div",26),ho("click",(function(t){return Qt(e),t.stopPropagation()})),io(2,"input",27,28),ho("keydown.enter",(function(t){return Qt(e),t.preventDefault()}))("keydown",(function(t){return Qt(e),mo(2).onKeydown(t,!1)}))("input",(function(t){return Qt(e),mo(2).onFilter(t)})),no(),ro(4,"span",29),no(),no()}if(2&e){const e=mo(2);Wn(2),eo("value",e.filterValue||""),Zs("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)}}function YS(e,t){if(1&e&&(io(0,"span"),Yo(1),no()),2&e){const e=mo().$implicit;Wn(1),Ko(e.label||"empty")}}function KS(e,t){1&e&&ao(0)}function JS(e,t){1&e&&ao(0)}const QS=function(e,t){return{$implicit:e,selectedOption:t}};function eE(e,t){if(1&e&&(io(0,"li",31),Ys(1,YS,2,1,"span",13),Ys(2,KS,1,0,"ng-container",14),no(),Ys(3,JS,1,0,"ng-container",14)),2&e){const e=t.$implicit;mo(2);const i=Ks(7),n=mo();Wn(1),eo("ngIf",!n.groupTemplate),Wn(1),eo("ngTemplateOutlet",n.groupTemplate)("ngTemplateOutletContext",cl(5,LS,e)),Wn(1),eo("ngTemplateOutlet",i)("ngTemplateOutletContext",hl(7,QS,e.items,n.selectedOption))}}function tE(e,t){if(1&e&&(so(0),Ys(1,eE,4,10,"ng-template",30),oo()),2&e){const e=mo(2);Wn(1),eo("ngForOf",e.optionsToDisplay)}}function iE(e,t){1&e&&ao(0)}function nE(e,t){if(1&e&&(so(0),Ys(1,iE,1,0,"ng-container",14),oo()),2&e){mo();const e=Ks(7),t=mo();Wn(1),eo("ngTemplateOutlet",e)("ngTemplateOutletContext",hl(2,QS,t.optionsToDisplay,t.selectedOption))}}function rE(e,t){if(1&e){const e=lo();io(0,"p-dropdownItem",34),ho("onClick",(function(t){return Qt(e),mo(4).onItemClick(t)})),no()}if(2&e){const e=t.$implicit,i=mo(2).selectedOption,n=mo(2);eo("option",e)("selected",i==e)("template",n.itemTemplate)}}function sE(e,t){if(1&e&&(so(0),Ys(1,rE,1,3,"ng-template",30),oo()),2&e){const e=mo().$implicit;Wn(1),eo("ngForOf",e)}}function oE(e,t){if(1&e){const e=lo();so(0),io(1,"p-dropdownItem",34),ho("onClick",(function(t){return Qt(e),mo(5).onItemClick(t)})),no(),oo()}if(2&e){const e=t.$implicit,i=mo(3).selectedOption,n=mo(2);Wn(1),eo("option",e)("selected",i==e)("template",n.itemTemplate)}}function aE(e,t){if(1&e){const e=lo();io(0,"cdk-virtual-scroll-viewport",36,37),ho("scrolledIndexChange",(function(){return Qt(e),mo(4).scrollToSelectedVirtualScrollElement()})),Ys(2,oE,2,3,"ng-container",38),no()}if(2&e){const e=mo(2).$implicit,t=mo(2);eo("ngStyle",cl(3,MS,t.scrollHeight))("itemSize",t.itemSize),Wn(2),eo("cdkVirtualForOf",e)}}function lE(e,t){if(1&e&&Ys(0,aE,3,5,"cdk-virtual-scroll-viewport",35),2&e){const e=mo(3);eo("ngIf",e.virtualScroll&&e.optionsToDisplay&&e.optionsToDisplay.length)}}function uE(e,t){if(1&e&&(Ys(0,sE,2,1,"ng-container",32),Ys(1,lE,1,1,"ng-template",null,33,Vl)),2&e){const e=Ks(2);eo("ngIf",!mo(2).virtualScroll)("ngIfElse",e)}}function cE(e,t){if(1&e&&(io(0,"li",39),Yo(1),no()),2&e){const e=mo(2);Wn(1),Ko(e.emptyFilterMessage)}}const hE=function(e,t){return{showTransitionParams:e,hideTransitionParams:t}},dE=function(e){return{value:"visible",params:e}};function pE(e,t){if(1&e){const e=lo();io(0,"div",19),ho("@overlayAnimation.start",(function(t){return Qt(e),mo().onOverlayAnimationStart(t)})),Ys(1,XS,5,3,"div",20),io(2,"div",21),io(3,"ul",22),Ys(4,tE,2,1,"ng-container",13),Ys(5,nE,2,5,"ng-container",13),Ys(6,uE,3,2,"ng-template",null,23,Vl),Ys(8,cE,2,1,"li",24),no(),no(),no()}if(2&e){const e=mo();No(e.panelStyleClass),eo("ngClass","p-dropdown-panel p-component")("@overlayAnimation",cl(14,dE,hl(11,hE,e.showTransitionOptions,e.hideTransitionOptions)))("ngStyle",e.panelStyle),Wn(1),eo("ngIf",e.filter),Wn(1),Bo("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),Wn(2),eo("ngIf",e.group),Wn(1),eo("ngIf",!e.group),Wn(3),eo("ngIf",e.filter&&(!e.optionsToDisplay||e.optionsToDisplay&&0===e.optionsToDisplay.length))}}const fE=function(e,t,i,n){return{"p-dropdown p-component":!0,"p-disabled":e,"p-dropdown-open":t,"p-focus":i,"p-dropdown-clearable":n}},mE={provide:kv,useExisting:we(()=>yE),multi:!0};let gE=(()=>{class e{constructor(){this.onClick=new xl}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ct({type:e,selectors:[["p-dropdownItem"]],inputs:{option:"option",selected:"selected",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:14,consts:[["role","option","pRipple","",3,"ngStyle","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(io(0,"li",0),ho("click",(function(e){return t.onOptionClick(e)})),Ys(1,FS,2,1,"span",1),Ys(2,BS,1,0,"ng-container",2),no()),2&e&&(eo("ngStyle",cl(7,MS,t.itemSize+"px"))("ngClass",hl(9,PS,t.selected,t.option.disabled)),Zs("aria-label",t.option.label)("aria-selected",t.selected),Wn(1),eo("ngIf",!t.template),Wn(1),eo("ngTemplateOutlet",t.template)("ngTemplateOutletContext",cl(12,LS,t.option)))},directives:[zg,ih,jc,$c,nh],encapsulation:2}),e})(),yE=(()=>{class e{constructor(e,t,i,n){this.el=e,this.renderer=t,this.cd=i,this.zone=n,this.scrollHeight="200px",this.filterBy="label",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.autoDisplayFirst=!0,this.emptyFilterMessage="No results found",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new xl,this.onFocus=new xl,this.onBlur=new xl,this.onClick=new xl,this.onShow=new xl,this.onHide=new xl,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;default:this.itemTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null)}get options(){return this._options}set options(e){let t=this.optionLabel?AS.generateSelectItems(e,this.optionLabel):e;this._options=t,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this.updateFilledState(),this.filterValue&&this.filterValue.length&&this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.selectedOption.label:null}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.selectedOption.label:this.value||"")}onItemClick(e){const t=e.option;t.disabled||(this.selectItem(e,t),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide(e)},150)}selectItem(e,t){this.selectedOption!=t&&(this.selectedOption=t,this.value=t.value,this.filled=!0,this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e.originalEvent,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let e=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(e.start>this.virtualScrollSelectedIndex||e.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}Ug.findSingle(this.overlay,"li.p-highlight")&&Ug.scrollInView(this.itemsWrapper,Ug.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.updateFilledState(),this.cd.markForCheck()}resetFilter(){this.filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0]),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide(e):this.show(),this.cd.detectChanges())}isInputClick(e){return Ug.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(e){this.focused=!0,this.hide(e),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=Ug.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&(this.overlay.style.zIndex=String(this.baseZIndex+ ++Ug.zindex)),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.options&&this.options.length&&!this.virtualScroll){let e=Ug.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");e&&Ug.scrollInView(this.itemsWrapper,e)}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e);break;case"void":this.onOverlayHide()}}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(e){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(e&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.selectedOption.value,this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Ug.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=Ug.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(e){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck(),this.onHide.emit(e)}alignOverlay(){this.overlay&&(this.appendTo?Ug.absolutePosition(this.overlay,this.containerViewChild.nativeElement):Ug.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let t;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let i=e-1;0<=i;i--){let e=this.optionsToDisplay[i];if(!e.disabled){t=e;break}}if(!t)for(let i=this.optionsToDisplay.length-1;i>=e;i--){let e=this.optionsToDisplay[i];if(!e.disabled){t=e;break}}}return t}findNextEnabledOption(e){let t;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let i=e+1;e<this.optionsToDisplay.length-1;i++){let e=this.optionsToDisplay[i];if(!e.disabled){t=e;break}}if(!t)for(let i=0;i<e;i++){let e=this.optionsToDisplay[i];if(!e.disabled){t=e;break}}}return t}onKeydown(e,t){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let t=this.selectedOption?this.findOptionGroupIndex(this.selectedOption.value,this.optionsToDisplay):-1;if(-1!==t){let i=t.itemIndex+1;i<this.optionsToDisplay[t.groupIndex].items.length?(this.selectItem(e,this.optionsToDisplay[t.groupIndex].items[i]),this.selectedOptionUpdated=!0):this.optionsToDisplay[t.groupIndex+1]&&(this.selectItem(e,this.optionsToDisplay[t.groupIndex+1].items[0]),this.selectedOptionUpdated=!0)}else this.selectItem(e,this.optionsToDisplay[0].items[0])}else{let t=this.selectedOption?this.findOptionIndex(this.selectedOption.value,this.optionsToDisplay):-1,i=this.findNextEnabledOption(t);i&&(this.selectItem(e,i),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let t=this.selectedOption?this.findOptionGroupIndex(this.selectedOption.value,this.optionsToDisplay):-1;if(-1!==t){let i=t.itemIndex-1;if(i>=0)this.selectItem(e,this.optionsToDisplay[t.groupIndex].items[i]),this.selectedOptionUpdated=!0;else if(i<0){let i=this.optionsToDisplay[t.groupIndex-1];i&&(this.selectItem(e,i.items[i.items.length-1]),this.selectedOptionUpdated=!0)}}}else{let t=this.selectedOption?this.findOptionIndex(this.selectedOption.value,this.optionsToDisplay):-1,i=this.findPrevEnabledOption(t);i&&(this.selectItem(e,i),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:case 32:this.overlayVisible||(this.show(),e.preventDefault());break;case 13:(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)&&this.hide(e),e.preventDefault();break;case 27:case 9:this.hide(e);break;default:t&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const t=e.key;let i;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=t,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+t:t,this.group){let e=this.selectedOption?this.findOptionGroupIndex(this.selectedOption.value,this.optionsToDisplay):{groupIndex:0,itemIndex:0};i=this.searchOptionWithinGroup(e)}else{let e=this.selectedOption?this.findOptionIndex(this.selectedOption.value,this.optionsToDisplay):-1;i=this.searchOption(++e)}i&&!i.disabled&&(this.selectItem(e,i),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let t;return this.searchValue&&(t=this.searchOptionInRange(e,this.optionsToDisplay.length),t||(t=this.searchOptionInRange(0,e))),t}searchOptionInRange(e,t){for(let i=e;i<t;i++){let e=this.optionsToDisplay[i];if(e.label.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!e.disabled)return e}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let t=e.groupIndex;t<this.optionsToDisplay.length;t++)for(let i=e.groupIndex===t?e.itemIndex+1:0;i<this.optionsToDisplay[t].items.length;i++){let e=this.optionsToDisplay[t].items[i];if(e.label.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!e.disabled)return e}for(let t=0;t<=e.groupIndex;t++)for(let i=0;i<(e.groupIndex===t?e.itemIndex:this.optionsToDisplay[t].items.length);i++){let e=this.optionsToDisplay[t].items[i];if(e.label.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!e.disabled)return e}}return null}findOptionIndex(e,t){let i=-1;if(t)for(let n=0;n<t.length;n++)if(null==e&&null==t[n].value||AS.equals(e,t[n].value,this.dataKey)){i=n;break}return i}findOptionGroupIndex(e,t){let i,n;if(t)for(let r=0;r<t.length&&(i=r,n=this.findOptionIndex(e,t[r].items),-1===n);r++);return-1!==n?{groupIndex:i,itemIndex:n}:-1}findOption(e,t,i){if(this.group&&!i){let i;if(t&&t.length)for(let n of t)if(i=this.findOption(e,n.items,!0),i)break;return i}{let i=this.findOptionIndex(e,t);return-1!=i?t[i]:null}}onFilter(e){let t=e.target.value;t&&t.length?(this.filterValue=t,this.activateFilter()):(this.filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0}activateFilter(){let e=this.filterBy.split(",");if(this.options&&this.options.length){if(this.group){let t=[];for(let i of this.options){let n=OS.filter(i.items,e,this.filterValue,this.filterMatchMode,this.filterLocale);n&&n.length&&t.push({label:i.label,value:i.value,items:n})}this.optionsToDisplay=t}else this.optionsToDisplay=OS.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?Ug.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():Ug.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",e=>{this.isOutsideClicked(e)&&(this.hide(e),this.unbindDocumentClickListener()),this.cd.markForCheck()}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){Ug.isAndroid()||this.hide(event)}updateFilledState(){this.filled=null!=this.selectedOption}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.updateFilledState()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.restoreOverlayAppend(),this.onOverlayHide()}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(Ca),Js(ys),Js(uu))},e.\u0275cmp=ct({type:e,selectors:[["p-dropdown"]],contentQueries:function(e,t,i){var n;1&e&&Ll(i,Eg,!1),2&e&&Fl(n=Nl())&&(t.templates=n)},viewQuery:function(e,t){var i;1&e&&(Ml(NS,!0),Ml(RS,!0),Ml(US,!0),Ml(DS,!0),Ml(zS,!0)),2&e&&(Fl(i=Nl())&&(t.containerViewChild=i.first),Fl(i=Nl())&&(t.filterViewChild=i.first),Fl(i=Nl())&&(t.accessibleViewChild=i.first),Fl(i=Nl())&&(t.viewPort=i.first),Fl(i=Nl())&&(t.editableInputViewChild=i.first))},hostVars:4,hostBindings:function(e,t){2&e&&Mo("p-inputwrapper-filled",t.filled)("p-inputwrapper-focus",t.focused)},inputs:{scrollHeight:"scrollHeight",filterBy:"filterBy",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",autoDisplayFirst:"autoDisplayFirst",emptyFilterMessage:"emptyFilterMessage",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",autofocus:"autofocus",optionLabel:"optionLabel",group:"group",showClear:"showClear",virtualScroll:"virtualScroll",itemSize:"itemSize",ariaFilterLabel:"ariaFilterLabel",ariaLabelledBy:"ariaLabelledBy",maxlength:"maxlength",tooltipStyleClass:"tooltipStyleClass"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide"},features:[fa([mE])],decls:12,vars:23,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"]],template:function(e,t){1&e&&(io(0,"div",0,1),ho("click",(function(e){return t.onMouseclick(e)})),io(2,"div",2),io(3,"input",3,4),ho("focus",(function(e){return t.onInputFocus(e)}))("blur",(function(e){return t.onInputBlur(e)}))("keydown",(function(e){return t.onKeydown(e,!0)})),no(),no(),Ys(5,WS,3,12,"span",5),Ys(6,qS,2,4,"span",6),Ys(7,$S,2,5,"input",7),Ys(8,ZS,1,0,"i",8),io(9,"div",9),ro(10,"span",10),no(),Ys(11,pE,9,16,"div",11),no()),2&e&&(No(t.styleClass),eo("ngClass",pl(18,fE,t.disabled,t.overlayVisible,t.focused,t.showClear&&!t.disabled))("ngStyle",t.style),Wn(3),eo("disabled",t.disabled),Zs("id",t.inputId)("aria-label",t.selectedOption?t.selectedOption.label:" ")("aria-expanded",t.overlayVisible)("aria-labelledby",t.ariaLabelledBy)("tabindex",t.tabindex)("autofocus",t.autofocus),Wn(2),eo("ngIf",!t.editable&&null!=t.label),Wn(1),eo("ngIf",!t.editable&&null==t.label),Wn(1),eo("ngIf",t.editable),Wn(1),eo("ngIf",null!=t.value&&t.showClear&&!t.disabled),Wn(1),Zs("aria-expanded",t.overlayVisible),Wn(1),eo("ngClass",t.dropdownIcon),Wn(1),eo("ngIf",t.overlayVisible))},directives:[jc,ih,$c,_y,nh,Gc,gE,DS,CS,IS],styles:[".p-dropdown{display:-ms-inline-flexbox;display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-ms-flex-negative:0;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;-ms-flex:1 1 auto;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:-ms-flexbox;display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}"],encapsulation:2,data:{animation:[Ay("overlayAnimation",[Py(":enter",[By({opacity:0,transform:"scaleY(0.8)"}),Oy("{{showTransitionParams}}")]),Py(":leave",[Oy("{{hideTransitionParams}}",By({opacity:0}))])])]},changeDetection:0}),e})(),vE=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh,Dg,TS,Sy,Vg],Dg,TS]}),e})();const bE=["headerchkbox"];function wE(e,t){1&e&&ao(0)}function xE(e,t){if(1&e&&(io(0,"div",5),vo(1),Ys(2,wE,1,0,"ng-container",6),no()),2&e){const e=mo();Wn(2),eo("ngTemplateOutlet",e.headerTemplate)}}const CE=function(e,t){return{"p-highlight":e,"p-focus":t}},_E=function(e){return{"pi pi-check":e}};function SE(e,t){if(1&e){const e=lo();io(0,"div",9),io(1,"div",10),io(2,"input",11),ho("focus",(function(){return Qt(e),mo(2).onHeaderCheckboxFocus()}))("blur",(function(){return Qt(e),mo(2).onHeaderCheckboxBlur()}))("keydown.space",(function(t){return Qt(e),mo(2).toggleAll(t)})),no(),no(),io(3,"div",12,13),ho("click",(function(t){return Qt(e),mo(2).toggleAll(t)})),ro(5,"span",14),no(),no()}if(2&e){const e=mo(2);Wn(2),eo("checked",e.allChecked),Wn(1),eo("ngClass",hl(3,CE,e.allChecked,e.headerCheckboxFocus)),Wn(2),eo("ngClass",cl(6,_E,e.allChecked))}}function EE(e,t){if(1&e){const e=lo();io(0,"div",15),io(1,"input",16),ho("input",(function(t){return Qt(e),mo(2).onFilter(t)})),no(),ro(2,"span",17),no()}if(2&e){const e=mo(2);Wn(1),eo("value",e.filterValue||"")("disabled",e.disabled),Zs("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel)}}function DE(e,t){if(1&e&&(io(0,"div",5),Ys(1,SE,6,8,"div",7),Ys(2,EE,3,4,"div",8),no()),2&e){const e=mo();Wn(1),eo("ngIf",e.checkbox&&e.multiple&&e.showToggleAll),Wn(1),eo("ngIf",e.filter)}}const kE=function(e){return{"p-highlight":e}};function IE(e,t){if(1&e&&(io(0,"div",9),io(1,"div",21),ro(2,"span",14),no(),no()),2&e){const e=mo().$implicit,t=mo();Wn(1),eo("ngClass",cl(2,kE,t.isSelected(e))),Wn(1),eo("ngClass",cl(4,_E,t.isSelected(e)))}}function TE(e,t){if(1&e&&(io(0,"span"),Yo(1),no()),2&e){const e=mo().$implicit;Wn(1),Ko(e.label)}}function AE(e,t){1&e&&ao(0)}const OE=function(e,t){return{"p-listbox-item":!0,"p-highlight":e,"p-disabled":t}},FE=function(e,t){return{$implicit:e,index:t}};function BE(e,t){if(1&e){const e=lo();io(0,"li",18),ho("click",(function(i){Qt(e);const n=t.$implicit;return mo().onOptionClick(i,n)}))("dblclick",(function(i){Qt(e);const n=t.$implicit;return mo().onOptionDoubleClick(i,n)}))("touchend",(function(i){Qt(e);const n=t.$implicit;return mo().onOptionTouchEnd(i,n)}))("keydown",(function(i){Qt(e);const n=t.$implicit;return mo().onOptionKeyDown(i,n)})),Ys(1,IE,3,6,"div",7),Ys(2,TE,2,1,"span",19),Ys(3,AE,1,0,"ng-container",20),no()}if(2&e){const e=t.$implicit,i=t.index,n=mo();Bo("display",n.isItemVisible(e)?"flex":"none"),eo("ngClass",hl(10,OE,n.isSelected(e),e.disabled)),Zs("tabindex",e.disabled?null:"0")("aria-label",e.label)("aria-selected",n.isSelected(e)),Wn(1),eo("ngIf",n.checkbox&&n.multiple),Wn(1),eo("ngIf",!n.itemTemplate),Wn(1),eo("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",hl(13,FE,e,i))}}function ME(e,t){1&e&&ao(0)}function PE(e,t){if(1&e&&(io(0,"div",22),vo(1,1),Ys(2,ME,1,0,"ng-container",6),no()),2&e){const e=mo();Wn(2),eo("ngTemplateOutlet",e.footerTemplate)}}const LE=[[["p-header"]],[["p-footer"]]],NE=["p-header","p-footer"],RE={provide:kv,useExisting:we(()=>UE),multi:!0};let UE=(()=>{class e{constructor(e,t){this.el=e,this.cd=t,this.checkbox=!1,this.filter=!1,this.filterMode="contains",this.metaKeySelection=!0,this.showToggleAll=!0,this.onChange=new xl,this.onClick=new xl,this.onDblClick=new xl,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.disabledSelectedOptions=[]}get options(){return this._options}set options(e){let t=this.optionLabel?AS.generateSelectItems(e,this.optionLabel):e;this._options=t}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.itemTemplate=e.template}})}writeValue(e){this.value=e,this.setDisabledSelectedOptions(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}onOptionClick(e,t){this.disabled||t.disabled||this.readonly||(this.multiple?this.checkbox?this.onOptionClickCheckbox(e,t):this.onOptionClickMultiple(e,t):this.onOptionClickSingle(e,t),this.onClick.emit({originalEvent:e,option:t,value:this.value}),this.optionTouched=!1)}onOptionTouchEnd(e,t){this.disabled||t.disabled||this.readonly||(this.optionTouched=!0)}onOptionDoubleClick(e,t){this.disabled||t.disabled||this.readonly||this.onDblClick.emit({originalEvent:e,option:t,value:this.value})}onOptionClickSingle(e,t){let i=this.isSelected(t),n=!1;if(!this.optionTouched&&this.metaKeySelection){let r=e.metaKey||e.ctrlKey;i?r&&(this.value=null,n=!0):(this.value=t.value,n=!0)}else this.value=i?null:t.value,n=!0;n&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}onOptionClickMultiple(e,t){let i=this.isSelected(t),n=!1;if(!this.optionTouched&&this.metaKeySelection){let r=e.metaKey||e.ctrlKey;i?(r?this.removeOption(t):this.value=[t.value],n=!0):(this.value=r&&this.value||[],this.value=[...this.value,t.value],n=!0)}else i?this.removeOption(t):this.value=[...this.value||[],t.value],n=!0;n&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}onOptionClickCheckbox(e,t){this.disabled||this.readonly||(this.isSelected(t)?this.removeOption(t):(this.value=this.value?this.value:[],this.value=[...this.value,t.value]),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}removeOption(e){this.value=this.value.filter(t=>!AS.equals(t,e.value,this.dataKey))}isSelected(e){let t=!1;if(this.multiple){if(this.value)for(let i of this.value)if(AS.equals(i,e.value,this.dataKey)){t=!0;break}}else t=AS.equals(this.value,e.value,this.dataKey);return t}get allChecked(){if(this.filterValue)return this.allFilteredSelected();{let e=this.getEnabledOptionCount(),t=this.disabledSelectedOptions.length;return this.value&&this.options&&this.value.length>0&&this.value.length==e+t}}getEnabledOptionCount(){if(this.options){let e=0;for(let t of this.options)t.disabled||e++;return e}return 0}allFilteredSelected(){let e,t=this.filterValue?this.getFilteredOptions():this.options;if(this.value&&t&&t.length){e=!0;for(let t of this.options)if(this.isItemVisible(t)&&!this.isSelected(t)){e=!1;break}}return e}onFilter(e){this._filterValue=e.target.value}toggleAll(e){if(!this.disabled&&!this.readonly&&this.options&&0!==this.options.length){if(this.allChecked)if(this.disabledSelectedOptions&&this.disabledSelectedOptions.length>0){let e=[];e=[...this.disabledSelectedOptions],this.value=e}else this.value=[];else if(this.options){this.value=[],this.disabledSelectedOptions&&this.disabledSelectedOptions.length>0&&(this.value=[...this.disabledSelectedOptions]);for(let e=0;e<this.options.length;e++){let t=this.options[e];this.isItemVisible(t)&&!t.disabled&&this.value.push(t.value)}}this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),e.preventDefault()}}isItemVisible(e){if(this.filterValue){let t;return t=!this.filterMode||OS[this.filterMode](e.label,this.filterValue,this.filterLocale),t}return!0}onOptionKeyDown(e,t){if(this.readonly)return;let i=e.currentTarget;switch(e.which){case 40:var n=this.findNextItem(i);n&&n.focus(),e.preventDefault();break;case 38:var r=this.findPrevItem(i);r&&r.focus(),e.preventDefault();break;case 13:this.onOptionClick(e,t),e.preventDefault()}}findNextItem(e){let t=e.nextElementSibling;return t?Ug.hasClass(t,"p-disabled")||Ug.isHidden(t)?this.findNextItem(t):t:null}findPrevItem(e){let t=e.previousElementSibling;return t?Ug.hasClass(t,"p-disabled")||Ug.isHidden(t)?this.findPrevItem(t):t:null}getFilteredOptions(){let e=[];if(this.filterValue){for(let t=0;t<this.options.length;t++){let i=this.options[t];this.isItemVisible(i)&&!i.disabled&&e.push(i)}return e}return this.options}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}setDisabledSelectedOptions(){if(this.options&&(this.disabledSelectedOptions=[],this.value))for(let e of this.options)e.disabled&&this.isSelected(e)&&this.disabledSelectedOptions.push(e.value)}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(ys))},e.\u0275cmp=ct({type:e,selectors:[["p-listbox"]],contentQueries:function(e,t,i){var n;1&e&&(Ll(i,_g,!0),Ll(i,Sg,!0),Ll(i,Eg,!1)),2&e&&(Fl(n=Nl())&&(t.headerFacet=n.first),Fl(n=Nl())&&(t.footerFacet=n.first),Fl(n=Nl())&&(t.templates=n))},viewQuery:function(e,t){var i;1&e&&Ml(bE,!0),2&e&&Fl(i=Nl())&&(t.headerCheckboxViewChild=i.first)},inputs:{checkbox:"checkbox",filter:"filter",filterMode:"filterMode",metaKeySelection:"metaKeySelection",showToggleAll:"showToggleAll",options:"options",filterValue:"filterValue",disabled:"disabled",multiple:"multiple",style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:"readonly",filterLocale:"filterLocale",dataKey:"dataKey",optionLabel:"optionLabel",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick"},features:[fa([RE])],ngContentSelectors:NE,decls:7,vars:12,consts:[[3,"ngClass","ngStyle"],["class","p-listbox-header",4,"ngIf"],["role","listbox","aria-multiselectable","multiple",1,"p-listbox-list"],["pRipple","","role","option",3,"display","ngClass","click","dblclick","touchend","keydown",4,"ngFor","ngForOf"],["class","p-listbox-footer",4,"ngIf"],[1,"p-listbox-header"],[4,"ngTemplateOutlet"],["class","p-checkbox p-component",4,"ngIf"],["class","p-listbox-filter-container",4,"ngIf"],[1,"p-checkbox","p-component"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"checked","focus","blur","keydown.space"],[1,"p-checkbox-box",3,"ngClass","click"],["headerchkbox",""],[1,"p-checkbox-icon",3,"ngClass"],[1,"p-listbox-filter-container"],["type","text",1,"p-listbox-filter","p-inputtext","p-component",3,"value","disabled","input"],[1,"p-listbox-filter-icon","pi","pi-search"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-listbox-footer"]],template:function(e,t){1&e&&(yo(LE),io(0,"div",0),Ys(1,xE,3,1,"div",1),Ys(2,DE,3,2,"div",1),io(3,"div",0),io(4,"ul",2),Ys(5,BE,4,16,"li",3),no(),no(),Ys(6,PE,3,1,"div",4),no()),2&e&&(No(t.styleClass),eo("ngClass","p-listbox p-component")("ngStyle",t.style),Wn(1),eo("ngIf",t.headerFacet||t.headerTemplate),Wn(1),eo("ngIf",t.checkbox&&t.multiple&&t.showToggleAll||t.filter),Wn(1),No(t.listStyleClass),eo("ngClass","p-listbox-list-wrapper")("ngStyle",t.listStyle),Wn(2),eo("ngForOf",t.options),Wn(1),eo("ngIf",t.footerFacet||t.footerTemplate))},directives:[jc,ih,$c,Gc,nh,zg],styles:[".p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.p-listbox-header{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.p-listbox-filter-container{position:relative;-ms-flex:1 1 auto;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}"],encapsulation:2,changeDetection:0}),e})(),zE=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh,Dg,Vg],Dg]}),e})();function VE(e,t){if(1&e&&(ro(0,"img",10),io(1,"span",11),Yo(2),no()),2&e){const e=t.$implicit,i=mo();eo("src",i.getOverlayUrl(e.value),Sn),Wn(2),Ko(i.overlayString(e.value))}}const jE=function(){return{width:"15em"}};let HE=(()=>{class e{constructor(e){this.blueprintService=e,this.visible=!1,this.onSaveImages=new xl,this.cameraService=kg.CameraService.cameraService,this.pixelPerTile=[{label:"16 pixels per tile",value:16},{label:"24 pixels per tile",value:24},{label:"32 pixels per tile",value:32},{label:"48 pixels per tile",value:48},{label:"64 pixels per tile",value:64},{label:"96 pixels per tile",value:96},{label:"128 pixels per tile",value:128}],this.exportOptions={selectedOverlays:[kg.Overlay.Base,kg.Overlay.Power,kg.Overlay.Liquid,kg.Overlay.Gas,kg.Overlay.Automation,kg.Overlay.Conveyor],pixelsPerTile:this.pixelPerTile[2].value,gridLines:!1}}get disabled(){return!(this.exportOptions.selectedOverlays.length>0)}get finalSize(){return null==this.blueprintSize?"":this.blueprintSize.x*this.exportOptions.pixelsPerTile+"x"+this.blueprintSize.y*this.exportOptions.pixelsPerTile}get finalSizeMb(){return null==this.blueprintSize?0:this.blueprintSize.x*this.exportOptions.pixelsPerTile*this.blueprintSize.y*this.exportOptions.pixelsPerTile*this.exportOptions.selectedOverlays.length*6.812002144607843e-7}ngOnInit(){let e=[kg.Overlay.Base,kg.Overlay.Power,kg.Overlay.Liquid,kg.Overlay.Gas,kg.Overlay.Automation,kg.Overlay.Conveyor];this.overlayOptions=[],e.map(e=>{this.overlayOptions.push({label:kg.DrawHelpers.overlayString[e],value:e})})}getOverlayUrl(e){return kg.DrawHelpers.getOverlayUrl(e)}overlayString(e){return kg.DrawHelpers.overlayString[e]}downloadImages(){this.onSaveImages.emit(this.exportOptions),this.hideDialog()}hideDialog(){this.visible=!1}showDialog(){this.visible=!0;let e=this.blueprintService.blueprint.getBoundingBox(),t=e[0],i=e[1];this.blueprintSize=new kg.Vector2(i.x-t.x+3,i.y-t.y+3)}}return e.\u0275fac=function(t){return new(t||e)(Js(Og))},e.\u0275cmp=ct({type:e,selectors:[["app-dialog-export-images"]],outputs:{onSaveImages:"onSaveImages"},decls:19,vars:24,consts:[["header","Export options",3,"visible","modal","dismissableMask","closable","focusOnShow","maximizable","draggable","resizable","visibleChange"],["exportImagesDialog",""],[1,"grid"],[1,"one"],["binary","true","label","Export with grid lines",3,"ngModel","ngModelChange"],[3,"options","ngModel","ngModelChange"],[1,"three"],[3,"options","multiple","metaKeySelection","ngModel","ngModelChange"],["pTemplate","item"],["label","Download images",3,"disabled","click"],["height","20px",2,"display","inline-block","margin","0px 0 0 0px",3,"src"],[2,"float","right","margin","0px 0px 0 0"]],template:function(e,t){1&e&&(io(0,"p-dialog",0,1),ho("visibleChange",(function(e){return t.visible=e})),io(2,"div",2),io(3,"div",3),io(4,"p-checkbox",4),ho("ngModelChange",(function(e){return t.exportOptions.gridLines=e})),no(),ro(5,"br"),ro(6,"br"),io(7,"p-dropdown",5),ho("ngModelChange",(function(e){return t.exportOptions.pixelsPerTile=e})),no(),ro(8,"br"),Yo(9),ro(10,"br"),Yo(11),yl(12,"number"),no(),io(13,"div",6),io(14,"div"),io(15,"p-listbox",7),ho("ngModelChange",(function(e){return t.exportOptions.selectedOverlays=e})),Ys(16,VE,3,2,"ng-template",8),no(),no(),no(),no(),io(17,"p-footer"),io(18,"p-button",9),ho("click",(function(){return t.downloadImages()})),no(),no(),no()),2&e&&(eo("visible",t.visible)("modal",!0)("dismissableMask",!0)("closable",!0)("focusOnShow",!1)("maximizable",!1)("draggable",!1)("resizable",!1),Wn(4),eo("ngModel",t.exportOptions.gridLines),Wn(3),Po(ul(23,jE)),eo("options",t.pixelPerTile)("ngModel",t.exportOptions.pixelsPerTile),Wn(2),Jo(" Image size: ",t.finalSize," "),Wn(2),Jo(" About ",function(e,t,i,n){const r=Kt(),s=Vt(r,12);return wl(r,bl(r,12)?gl(r,oi(),20,s.transform,i,"1.2-2",s):s.transform(i,"1.2-2"))}(0,0,t.finalSizeMb),"Mb "),Wn(4),eo("options",t.overlayOptions)("multiple",!0)("metaKeySelection",!1)("ngModel",t.exportOptions.selectedOverlays),Wn(3),eo("disabled",t.disabled))},directives:[lC,Bw,Uv,Zb,yE,UE,Eg,Sg,xy],pipes:[xh],styles:['.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;grid-template-rows:-webkit-min-content 1fr;grid-template-rows:min-content 1fr;grid-template-areas:"one three"}.one[_ngcontent-%COMP%]{grid-area:one;padding-right:20px}.three[_ngcontent-%COMP%]{grid-area:three}.error-red[_ngcontent-%COMP%]{color:#8b0000;margin-left:.5em}']}),e})(),WE=(()=>{class e{transform(e,...t){return e.filter(e=>e.buildableElement.hasTag("BuildableAny"))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=yt({name:"filterElementSolid",type:e,pure:!0}),e})(),GE=(()=>{class e{transform(e,...t){return e.filter(e=>e.buildableElement.hasTag("Liquid"))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=yt({name:"filterElementLiquid",type:e,pure:!0}),e})(),qE=(()=>{class e{transform(e,...t){return e.filter(e=>e.buildableElement.hasTag("Gas"))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=yt({name:"filterElementGas",type:e,pure:!0}),e})(),$E=(()=>{class e{transform(e,...t){return e<5?(1e3*e).toFixed(0)+" Grams":e<5e3?parseFloat(e.toFixed(1))+" Kg":parseFloat((e/1e3).toFixed(1))+" Tons"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=yt({name:"addMassUnit",type:e,pure:!0}),e})();function ZE(e,t){if(1&e){const e=lo();io(0,"div",7),io(1,"div",8),ro(2,"app-element-icon",9),no(),ro(3,"div",10),io(4,"div",11),Yo(5),no(),ro(6,"div",12),io(7,"div",13),Yo(8),yl(9,"addMassUnit"),no(),io(10,"button",14),ho("click",(function(){Qt(e);const i=t.$implicit;return mo().selectEveryElement(i.buildableElement)})),no(),no()}if(2&e){const e=t.$implicit;Wn(2),eo("element",e.buildableElement)("width","30px")("height","30px"),Wn(1),Bo("background-color",e.colorString),Wn(2),Ko(e.buildableElement.name),Wn(3),Ko(vl(9,8,e.totalMass)),Wn(2),wo("pTooltip","Select every building made of ",e.buildableElement.name,"")}}function XE(e,t){if(1&e){const e=lo();io(0,"div",7),io(1,"div",8),ro(2,"app-element-icon",9),no(),ro(3,"div",10),io(4,"div",11),Yo(5),no(),ro(6,"div",12),io(7,"div",13),Yo(8),yl(9,"addMassUnit"),no(),io(10,"button",14),ho("click",(function(){Qt(e);const i=t.$implicit;return mo().selectEveryElement(i.buildableElement)})),no(),no()}if(2&e){const e=t.$implicit;Wn(2),eo("element",e.buildableElement)("width","30px")("height","30px"),Wn(1),Bo("background-color",e.colorString),Wn(2),Ko(e.buildableElement.name),Wn(3),Ko(vl(9,8,e.totalMass)),Wn(2),wo("pTooltip","Select every building made of ",e.buildableElement.name,"")}}function YE(e,t){if(1&e){const e=lo();io(0,"div",7),io(1,"div",8),ro(2,"app-element-icon",9),no(),ro(3,"div",10),io(4,"div",11),Yo(5),no(),ro(6,"div",12),io(7,"div",13),Yo(8),yl(9,"addMassUnit"),no(),io(10,"button",14),ho("click",(function(){Qt(e);const i=t.$implicit;return mo().selectEveryElement(i.buildableElement)})),no(),no()}if(2&e){const e=t.$implicit;Wn(2),eo("element",e.buildableElement)("width","30px")("height","30px"),Wn(1),Bo("background-color",e.colorString),Wn(2),Ko(e.buildableElement.name),Wn(3),Ko(vl(9,8,e.totalMass)),Wn(2),wo("pTooltip","Select every building made of ",e.buildableElement.name,"")}}let KE=(()=>{class e{constructor(e){this.toolService=e,this.cameraService=kg.CameraService.cameraService}get data(){return this.toolService.elementReport.data}selectEveryElement(e){this.toolService.selectTool.selectEveryElement(e)}ngOnInit(){}close(){this.cameraService.visualization=kg.Visualization.none}}return e.\u0275fac=function(t){return new(t||e)(Js(Rg))},e.\u0275cmp=ct({type:e,selectors:[["app-element-report-tool"]],decls:19,vars:9,consts:[[1,"element-card","ui-widget"],[1,"header"],[1,"element-card-header"],[1,"ui-close-button",3,"click"],[1,"pi","pi-times"],[1,"scrollable"],["class","scroller-line",4,"ngFor","ngForOf"],[1,"scroller-line"],[1,"element-image"],[3,"element","width","height"],[1,"element-color"],[1,"element-text"],[1,"element-spacer"],[1,"element-mass"],["pButton","","type","button","icon","pi pi-search-plus","tooltipPosition","left",1,"ui-button","element-button",3,"pTooltip","click"]],template:function(e,t){1&e&&(io(0,"div",0),io(1,"div",1),io(2,"span",2),Yo(3,"Element report"),no(),io(4,"a",3),ho("click",(function(){return t.close()})),ro(5,"span",4),no(),no(),io(6,"div",5),io(7,"div",2),Yo(8,"Solids :"),no(),Ys(9,ZE,11,10,"div",6),yl(10,"filterElementSolid"),io(11,"div",2),Yo(12,"Liquids :"),no(),Ys(13,XE,11,10,"div",6),yl(14,"filterElementLiquid"),io(15,"div",2),Yo(16,"Gases :"),no(),Ys(17,YE,11,10,"div",6),yl(18,"filterElementGas"),no(),no()),2&e&&(Wn(9),eo("ngForOf",vl(10,3,t.data)),Wn(4),eo("ngForOf",vl(14,5,t.data)),Wn(4),eo("ngForOf",vl(18,7,t.data)))},directives:[Gc,Ev,wy,_y],pipes:[WE,GE,qE,$E],styles:[".element-card[_ngcontent-%COMP%]{background-color:#fff;color:#333;border-radius:3px;padding:10px;width:100%;display:flex;flex-flow:column;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12)}.element-card-header[_ngcontent-%COMP%]{font-weight:700;font-size:larger;margin-top:10px}.scroller-line[_ngcontent-%COMP%]{display:flex;flex-flow:row;align-items:center;justify-content:space-between;height:40px;width:100%}.scrollable[_ngcontent-%COMP%]{overflow-y:auto;max-height:60vh;width:100%}.element-image[_ngcontent-%COMP%]{margin:5px}.element-color[_ngcontent-%COMP%]{margin:5px;width:20px;height:20px;border-radius:3px;border-style:solid;border-width:thin}.element-text[_ngcontent-%COMP%]{margin-right:auto}.element-spacer[_ngcontent-%COMP%]{width:10px;flex:1}.element-button[_ngcontent-%COMP%], .element-mass[_ngcontent-%COMP%]{margin-left:auto;margin-right:5px}"]}),e})();function JE(e,t){if(1&e&&(io(0,"div",6),ro(1,"div",7),io(2,"div",8),Yo(3),no(),ro(4,"div",9),io(5,"div",10),Yo(6),no(),no()),2&e){const e=t.$implicit,i=t.index,n=mo();Wn(1),Bo("background-color",n.temperatureColor(i)),Wn(2),Ko(e.label),Wn(3),Ko(n.temperatureRange(i))}}let QE=(()=>{class e{constructor(){this.cameraService=kg.CameraService.cameraService,this.temperatureData=[];for(let e=kg.DrawHelpers.temperatureThresholds.length-2;e>=0;e--)this.temperatureData.push(kg.DrawHelpers.temperatureThresholds[e])}ngOnInit(){}temperatureColor(e){return kg.DrawHelpers.colorToHex(this.temperatureData[e].color)}temperatureRange(e){return 0==e?"(Above "+(this.temperatureData[e].temperature-273.15).toFixed(0)+"\xb0C)":"("+(this.temperatureData[e].temperature-273.15).toFixed(0)+"\xb0C ~ "+(this.temperatureData[e-1].temperature-273.15).toFixed(0)+"\xb0C)"}close(){this.cameraService.visualization=kg.Visualization.none}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ct({type:e,selectors:[["app-temperature-scale"]],decls:7,vars:1,consts:[[1,"temperature-card","ui-widget"],[1,"header"],[1,"temperature-card-header"],[1,"ui-close-button",3,"click"],[1,"pi","pi-times"],["class","temperature-line",4,"ngFor","ngForOf"],[1,"temperature-line"],[1,"temperature-color"],[1,"temperature-text"],[1,"temperature-spacer"],[1,"temperature-range"]],template:function(e,t){1&e&&(io(0,"div",0),io(1,"div",1),io(2,"span",2),Yo(3,"Temperature scale"),no(),io(4,"a",3),ho("click",(function(){return t.close()})),ro(5,"span",4),no(),no(),Ys(6,JE,7,4,"div",5),no()),2&e&&(Wn(6),eo("ngForOf",t.temperatureData))},directives:[Gc],styles:[".temperature-card[_ngcontent-%COMP%]{background-color:#fff;color:#333;border-radius:3px;padding:10px;width:100%;display:flex;flex-flow:column;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12)}.temperature-card-header[_ngcontent-%COMP%]{font-weight:700;font-size:larger}.temperature-line[_ngcontent-%COMP%]{display:flex;flex-flow:row;align-items:center;justify-content:space-between;height:40px;width:100%}.temperature-color[_ngcontent-%COMP%]{margin:5px 10px 5px 5px;width:30px;height:30px;border-radius:3px;border-style:solid;border-width:thin}.temperature-text[_ngcontent-%COMP%]{margin-right:auto}.temperature-spacer[_ngcontent-%COMP%]{width:10px;flex:1}.temperature-range[_ngcontent-%COMP%]{margin-left:auto;margin-right:5px}"]}),e})();const eD=["canvas"],tD=["buildTool"],iD=["saveDialog"],nD=["browseDialog"],rD=["loginDialog"],sD=["exportImagesDialog"],oD=["shareUrlDialog"],aD=["aboutDialog"],lD=["sidePanelLeft"],uD=["selectionTool"];function cD(e,t){1&e&&ro(0,"app-element-report-tool",null,21)}function hD(e,t){1&e&&ro(0,"app-temperature-scale",null,22)}const dD=function(){return{marginTop:"40px"}};var pD=i("2aXo");let fD=(()=>{class e{constructor(e,t,i,n,r,s){this.messageService=e,this.route=t,this.authService=i,this.blueprintService=n,this.toolService=r,this.renderer=s}get showElementReport(){return null!=kg.CameraService.cameraService&&kg.CameraService.cameraService.showElementReport}get showTemperatureScale(){return null!=kg.CameraService.cameraService&&kg.CameraService.cameraService.showTemperatureScale}ngOnInit(){kg.SpriteModifier.init(),kg.OniItem.init(),kg.ImageSource.init(),kg.SpriteInfo.init(),kg.BuildMenuCategory.init(),kg.BuildMenuItem.init(),kg.BuildableElement.init(),this.blueprintService.subscribeBlueprintChanged(this),this.fetchDatabase().then(()=>{this.buildTool.oniItemsLoaded(),this.route.url.subscribe(e=>{null!=e&&e.length>0&&"browse"==e[0].path?this.browseDialog.showDialog():null!=e&&e.length>0&&"about"==e[0].path?this.aboutDialog.visible=!0:null!=e&&e.length>1&&"openfromurl"==e[0].path&&this.blueprintService.loadUrlBlueprint(e[1].path)}),this.route.params.subscribe(e=>{null!=e.id&&this.blueprintService.openBlueprintFromId(e.id)})}),this.renderer.listen("window","load",()=>{this.resizeTools()}),this.renderer.listen("window","resize",()=>{this.resizeTools()})}resizeTools(){let e=this.sidePanelLeft.nativeElement.getBoundingClientRect().y;this.selectionTool.setMaxHeight(e)}blueprintChanged(e){this.loadTemplateIntoCanvas(e)}fetchDatabase(){return new Promise((e,t)=>{fetch("/assets/database/database.json").then(e=>e.json()).then(t=>{this.database=t,kg.BuildableElement.load(t.elements),kg.BuildMenuCategory.load(t.buildMenuCategories),kg.BuildMenuItem.load(t.buildMenuItems),kg.SpriteInfo.load(t.uiSprites),kg.SpriteModifier.load(t.spriteModifiers),kg.OniItem.load(t.buildings),e(0)}).catch(e=>{t(e)})})}menuCommand(e){e.type==Iy.newBlueprint?this.blueprintService.newBlueprint():e.type==Iy.showLoginDialog?this.loginDialog.showDialog():e.type==Iy.browseBlueprints?this.browseBlueprints(e.data):e.type==Iy.about?this.aboutDialog.toggleDialog():e.type==Iy.getShareableUrl?this.shareUrl():e.type==Iy.exportImages?this.exportImages():e.type==Iy.saveBlueprint?this.saveBlueprint():e.type==Iy.exportBlueprint?this.exportBlueprint():e.type==Iy.fetchIcons?this.canvas.fetchIcons():e.type==Iy.downloadIcons?this.canvas.downloadIcons():e.type==Iy.downloadGroups?this.canvas.downloadGroups(this.database):e.type==Iy.downloadUtility?this.canvas.downloadUtility(this.database):e.type==Iy.repackTextures?this.canvas.repackTextures(this.database):e.type==Iy.addElementsTiles&&this.addElementsTiles()}saveImages(e){this.canvas.saveImages(e)}loadTemplateIntoCanvas(e){this.canvas.loadNewBlueprint(e),kg.CameraService.cameraService.overlay=kg.Overlay.Base,this.toolService.changeTool(Ig.select),this.messageService.add({severity:"success",summary:"Loaded blueprint : "+this.blueprintService.name,detail:e.blueprintItems.length+" items loaded"})}saveBlueprint(){this.authService.isLoggedIn()?0==this.blueprintService.blueprint.blueprintItems.length?this.messageService.add({severity:"error",summary:"Empty blueprint",detail:"Add some buildings before trying to save"}):(this.updateThumbnail(),this.saveDialog.showDialog()):this.messageService.add({severity:"error",summary:"Not logged in",detail:"You must be logged in to be able to save blueprints"})}exportBlueprint(){if(0==this.blueprintService.blueprint.blueprintItems.length)this.messageService.add({severity:"error",summary:"Empty blueprint",detail:"Add some buildings before trying to save"});else{let e="new blueprint";null!=this.blueprintService.name&&(e=this.blueprintService.name);let t=this.blueprintService.blueprint.toBniBlueprint(e),i=document.createElement("a");document.body.append(i),i.download=pD(e)+".blueprint",i.href=URL.createObjectURL(new Blob([JSON.stringify(t)],{})),i.click(),i.remove()}}updateThumbnail(){this.canvas.updateThumbnail()}shareUrl(){null==this.blueprintService.id?this.messageService.add({severity:"error",summary:"Blueprint not saved",detail:"Save this blueprint to share it with others"}):this.shareUrlDialog.showDialog()}browseBlueprints(e){null!=e?this.browseDialog.showDialog(e.filterUserId,e.filterUserName,e.getDuplicates):this.browseDialog.showDialog()}exportImages(){0==this.blueprintService.blueprint.blueprintItems.length?this.messageService.add({severity:"error",summary:"Empty blueprint",detail:"Add some buildings before trying to export images"}):this.exportImagesDialog.showDialog()}addElementsTiles(){}}return e.\u0275fac=function(t){return new(t||e)(Js(Cg),Js(Pf),Js(Ag),Js(Og),Js(Rg),Js(Ca))},e.\u0275cmp=ct({type:e,selectors:[["app-component-blueprint-parent"]],viewQuery:function(e,t){var i;1&e&&(Bl(eD,!0),Bl(tD,!0),Bl(iD,!0),Bl(nD,!0),Bl(rD,!0),Bl(sD,!0),Bl(oD,!0),Ml(aD,!0),Bl(lD,!0),Bl(uD,!0)),2&e&&(Fl(i=Nl())&&(t.canvas=i.first),Fl(i=Nl())&&(t.buildTool=i.first),Fl(i=Nl())&&(t.saveDialog=i.first),Fl(i=Nl())&&(t.browseDialog=i.first),Fl(i=Nl())&&(t.loginDialog=i.first),Fl(i=Nl())&&(t.exportImagesDialog=i.first),Fl(i=Nl())&&(t.shareUrlDialog=i.first),Fl(i=Nl())&&(t.aboutDialog=i.first),Fl(i=Nl())&&(t.sidePanelLeft=i.first),Fl(i=Nl())&&(t.selectionTool=i.first))},features:[fa([Cg])],decls:29,vars:8,consts:[["position","top-center"],["canvas",""],[1,"outer"],[3,"onMenuCommand"],["menu",""],[1,"side-panel"],["sidePanelLeft",""],[3,"hidden"],["selectionTool",""],["buildTool",""],[1,"side-panel-right"],[4,"ngIf"],[1,"side-panel-about"],["aboutDialog",""],[3,"onUpdateThumbnail"],["saveDialog",""],["loginDialog",""],["shareUrlDialog",""],["browseDialog",""],[3,"onSaveImages"],["exportImagesDialog",""],["elementReportTool",""],["temperatureScale",""]],template:function(e,t){if(1&e&&(ro(0,"p-toast",0),ro(1,"app-component-canvas",null,1),io(3,"div",2),io(4,"app-component-menu",3,4),ho("onMenuCommand",(function(e){return t.menuCommand(e)})),no(),io(6,"div"),io(7,"div",5,6),ro(9,"app-selection-tool",7,8),ro(11,"app-build-tool",7,9),no(),io(13,"div",10),Ys(14,cD,2,0,"app-element-report-tool",11),Ys(15,hD,2,0,"app-temperature-scale",11),no(),io(16,"div",12),ro(17,"app-dialog-about",7,13),no(),no(),no(),io(19,"app-component-save-dialog",14,15),ho("onUpdateThumbnail",(function(){return t.updateThumbnail()})),no(),ro(21,"app-login-dialog",null,16),ro(23,"app-dialog-share-url",null,17),ro(25,"app-dialog-browse",null,18),io(27,"app-dialog-export-images",19,20),ho("onSaveImages",(function(e){return t.saveImages(e)})),no()),2&e){const e=Ks(18);Po(ul(7,dD)),Wn(9),eo("hidden",!t.toolService.selectTool.visible||!t.toolService.selectTool.showTool),Wn(2),eo("hidden",!t.toolService.buildTool.visible),Wn(3),eo("ngIf",t.showElementReport&&!e.visible),Wn(1),eo("ngIf",t.showTemperatureScale&&!e.visible),Wn(2),eo("hidden",!e.visible)}},directives:[Qy,lv,ky,dv,Ox,$c,Fx,bC,h_,p_,I_,HE,KE,QE],styles:[".side-panel[_ngcontent-%COMP%]{position:absolute;width:310px;padding:10px}.side-panel-about[_ngcontent-%COMP%], .side-panel-right[_ngcontent-%COMP%]{position:absolute;right:0;padding:10px}.side-panel-about[_ngcontent-%COMP%]{height:90vh}.outer[_ngcontent-%COMP%]{display:flex;flex-flow:column}"]}),e})();const mD=[{path:"",component:fD},{path:"b/:id",component:fD},{path:"openfromurl/:url",component:fD},{path:"browse",component:fD},{path:"about",component:fD},{path:"",redirectTo:"/",pathMatch:"prefix"}];let gD=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[hg.forRoot(mD)],hg]}),e})(),yD=(()=>{class e{constructor(){this.title="blueprintnotincluded"}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ct({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&ro(0,"router-outlet")},directives:[tg],styles:[""]}),e})();function vD(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function bD(e){switch(e.length){case 0:return new Vy;case 1:return e[0];default:return new jy(e)}}function wD(e,t,i,n,r={},s={}){const o=[],a=[];let l=-1,u=null;if(n.forEach(e=>{const i=e.offset,n=i==l,c=n&&u||{};Object.keys(e).forEach(i=>{let n=i,a=e[i];if("offset"!==i)switch(n=t.normalizePropertyName(n,o),a){case"!":a=r[i];break;case"*":a=s[i];break;default:a=t.normalizeStyleValue(i,n,a,o)}c[n]=a}),n||a.push(c),u=c,l=i}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return a}function xD(e,t,i,n){switch(t){case"start":e.onStart(()=>n(i&&CD(i,"start",e)));break;case"done":e.onDone(()=>n(i&&CD(i,"done",e)));break;case"destroy":e.onDestroy(()=>n(i&&CD(i,"destroy",e)))}}function CD(e,t,i){const n=i.totalTime,r=_D(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==n?e.totalTime:n,!!i.disabled),s=e._data;return null!=s&&(r._data=s),r}function _D(e,t,i,n,r="",s=0,o){return{element:e,triggerName:t,fromState:i,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function SD(e,t,i){let n;return e instanceof Map?(n=e.get(t),n||e.set(t,n=i)):(n=e[t],n||(n=e[t]=i)),n}function ED(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let DD=(e,t)=>!1,kD=(e,t)=>!1,ID=(e,t,i)=>[];const TD=vD();(TD||"undefined"!=typeof Element)&&(DD=(e,t)=>e.contains(t),kD=(()=>{if(TD||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):kD}})(),ID=(e,t,i)=>{let n=[];if(i)n.push(...e.querySelectorAll(t));else{const i=e.querySelector(t);i&&n.push(i)}return n});let AD=null,OD=!1;function FD(e){AD||(AD=("undefined"!=typeof document?document.body:null)||{},OD=!!AD.style&&"WebkitAppearance"in AD.style);let t=!0;return AD.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in AD.style,!t&&OD)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in AD.style),t}const BD=kD,MD=DD,PD=ID;function LD(e){const t={};return Object.keys(e).forEach(i=>{const n=i.replace(/([a-z])([A-Z])/g,"$1-$2");t[n]=e[i]}),t}let ND=(()=>{class e{validateStyleProperty(e){return FD(e)}matchesElement(e,t){return BD(e,t)}containsElement(e,t){return MD(e,t)}query(e,t,i){return PD(e,t,i)}computeStyle(e,t,i){return i||""}animate(e,t,i,n,r,s=[],o){return new Vy(i,n)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),RD=(()=>{class e{}return e.NOOP=new ND,e})();function UD(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:zD(parseFloat(t[1]),t[2])}function zD(e,t){switch(t){case"s":return 1e3*e;default:return e}}function VD(e,t,i){return e.hasOwnProperty("duration")?e:function(e,t,i){let n,r=0,s="";if("string"==typeof e){const i=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===i)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};n=zD(parseFloat(i[1]),i[2]);const o=i[3];null!=o&&(r=zD(parseFloat(o),i[4]));const a=i[5];a&&(s=a)}else n=e;if(!i){let i=!1,s=t.length;n<0&&(t.push("Duration values below 0 are not allowed for this animation step."),i=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),i=!0),i&&t.splice(s,0,`The provided timing value "${e}" is invalid.`)}return{duration:n,delay:r,easing:s}}(e,t,i)}function jD(e,t={}){return Object.keys(e).forEach(i=>{t[i]=e[i]}),t}function HD(e,t,i={}){if(t)for(let n in e)i[n]=e[n];else jD(e,i);return i}function WD(e,t,i){return i?t+":"+i+";":""}function GD(e){let t="";for(let i=0;i<e.style.length;i++){const n=e.style.item(i);t+=WD(0,n,e.style.getPropertyValue(n))}for(const i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=WD(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function qD(e,t,i){e.style&&(Object.keys(t).forEach(n=>{const r=ek(n);i&&!i.hasOwnProperty(n)&&(i[n]=e.style[r]),e.style[r]=t[n]}),vD()&&GD(e))}function $D(e,t){e.style&&(Object.keys(t).forEach(t=>{const i=ek(t);e.style[i]=""}),vD()&&GD(e))}function ZD(e){return Array.isArray(e)?1==e.length?e[0]:Fy(e):e}const XD=new RegExp("{{\\s*(.+?)\\s*}}","g");function YD(e){let t=[];if("string"==typeof e){let i;for(;i=XD.exec(e);)t.push(i[1]);XD.lastIndex=0}return t}function KD(e,t,i){const n=e.toString(),r=n.replace(XD,(e,n)=>{let r=t[n];return t.hasOwnProperty(n)||(i.push("Please provide a value for the animation param "+n),r=""),r.toString()});return r==n?e:r}function JD(e){const t=[];let i=e.next();for(;!i.done;)t.push(i.value),i=e.next();return t}const QD=/-+([a-z0-9])/g;function ek(e){return e.replace(QD,(...e)=>e[1].toUpperCase())}function tk(e,t){return 0===e||0===t}function ik(e,t,i){const n=Object.keys(i);if(n.length&&t.length){let s=t[0],o=[];if(n.forEach(e=>{s.hasOwnProperty(e)||o.push(e),s[e]=i[e]}),o.length)for(var r=1;r<t.length;r++){let i=t[r];o.forEach((function(t){i[t]=rk(e,t)}))}}return t}function nk(e,t,i){switch(t.type){case 7:return e.visitTrigger(t,i);case 0:return e.visitState(t,i);case 1:return e.visitTransition(t,i);case 2:return e.visitSequence(t,i);case 3:return e.visitGroup(t,i);case 4:return e.visitAnimate(t,i);case 5:return e.visitKeyframes(t,i);case 6:return e.visitStyle(t,i);case 8:return e.visitReference(t,i);case 9:return e.visitAnimateChild(t,i);case 10:return e.visitAnimateRef(t,i);case 11:return e.visitQuery(t,i);case 12:return e.visitStagger(t,i);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function rk(e,t){return window.getComputedStyle(e)[t]}function sk(e,t){const i=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,i){if(":"==e[0]){const n=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,i);if("function"==typeof n)return void t.push(n);e=n}const n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return i.push(`The provided transition expression "${e}" is not supported`),t;const r=n[1],s=n[2],o=n[3];t.push(lk(r,o)),"<"!=s[0]||"*"==r&&"*"==o||t.push(lk(o,r))}(e,i,t)):i.push(e),i}const ok=new Set(["true","1"]),ak=new Set(["false","0"]);function lk(e,t){const i=ok.has(e)||ak.has(e),n=ok.has(t)||ak.has(t);return(r,s)=>{let o="*"==e||e==r,a="*"==t||t==s;return!o&&i&&"boolean"==typeof r&&(o=r?ok.has(e):ak.has(e)),!a&&n&&"boolean"==typeof s&&(a=s?ok.has(t):ak.has(t)),o&&a}}const uk=new RegExp("s*:selfs*,?","g");function ck(e,t,i){return new hk(e).build(t,i)}class hk{constructor(e){this._driver=e}build(e,t){const i=new dk(t);return this._resetContextStyleTimingState(i),nk(this,ZD(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,n=t.depCount=0;const r=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const i=e,n=i.name;n.toString().split(/\s*,\s*/).forEach(e=>{i.name=e,r.push(this.visitState(i,t))}),i.name=n}else if(1==e.type){const r=this.visitTransition(e,t);i+=r.queryCount,n+=r.depCount,s.push(r)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:r,transitions:s,queryCount:i,depCount:n,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),n=e.options&&e.options.params||null;if(i.containsDynamicStyles){const r=new Set,s=n||{};if(i.styles.forEach(e=>{if(pk(e)){const t=e;Object.keys(t).forEach(e=>{YD(t[e]).forEach(e=>{s.hasOwnProperty(e)||r.add(e)})})}}),r.size){const i=JD(r.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${i.join(", ")}`)}}return{type:0,name:e.name,style:i,options:n?{params:n}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=nk(this,ZD(e.animation),t);return{type:1,matchers:sk(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:fk(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>nk(this,e,t)),options:fk(e.options)}}visitGroup(e,t){const i=t.currentTime;let n=0;const r=e.steps.map(e=>{t.currentTime=i;const r=nk(this,e,t);return n=Math.max(n,t.currentTime),r});return t.currentTime=n,{type:3,steps:r,options:fk(e.options)}}visitAnimate(e,t){const i=function(e,t){let i=null;if(e.hasOwnProperty("duration"))i=e;else if("number"==typeof e)return mk(VD(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=mk(0,0,"");return e.dynamic=!0,e.strValue=n,e}return i=i||VD(n,t),mk(i.duration,i.delay,i.easing)}(e.timings,t.errors);let n;t.currentAnimateTimings=i;let r=e.styles?e.styles:By({});if(5==r.type)n=this.visitKeyframes(r,t);else{let r=e.styles,s=!1;if(!r){s=!0;const e={};i.easing&&(e.easing=i.easing),r=By(e)}t.currentTime+=i.duration+i.delay;const o=this.visitStyle(r,t);o.isEmptyStep=s,n=o}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?"*"==e?i.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):i.push(e)}):i.push(e.styles);let n=!1,r=null;return i.forEach(e=>{if(pk(e)){const t=e,i=t.easing;if(i&&(r=i,delete t.easing),!n)for(let e in t)if(t[e].toString().indexOf("{{")>=0){n=!0;break}}}),{type:6,styles:i,easing:r,offset:e.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let n=t.currentTime,r=t.currentTime;i&&r>0&&(r-=i.duration+i.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(i=>{if(!this._driver.validateStyleProperty(i))return void t.errors.push(`The provided animation property "${i}" is not a supported CSS property for animations`);const s=t.collectedStyles[t.currentQuerySelector],o=s[i];let a=!0;o&&(r!=n&&r>=o.startTime&&n<=o.endTime&&(t.errors.push(`The CSS property "${i}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${n}ms"`),a=!1),r=o.startTime),a&&(s[i]={startTime:r,endTime:n}),t.options&&function(e,t,i){const n=t.params||{},r=YD(e);r.length&&r.forEach(e=>{n.hasOwnProperty(e)||i.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[i],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;let n=0;const r=[];let s=!1,o=!1,a=0;const l=e.steps.map(e=>{const i=this._makeStyleAst(e,t);let l=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(pk(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(pk(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}return t}(i.styles),u=0;return null!=l&&(n++,u=i.offset=l),o=o||u<0||u>1,s=s||u<a,a=u,r.push(u),i});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");const u=e.steps.length;let c=0;n>0&&n<u?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==n&&(c=1/(u-1));const h=u-1,d=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return l.forEach((e,n)=>{const s=c>0?n==h?1:c*n:r[n],o=s*f;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=s,i.styles.push(e)}),i}visitReference(e,t){return{type:8,animation:nk(this,ZD(e.animation),t),options:fk(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:fk(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:fk(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,n=e.options||{};t.queryCount++,t.currentQuery=e;const[r,s]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(uk,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,".ng-animating"),t]}(e.selector);t.currentQuerySelector=i.length?i+" "+r:r,SD(t.collectedStyles,t.currentQuerySelector,{});const o=nk(this,ZD(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:r,limit:n.limit||0,optional:!!n.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:fk(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:VD(e.timings,t.errors,!0);return{type:12,animation:nk(this,ZD(e.animation),t),timings:i,options:null}}}class dk{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function pk(e){return!Array.isArray(e)&&"object"==typeof e}function fk(e){var t;return e?(e=jD(e)).params&&(e.params=(t=e.params)?jD(t):null):e={},e}function mk(e,t,i){return{duration:e,delay:t,easing:i}}function gk(e,t,i,n,r,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:i,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class yk{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const vk=new RegExp(":enter","g"),bk=new RegExp(":leave","g");function wk(e,t,i,n,r,s={},o={},a,l,u=[]){return(new xk).buildKeyframes(e,t,i,n,r,s,o,a,l,u)}class xk{buildKeyframes(e,t,i,n,r,s,o,a,l,u=[]){l=l||new yk;const c=new _k(e,t,l,n,r,u,[]);c.options=a,c.currentTimeline.setStyles([s],null,c.errors,a),nk(this,i,c);const h=c.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,c.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[gk(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.consume(t.element);if(i){const n=t.createSubContext(e.options),r=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,n,n.options);r!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let n=t.currentTimeline.currentTime;const r=null!=i.duration?UD(i.duration):null,s=null!=i.delay?UD(i.delay):null;return 0!==r&&e.forEach(e=>{const i=t.appendInstructionToTimeline(e,r,s);n=Math.max(n,i.duration+i.delay)}),n}visitReference(e,t){t.updateOptions(e.options,!0),nk(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let n=t;const r=e.options;if(r&&(r.params||r.delay)&&(n=t.createSubContext(r),n.transformIntoNewTimeline(),null!=r.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Ck);const e=UD(r.delay);n.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>nk(this,e,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let n=t.currentTimeline.currentTime;const r=e.options&&e.options.delay?UD(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);r&&o.delayNextStep(r),nk(this,s,o),n=Math.max(n,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(n),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return VD(t.params?KD(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),n=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),n.snapshotCurrentStyles());const r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(i.duration),this.visitStyle(r,t),n.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,n=t.currentAnimateTimings;!n&&i.getCurrentStyleProperties().length&&i.forwardFrame();const r=n&&n.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(r):i.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,n=t.currentTimeline.duration,r=i.duration,s=t.createSubContext().currentTimeline;s.easing=i.easing,e.styles.forEach(e=>{s.forwardTime((e.offset||0)*r),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(n+r),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,n=e.options||{},r=n.delay?UD(n.delay):0;r&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ck);let s=i;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!n.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((i,n)=>{t.currentQueryIndex=n;const o=t.createSubContext(e.options,i);r&&o.delayNextStep(r),i===t.element&&(a=o.currentTimeline),nk(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,n=t.currentTimeline,r=e.timings,s=Math.abs(r.duration),o=s*(t.currentQueryTotal-1);let a=s*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=i.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const u=l.currentTime;nk(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=n.currentTime-u+(n.startTime-i.currentTimeline.startTime)}}const Ck={};class _k{constructor(e,t,i,n,r,s,o,a){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ck,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Sk(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let n=this.options;null!=i.duration&&(n.duration=UD(i.duration)),null!=i.delay&&(n.delay=UD(i.delay));const r=i.params;if(r){let e=n.params;e||(e=this.options.params={}),Object.keys(r).forEach(i=>{t&&e.hasOwnProperty(i)||(e[i]=KD(r[i],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(e=>{i[e]=t[e]})}}return e}createSubContext(e=null,t,i){const n=t||this.element,r=new _k(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=Ck,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const n={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},r=new Ek(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,n,e.stretchStartingKeyframe);return this.timelines.push(r),n}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,n,r,s){let o=[];if(n&&o.push(this.element),e.length>0){e=(e=e.replace(vk,"."+this._enterClassName)).replace(bk,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=i);0!==i&&(t=i<0?t.slice(t.length+i,t.length):t.slice(0,i)),o.push(...t)}return r||0!=o.length||s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class Sk{constructor(e,t,i,n){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=n,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Sk(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||"*",this._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,n){t&&(this._previousKeyframe.easing=t);const r=n&&n.params||{},s=function(e,t){const i={};let n;return e.forEach(e=>{"*"===e?(n=n||Object.keys(t),n.forEach(e=>{i[e]="*"})):HD(e,!1,i)}),i}(e,this._globalTimelineStyles);Object.keys(s).forEach(e=>{const t=KD(s[e],r,i);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:"*"),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],n=e._styleSummary[t];(!i||n.time>i.time)&&this._updateStyle(t,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let n=[];this._keyframes.forEach((r,s)=>{const o=HD(r,!0);Object.keys(o).forEach(i=>{const n=o[i];"!"==n?e.add(i):"*"==n&&t.add(i)}),i||(o.offset=s/this.duration),n.push(o)});const r=e.size?JD(e.values()):[],s=t.size?JD(t.values()):[];if(i){const e=n[0],t=jD(e);e.offset=0,t.offset=1,n=[e,t]}return gk(this.element,n,r,s,this.duration,this.startTime,this.easing,!1)}}class Ek extends Sk{constructor(e,t,i,n,r,s,o=!1){super(e,t,s.delay),this.element=t,this.keyframes=i,this.preStyleProps=n,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&t){const r=[],s=i+t,o=t/s,a=HD(e[0],!1);a.offset=0,r.push(a);const l=HD(e[0],!1);l.offset=Dk(o),r.push(l);const u=e.length-1;for(let n=1;n<=u;n++){let o=HD(e[n],!1);o.offset=Dk((t+o.offset*i)/s),r.push(o)}i=s,t=0,n="",e=r}return gk(this.element,e,this.preStyleProps,this.postStyleProps,i,t,n,!0)}}function Dk(e,t=3){const i=Math.pow(10,t-1);return Math.round(e*i)/i}class kk{}class Ik extends kk{normalizePropertyName(e,t){return ek(e)}normalizeStyleValue(e,t,i,n){let r="";const s=i.toString().trim();if(Tk[t]&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const t=i.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&n.push(`Please provide a CSS unit value for ${e}:${i}`)}return s+r}}const Tk=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ak(e,t,i,n,r,s,o,a,l,u,c,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:i,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const Ok={};class Fk{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,n){return function(e,t,i,n,r){return e.some(e=>e(t,i,n,r))}(this.ast.matchers,e,t,i,n)}buildStyles(e,t,i){const n=this._stateStyles["*"],r=this._stateStyles[e],s=n?n.buildStyles(t,i):{};return r?r.buildStyles(t,i):s}build(e,t,i,n,r,s,o,a,l,u){const c=[],h=this.ast.options&&this.ast.options.params||Ok,d=this.buildStyles(i,o&&o.params||Ok,c),p=a&&a.params||Ok,f=this.buildStyles(n,p,c),m=new Set,g=new Map,y=new Map,v="void"===n,b={params:Object.assign(Object.assign({},h),p)},w=u?[]:wk(e,t,this.ast.animation,r,s,d,f,b,l,c);let x=0;if(w.forEach(e=>{x=Math.max(e.duration+e.delay,x)}),c.length)return Ak(t,this._triggerName,i,n,v,d,f,[],[],g,y,x,c);w.forEach(e=>{const i=e.element,n=SD(g,i,{});e.preStyleProps.forEach(e=>n[e]=!0);const r=SD(y,i,{});e.postStyleProps.forEach(e=>r[e]=!0),i!==t&&m.add(i)});const C=JD(m.values());return Ak(t,this._triggerName,i,n,v,d,f,w,C,g,y,x)}}class Bk{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const i={},n=jD(this.defaultParams);return Object.keys(e).forEach(t=>{const i=e[t];null!=i&&(n[t]=i)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const r=e;Object.keys(r).forEach(e=>{let s=r[e];s.length>1&&(s=KD(s,n,t)),i[e]=s})}}),i}}class Mk{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new Bk(e.style,e.options&&e.options.params||{})}),Pk(this.states,"true","1"),Pk(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new Fk(e,t,this.states))}),this.fallbackTransition=new Fk(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,n){return this.transitionFactories.find(r=>r.match(e,t,i,n))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Pk(e,t,i){e.hasOwnProperty(t)?e.hasOwnProperty(i)||(e[i]=e[t]):e.hasOwnProperty(i)&&(e[t]=e[i])}const Lk=new yk;class Nk{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],n=ck(this._driver,t,i);if(i.length)throw new Error("Unable to build the animation due to the following errors: "+i.join("\n"));this._animations[e]=n}_buildPlayer(e,t,i){const n=e.element,r=wD(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(n,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const n=[],r=this._animations[e];let s;const o=new Map;if(r?(s=wk(this._driver,t,r,"ng-enter","ng-leave",{},{},i,Lk,n),s.forEach(e=>{const t=SD(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(n.push("The requested animation doesn't exist or has already been destroyed"),s=[]),n.length)throw new Error("Unable to create the animation due to the following errors: "+n.join("\n"));o.forEach((e,t)=>{Object.keys(e).forEach(i=>{e[i]=this._driver.computeStyle(t,i,"*")})});const a=bD(s.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}listen(e,t,i,n){const r=_D(t,"","","");return xD(this._getPlayer(e),i,r,n),()=>{}}command(e,t,i,n){if("register"==i)return void this.register(e,n[0]);if("create"==i)return void this.create(e,t,n[0]||{});const r=this._getPlayer(e);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(e)}}}const Rk=[],Uk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zk={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Vk{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=null!=(n=i?e.value:e)?n:null,i){const t=jD(e);delete t.value,this.options=t}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(i=>{null==e[i]&&(e[i]=t[i])})}}}const jk=new Vk("void");class Hk{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Yk(t,this._hostClassName)}listen(e,t,i,n){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${t}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(r=i)&&"done"!=r)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${t}" is not supported!`);var r;const s=SD(this._elementListeners,e,[]),o={name:t,phase:i,callback:n};s.push(o);const a=SD(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Yk(e,"ng-trigger"),Yk(e,"ng-trigger-"+t),a[t]=jk),()=>{this._engine.afterFlush(()=>{const e=s.indexOf(o);e>=0&&s.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,i,n=!0){const r=this._getTrigger(t),s=new Gk(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(Yk(e,"ng-trigger"),Yk(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const l=new Vk(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[t]=l,a||(a=jk),"void"!==l.value&&a.value===l.value){if(!function(e,t){const i=Object.keys(e),n=Object.keys(t);if(i.length!=n.length)return!1;for(let r=0;r<i.length;r++){const n=i[r];if(!t.hasOwnProperty(n)||e[n]!==t[n])return!1}return!0}(a.params,l.params)){const t=[],i=r.matchStyles(a.value,a.params,t),n=r.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{$D(e,i),qD(e,n)})}return}const u=SD(this._engine.playersByElement,e,[]);u.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let c=r.matchTransition(a.value,l.value,e,l.params),h=!1;if(!c){if(!n)return;c=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:c,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(Yk(e,"ng-animate-queued"),s.onStart(()=>{Kk(e,"ng-animate-queued")})),s.onDone(()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);const i=this._engine.playersByElement.get(e);if(i){let e=i.indexOf(s);e>=0&&i.splice(e,1)}}),this.players.push(s),u.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,".ng-trigger",!0);i.forEach(e=>{if(e.__ng_removed)return;const i=this._engine.fetchNamespacesByElement(e);i.size?i.forEach(i=>i.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,i,n){const r=this._engine.statesByElement.get(e);if(r){const s=[];if(Object.keys(r).forEach(t=>{if(this._triggers[t]){const i=this.trigger(e,t,"void",n);i&&s.push(i)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),i&&bD(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const i=new Set;t.forEach(t=>{const n=t.name;if(i.has(n))return;i.add(n);const r=this._triggers[n].fallbackTransition,s=this._engine.statesByElement.get(e)[n]||jk,o=new Vk("void"),a=new Gk(this.id,n,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:r,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let n=!1;if(i.totalAnimations){const t=i.players.length?i.playersByQueriedElement.get(e):[];if(t&&t.length)n=!0;else{let t=e;for(;t=t.parentNode;)if(i.statesByElement.get(t)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(e),n)i.markElementAsRemoved(this.id,e,!1,t);else{const n=e.__ng_removed;n&&n!==Uk||(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Yk(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const n=i.player;if(n.destroyed)return;const r=i.element,s=this._elementListeners.get(r);s&&s.forEach(t=>{if(t.name==i.triggerName){const n=_D(r,i.triggerName,i.fromState.value,i.toState.value);n._data=e,xD(i.player,t.phase,n,t.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):t.push(i)}),this._queue=[],t.sort((e,t)=>{const i=e.transition.ast.depCount,n=t.transition.ast.depCount;return 0==i||0==n?i-n:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class Wk{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const i=new Hk(e,t,this);return t.parentNode?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList.length-1;if(i>=0){let n=!1;for(let r=i;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),n=!0;break}n||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let n=this._namespaceLookup[e];n&&n.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(i);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const e=Object.keys(i);for(let n=0;n<e.length;n++){const r=i[e[n]].namespaceId;if(r){const e=this._fetchNamespace(r);e&&t.add(e)}}}return t}trigger(e,t,i,n){if(qk(t)){const r=this._fetchNamespace(e);if(r)return r.trigger(t,i,n),!0}return!1}insertNode(e,t,i,n){if(!qk(t))return;const r=t.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const n=this._fetchNamespace(e);n&&n.insertNode(t,i)}n&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Yk(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Kk(e,"ng-animate-disabled"))}removeNode(e,t,i,n){if(qk(t)){const r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n),i){const i=this.namespacesByHostElement.get(t);i&&i.id!==e&&i.removeNode(t,n)}}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,i,n){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1}}listen(e,t,i,n,r){return qk(t)?this._fetchNamespace(e).listen(t,i,n,r):()=>{}}_buildInstruction(e,t,i,n,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,n,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,".ng-trigger",!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,".ng-animating",!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return bD(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=Uk,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Yk(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let e=0;e<i.length;e++)i[e]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?bD(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}_flushAnimations(e,t){const i=new yk,n=[],r=new Map,s=[],o=new Map,a=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(e=>{u.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let i=0;i<t.length;i++)u.add(t[i])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Xk(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((e,t)=>{const i="ng-enter"+f++;p.set(t,i),e.forEach(e=>Yk(e,i))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const e=this.collectedLeaveElements[A],t=e.__ng_removed;t&&t.setForRemoval&&(m.push(e),g.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>g.add(e)):y.add(e))}const v=new Map,b=Xk(h,Array.from(g));b.forEach((e,t)=>{const i="ng-leave"+f++;v.set(t,i),e.forEach(e=>Yk(e,i))}),e.push(()=>{d.forEach((e,t)=>{const i=p.get(t);e.forEach(e=>Kk(e,i))}),b.forEach((e,t)=>{const i=v.get(t);e.forEach(e=>Kk(e,i))}),m.forEach(e=>{this.processLeaveNode(e)})});const w=[],x=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(t).forEach(e=>{const t=e.player,r=e.element;if(w.push(t),this.collectedEnterElements.length){const e=r.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const u=!c||!this.driver.containsElement(c,r),h=v.get(r),d=p.get(r),f=this._buildInstruction(e,i,d,h,u);if(f.errors&&f.errors.length)x.push(f);else{if(u)return t.onStart(()=>$D(r,f.fromStyles)),t.onDestroy(()=>qD(r,f.toStyles)),void n.push(t);if(e.isFallbackTransition)return t.onStart(()=>$D(r,f.fromStyles)),t.onDestroy(()=>qD(r,f.toStyles)),void n.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),i.append(r,f.timelines),s.push({instruction:f,player:t,element:r}),f.queriedElements.forEach(e=>SD(o,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const i=Object.keys(e);if(i.length){let e=a.get(t);e||a.set(t,e=new Set),i.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const i=Object.keys(e);let n=l.get(t);n||l.set(t,n=new Set),i.forEach(e=>n.add(e))})}});if(x.length){const e=[];x.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),w.forEach(e=>e.destroy()),this.reportError(e)}const C=new Map,_=new Map;s.forEach(e=>{const t=e.element;i.has(t)&&(_.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,C))}),n.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{SD(C,t,[]).push(e),e.destroy()})});const S=m.filter(e=>Qk(e,a,l)),E=new Map;Zk(E,this.driver,y,l,"*").forEach(e=>{Qk(e,a,l)&&S.push(e)});const D=new Map;d.forEach((e,t)=>{Zk(D,this.driver,new Set(e),a,"!")}),S.forEach(e=>{const t=E.get(e),i=D.get(e);E.set(e,Object.assign(Object.assign({},t),i))});const k=[],I=[],T={};s.forEach(e=>{const{element:t,player:s,instruction:o}=e;if(i.has(t)){if(u.has(t))return s.onDestroy(()=>qD(t,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void n.push(s);let e=T;if(_.size>1){let i=t;const n=[];for(;i=i.parentNode;){const t=_.get(i);if(t){e=t;break}n.push(i)}n.forEach(t=>_.set(t,e))}const i=this._buildAnimation(s.namespaceId,o,C,r,D,E);if(s.setRealPlayer(i),e===T)k.push(s);else{const t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=bD(t)),n.push(s)}}else $D(t,o.fromStyles),s.onDestroy(()=>qD(t,o.toStyles)),I.push(s),u.has(t)&&n.push(s)}),I.forEach(e=>{const t=r.get(e.element);if(t&&t.length){const i=bD(t);e.setRealPlayer(i)}}),n.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let A=0;A<m.length;A++){const e=m[A],t=e.__ng_removed;if(Kk(e,"ng-leave"),t&&t.hasAnimation)continue;let i=[];if(o.size){let t=o.get(e);t&&t.length&&i.push(...t);let n=this.driver.query(e,".ng-animating",!0);for(let e=0;e<n.length;e++){let t=o.get(n[e]);t&&t.length&&i.push(...t)}}const n=i.filter(e=>!e.destroyed);n.length?Jk(this,e,n):this.processLeaveNode(e)}return m.length=0,k.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),k}elementContainsData(e,t){let i=!1;const n=t.__ng_removed;return n&&n.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,n,r){let s=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(s=t)}else{const t=this.playersByElement.get(e);if(t){const e=!r||"void"==r;t.forEach(t=>{t.queued||(e||t.triggerName==n)&&s.push(t)})}}return(i||n)&&(s=s.filter(e=>!(i&&i!=e.namespaceId||n&&n!=e.triggerName))),s}_beforeAnimationBuild(e,t,i){const n=t.element,r=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==n,l=SD(i,e,[]);this._getPreviousPlayers(e,a,r,s,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}$D(n,t.fromStyles)}_buildAnimation(e,t,i,n,r,s){const o=t.triggerName,a=t.element,l=[],u=new Set,c=new Set,h=t.timelines.map(t=>{const h=t.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Vy(t.duration,t.delay);const p=h!==a,f=function(e){const t=[];return function e(t,i){for(let n=0;n<t.length;n++){const r=t[n];r instanceof jy?e(r.players,i):i.push(r)}}(e,t),t}((i.get(h)||Rk).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),m=r.get(h),g=s.get(h),y=wD(0,this._normalizer,0,t.keyframes,m,g),v=this._buildPlayer(t,y,f);if(t.subTimeline&&n&&c.add(h),p){const t=new Gk(e,o,h);t.setRealPlayer(v),l.push(t)}return v});l.forEach(e=>{SD(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,i){let n;if(e instanceof Map){if(n=e.get(t),n){if(n.length){const e=n.indexOf(i);n.splice(e,1)}0==n.length&&e.delete(t)}}else if(n=e[t],n){if(n.length){const e=n.indexOf(i);n.splice(e,1)}0==n.length&&delete e[t]}return n}(this.playersByQueriedElement,e.element,e))}),u.forEach(e=>Yk(e,"ng-animating"));const d=bD(h);return d.onDestroy(()=>{u.forEach(e=>Kk(e,"ng-animating")),qD(a,t.toStyles)}),c.forEach(e=>{SD(n,e,[]).push(d)}),d}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Vy(e.duration,e.delay)}}class Gk{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Vy,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>xD(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){SD(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function qk(e){return e&&1===e.nodeType}function $k(e,t){const i=e.style.display;return e.style.display=null!=t?t:"none",i}function Zk(e,t,i,n,r){const s=[];i.forEach(e=>s.push($k(e)));const o=[];n.forEach((i,n)=>{const s={};i.forEach(e=>{const i=s[e]=t.computeStyle(n,e,r);i&&0!=i.length||(n.__ng_removed=zk,o.push(n))}),e.set(n,s)});let a=0;return i.forEach(e=>$k(e,s[a++])),o}function Xk(e,t){const i=new Map;if(e.forEach(e=>i.set(e,[])),0==t.length)return i;const n=new Set(t),r=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return 1;let s=r.get(t);if(s)return s;const o=t.parentNode;return s=i.has(o)?o:n.has(o)?1:e(o),r.set(t,s),s}(e);1!==t&&i.get(t).push(e)}),i}function Yk(e,t){if(e.classList)e.classList.add(t);else{let i=e.$$classes;i||(i=e.$$classes={}),i[t]=!0}}function Kk(e,t){if(e.classList)e.classList.remove(t);else{let i=e.$$classes;i&&delete i[t]}}function Jk(e,t,i){bD(i).onDone(()=>e.processLeaveNode(t))}function Qk(e,t,i){const n=i.get(e);if(!n)return!1;let r=t.get(e);return r?n.forEach(e=>r.add(e)):t.set(e,n),i.delete(e),!0}class eI{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new Wk(e,t,i),this._timelineEngine=new Nk(e,t,i),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,i,n,r){const s=e+"-"+n;let o=this._triggerCache[s];if(!o){const e=[],t=ck(this._driver,r,e);if(e.length)throw new Error(`The animation trigger "${n}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t){return new Mk(e,t)}(n,t),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,n,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,n){this._transitionEngine.insertNode(e,t,i,n)}onRemove(e,t,i,n){this._transitionEngine.removeNode(e,t,n||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,n){if("@"==i.charAt(0)){const[e,r]=ED(i);this._timelineEngine.command(e,t,r,n)}else this._transitionEngine.trigger(e,t,i,n)}listen(e,t,i,n,r){if("@"==i.charAt(0)){const[e,n]=ED(i);return this._timelineEngine.listen(e,t,n,r)}return this._transitionEngine.listen(e,t,i,n,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function tI(e,t){let i=null,n=null;return Array.isArray(t)&&t.length?(i=nI(t[0]),t.length>1&&(n=nI(t[t.length-1]))):t&&(i=nI(t)),i||n?new iI(e,i,n):null}let iI=(()=>{class e{constructor(t,i,n){this._element=t,this._startStyles=i,this._endStyles=n,this._state=0;let r=e.initialStylesByElement.get(t);r||e.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&qD(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qD(this._element,this._initialStyles),this._endStyles&&(qD(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&($D(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($D(this._element,this._endStyles),this._endStyles=null),qD(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function nI(e){let t=null;const i=Object.keys(e);for(let n=0;n<i.length;n++){const r=i[n];rI(r)&&(t=t||{},t[r]=e[r])}return t}function rI(e){return"display"===e||"position"===e}class sI{constructor(e,t,i,n,r,s,o){this._element=e,this._name=t,this._duration=i,this._delay=n,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const i=hI(e,"").trim();i.length&&(function(e,t){let i=0;for(let n=0;n<e.length;n++)","===e.charAt(n)&&i++}(i),t=`${i}, ${t}`),cI(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),uI(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){oI(this._element,this._name,"paused")}resume(){oI(this._element,this._name,"running")}setPosition(e){const t=aI(this._element,this._name);this._position=e*this._duration,cI(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),uI(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const i=hI(e,"").split(","),n=lI(i,t);n>=0&&(i.splice(n,1),cI(e,"",i.join(",")))}(this._element,this._name))}}function oI(e,t,i){cI(e,"PlayState",i,aI(e,t))}function aI(e,t){const i=hI(e,"");return i.indexOf(",")>0?lI(i.split(","),t):lI([i],t)}function lI(e,t){for(let i=0;i<e.length;i++)if(e[i].indexOf(t)>=0)return i;return-1}function uI(e,t,i){i?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function cI(e,t,i,n){const r="animation"+t;if(null!=n){const t=e.style[r];if(t.length){const e=t.split(",");e[n]=i,i=e.join(",")}}e.style[r]=i}function hI(e,t){return e.style["animation"+t]}class dI{constructor(e,t,i,n,r,s,o,a){this.element=e,this.keyframes=t,this.animationName=i,this._duration=n,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=n+r,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new sI(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(e[i]=t?this._finalStyles[i]:rk(this.element,i))})}this.currentSnapshot=e}}class pI extends Vy{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=LD(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class fI{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return FD(e)}matchesElement(e,t){return BD(e,t)}containsElement(e,t){return MD(e,t)}query(e,t,i){return PD(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,i){i=i.map(e=>LD(e));let n=`@keyframes ${t} {\n`,r="";i.forEach(e=>{r=" ";const t=parseFloat(e.offset);n+=`${r}${100*t}% {\n`,r+=" ",Object.keys(e).forEach(t=>{const i=e[t];switch(t){case"offset":return;case"easing":return void(i&&(n+=`${r}animation-timing-function: ${i};\n`));default:return void(n+=`${r}${t}: ${i};\n`)}}),n+=r+"}\n"}),n+="}\n";const s=document.createElement("style");return s.innerHTML=n,s}animate(e,t,i,n,r,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(e=>e instanceof dI),l={};tk(i,n)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const u=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(i=>{"offset"!=i&&"easing"!=i&&(t[i]=e[i])})}),t}(t=ik(e,t,l));if(0==i)return new pI(e,u);const c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,c,t);document.querySelector("head").appendChild(h);const d=tI(e,t),p=new dI(e,t,c,i,n,r,u,d);return p.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class mI{constructor(e,t,i,n){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:rk(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class gI{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(yI().toString()),this._cssKeyframesDriver=new fI}validateStyleProperty(e){return FD(e)}matchesElement(e,t){return BD(e,t)}containsElement(e,t){return MD(e,t)}query(e,t,i){return PD(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,i,n,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,i,n,r,s);const a={duration:i,delay:n,fill:0==n?"both":"forwards"};r&&(a.easing=r);const l={},u=s.filter(e=>e instanceof mI);tk(i,n)&&u.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=tI(e,t=ik(e,t=t.map(e=>HD(e,!1)),l));return new mI(e,t,a,c)}}function yI(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let vI=(()=>{class e extends Ty{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:ot.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?Fy(e):e;return xI(this._renderer,null,t,"register",[i]),new bI(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(Ge(wa),Ge(zu))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();class bI extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new wI(this._id,e,t||{},this._renderer)}}class wI{constructor(e,t,i,n){this.id=e,this.element=t,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return xI(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function xI(e,t,i,n,r){return e.setProperty(t,`@@${i}:${n}`,r)}let CI=(()=>{class e{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(i);return e||(e=new _I("",i,this.engine),this._rendererCache.set(i,e)),e}const n=t.id,r=t.id+"-"+this._currentId;this._currentId++,this.engine.register(r,e);const s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(n,r,e,t.name,t)};return t.data.animation.forEach(s),new SI(this,r,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){e>=0&&e<this._microtaskId?this._zone.run(()=>t(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,i]=e;t(i)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(Ge(wa),Ge(eI),Ge(uu))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();class _I{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,n){this.delegate.setAttribute(e,t,i,n)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,n){this.delegate.setStyle(e,t,i,n)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class SI extends _I{constructor(e,t,i,n){super(t,i,n),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const n=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let r=t.substr(1),s="";return"@"!=r.charAt(0)&&([r,s]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,n,r,s,e=>{this.factory.scheduleListenerCallback(e._data||-1,i,e)})}return this.delegate.listen(e,t,i)}}let EI=(()=>{class e extends eI{constructor(e,t,i){super(e.body,t,i)}}return e.\u0275fac=function(t){return new(t||e)(Ge(zu),Ge(RD),Ge(kk))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})();const DI=[{provide:RD,useFactory:function(){return"function"==typeof yI()?new gI:new fI}},{provide:new Pe("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Ty,useClass:vI},{provide:kk,useFactory:function(){return new Ik}},{provide:eI,useClass:EI},{provide:wa,useFactory:function(e,t,i){return new CI(e,t,i)},deps:[qh,eI,uu]}];let kI=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},providers:DI,imports:[rd]}),e})();function II(e,t){1&e&&ao(0)}function TI(e,t){if(1&e&&(io(0,"div",8),vo(1,1),Ys(2,II,1,0,"ng-container",6),no()),2&e){const e=mo();Wn(2),eo("ngTemplateOutlet",e.headerTemplate)}}function AI(e,t){1&e&&ao(0)}function OI(e,t){if(1&e&&(io(0,"div",9),Yo(1),Ys(2,AI,1,0,"ng-container",6),no()),2&e){const e=mo();Wn(1),Jo(" ",e.header," "),Wn(1),eo("ngTemplateOutlet",e.titleTemplate)}}function FI(e,t){1&e&&ao(0)}function BI(e,t){if(1&e&&(io(0,"div",10),Yo(1),Ys(2,FI,1,0,"ng-container",6),no()),2&e){const e=mo();Wn(1),Jo(" ",e.subheader," "),Wn(1),eo("ngTemplateOutlet",e.subtitleTemplate)}}function MI(e,t){1&e&&ao(0)}function PI(e,t){1&e&&ao(0)}function LI(e,t){if(1&e&&(io(0,"div",11),vo(1,2),Ys(2,PI,1,0,"ng-container",6),no()),2&e){const e=mo();Wn(2),eo("ngTemplateOutlet",e.footerTemplate)}}const NI=["*",[["p-header"]],[["p-footer"]]],RI=["*","p-header","p-footer"];let UI=(()=>{class e{constructor(e){this.el=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"title":this.titleTemplate=e.template;break;case"subtitle":this.subtitleTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.contentTemplate=e.template}})}getBlockableElement(){return this.el.nativeElement.children[0]}}return e.\u0275fac=function(t){return new(t||e)(Js(va))},e.\u0275cmp=ct({type:e,selectors:[["p-card"]],contentQueries:function(e,t,i){var n;1&e&&(Ll(i,_g,!0),Ll(i,Sg,!0),Ll(i,Eg,!1)),2&e&&(Fl(n=Nl())&&(t.headerFacet=n.first),Fl(n=Nl())&&(t.footerFacet=n.first),Fl(n=Nl())&&(t.templates=n))},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:RI,decls:9,vars:9,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(e,t){1&e&&(yo(NI),io(0,"div",0),Ys(1,TI,3,1,"div",1),io(2,"div",2),Ys(3,OI,3,2,"div",3),Ys(4,BI,3,2,"div",4),io(5,"div",5),vo(6),Ys(7,MI,1,0,"ng-container",6),no(),Ys(8,LI,3,1,"div",7),no(),no()),2&e&&(No(t.styleClass),eo("ngClass","p-card p-component")("ngStyle",t.style),Wn(1),eo("ngIf",t.headerFacet||t.headerTemplate),Wn(2),eo("ngIf",t.header||t.titleTemplate),Wn(1),eo("ngIf",t.subheader||t.subtitleTemplate),Wn(3),eo("ngTemplateOutlet",t.contentTemplate),Wn(1),eo("ngIf",t.footerFacet||t.footerTemplate))},directives:[jc,ih,$c,nh],styles:[".p-card-header img{width:100%}"],encapsulation:2,changeDetection:0}),e})(),zI=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh],Dg]}),e})();const VI=["container"],jI=["content"],HI=["xBar"],WI=["yBar"];function GI(e,t){1&e&&ao(0)}const qI=["*"];let $I=(()=>{class e{constructor(e,t,i){this.el=e,this.zone=t,this.cd=i,this.timeoutFrame=e=>setTimeout(e,0)}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.moveBar(),this.moveBar=this.moveBar.bind(this),this.onXBarMouseDown=this.onXBarMouseDown.bind(this),this.onYBarMouseDown=this.onYBarMouseDown.bind(this),this.onDocumentMouseMove=this.onDocumentMouseMove.bind(this),this.onDocumentMouseUp=this.onDocumentMouseUp.bind(this),window.addEventListener("resize",this.moveBar),this.contentViewChild.nativeElement.addEventListener("scroll",this.moveBar),this.contentViewChild.nativeElement.addEventListener("mouseenter",this.moveBar),this.xBarViewChild.nativeElement.addEventListener("mousedown",this.onXBarMouseDown),this.yBarViewChild.nativeElement.addEventListener("mousedown",this.onYBarMouseDown),this.calculateContainerHeight(),this.initialized=!0})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template}})}calculateContainerHeight(){let e=this.containerViewChild.nativeElement,t=this.contentViewChild.nativeElement,i=this.xBarViewChild.nativeElement,n=getComputedStyle(e),r=getComputedStyle(i),s=Ug.getHeight(e)-parseInt(r.height,10);"none"!=n["max-height"]&&0==s&&(e.style.height=t.offsetHeight+parseInt(r.height,10)>parseInt(n["max-height"],10)?n["max-height"]:t.offsetHeight+parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)+"px")}moveBar(){let e=this.containerViewChild.nativeElement,t=this.contentViewChild.nativeElement,i=this.xBarViewChild.nativeElement,n=t.scrollWidth,r=t.clientWidth,s=-1*(e.clientHeight-i.clientHeight);this.scrollXRatio=r/n;let o=this.yBarViewChild.nativeElement,a=t.scrollHeight,l=t.clientHeight,u=-1*(e.clientWidth-o.clientWidth);this.scrollYRatio=l/a,this.requestAnimationFrame(()=>{if(this.scrollXRatio>=1)Ug.addClass(i,"p-scrollpanel-hidden");else{Ug.removeClass(i,"p-scrollpanel-hidden");const e=Math.max(100*this.scrollXRatio,10);i.style.cssText="width:"+e+"%; left:"+t.scrollLeft*(100-e)/(n-r)+"%;bottom:"+s+"px;"}if(this.scrollYRatio>=1)Ug.addClass(o,"p-scrollpanel-hidden");else{Ug.removeClass(o,"p-scrollpanel-hidden");const e=Math.max(100*this.scrollYRatio,10);o.style.cssText="height:"+e+"%; top: calc("+t.scrollTop*(100-e)/(a-l)+"% - "+i.clientHeight+"px);right:"+u+"px;"}})}onYBarMouseDown(e){this.isYBarClicked=!0,this.lastPageY=e.pageY,Ug.addClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),Ug.addClass(document.body,"p-scrollpanel-grabbed"),document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp),e.preventDefault()}onXBarMouseDown(e){this.isXBarClicked=!0,this.lastPageX=e.pageX,Ug.addClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),Ug.addClass(document.body,"p-scrollpanel-grabbed"),document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp),e.preventDefault()}onDocumentMouseMove(e){this.isXBarClicked?this.onMouseMoveForXBar(e):(this.isYBarClicked||this.onMouseMoveForXBar(e),this.onMouseMoveForYBar(e))}onMouseMoveForXBar(e){let t=e.pageX-this.lastPageX;this.lastPageX=e.pageX,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollLeft+=t/this.scrollXRatio})}onMouseMoveForYBar(e){let t=e.pageY-this.lastPageY;this.lastPageY=e.pageY,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollTop+=t/this.scrollYRatio})}scrollTop(e){let t=this.contentViewChild.nativeElement.scrollHeight-this.contentViewChild.nativeElement.clientHeight;this.contentViewChild.nativeElement.scrollTop=e=e>t?t:e>0?e:0}onDocumentMouseUp(e){Ug.removeClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),Ug.removeClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),Ug.removeClass(document.body,"p-scrollpanel-grabbed"),document.removeEventListener("mousemove",this.onDocumentMouseMove),document.removeEventListener("mouseup",this.onDocumentMouseUp),this.isXBarClicked=!1,this.isYBarClicked=!1}requestAnimationFrame(e){(window.requestAnimationFrame||this.timeoutFrame)(e)}ngOnDestroy(){this.initialized&&(window.removeEventListener("resize",this.moveBar),this.contentViewChild.nativeElement.removeEventListener("scroll",this.moveBar),this.contentViewChild.nativeElement.removeEventListener("mouseenter",this.moveBar),this.xBarViewChild.nativeElement.removeEventListener("mousedown",this.onXBarMouseDown),this.yBarViewChild.nativeElement.removeEventListener("mousedown",this.onYBarMouseDown))}refresh(){this.moveBar()}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(uu),Js(ys))},e.\u0275cmp=ct({type:e,selectors:[["p-scrollPanel"]],contentQueries:function(e,t,i){var n;1&e&&Ll(i,Eg,!1),2&e&&Fl(n=Nl())&&(t.templates=n)},viewQuery:function(e,t){var i;1&e&&(Ml(VI,!0),Ml(jI,!0),Ml(HI,!0),Ml(WI,!0)),2&e&&(Fl(i=Nl())&&(t.containerViewChild=i.first),Fl(i=Nl())&&(t.contentViewChild=i.first),Fl(i=Nl())&&(t.xBarViewChild=i.first),Fl(i=Nl())&&(t.yBarViewChild=i.first))},inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:qI,decls:11,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[1,"p-scrollpanel-wrapper"],[1,"p-scrollpanel-content"],["content",""],[4,"ngTemplateOutlet"],[1,"p-scrollpanel-bar","p-scrollpanel-bar-x"],["xBar",""],[1,"p-scrollpanel-bar","p-scrollpanel-bar-y"],["yBar",""]],template:function(e,t){1&e&&(yo(),io(0,"div",0,1),io(2,"div",2),io(3,"div",3,4),vo(5),Ys(6,GI,1,0,"ng-container",5),no(),no(),ro(7,"div",6,7),ro(9,"div",8,9),no()),2&e&&(No(t.styleClass),eo("ngClass","p-scrollpanel p-component")("ngStyle",t.style),Wn(6),eo("ngTemplateOutlet",t.contentTemplate))},directives:[jc,ih,nh],styles:[".p-scrollpanel-wrapper{overflow:hidden;width:100%;height:100%;position:relative;z-index:1;float:left}.p-scrollpanel-content{height:calc(100% + 18px);width:calc(100% + 18px);padding:0 18px 18px 0;position:relative;overflow:auto;box-sizing:border-box}.p-scrollpanel-bar{position:relative;background:#c1c1c1;border-radius:3px;z-index:2;cursor:pointer;opacity:0;transition:opacity .25s linear}.p-scrollpanel-bar-y{width:9px;top:0}.p-scrollpanel-bar-x{height:9px;bottom:0}.p-scrollpanel-hidden{visibility:hidden}.p-scrollpanel:active .p-scrollpanel-bar,.p-scrollpanel:hover .p-scrollpanel-bar{opacity:1}.p-scrollpanel-grabbed{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"],encapsulation:2,changeDetection:0}),e})(),ZI=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh]]}),e})();const XI=["navbar"],YI=["inkbar"];function KI(e,t){1&e&&ro(0,"span",14),2&e&&eo("ngClass",mo(3).$implicit.icon)}function JI(e,t){if(1&e&&(so(0),Ys(1,KI,1,1,"span",12),io(2,"span",13),Yo(3),no(),oo()),2&e){const e=mo(2).$implicit;Wn(1),eo("ngIf",e.icon),Wn(2),Ko(e.label)}}function QI(e,t){1&e&&ao(0)}const eT=function(e,t){return{$implicit:e,index:t}};function tT(e,t){if(1&e){const e=lo();io(0,"a",9),ho("click",(function(t){Qt(e);const i=mo().$implicit;return mo().itemClick(t,i)})),Ys(1,JI,4,2,"ng-container",10),Ys(2,QI,1,0,"ng-container",11),no()}if(2&e){const e=mo(),t=e.$implicit,i=e.index,n=mo();Zs("href",t.url,Sn)("tabindex",t.disabled?null:"0")("target",t.target)("title",t.title)("id",t.id),Wn(1),eo("ngIf",!n.itemTemplate),Wn(1),eo("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",hl(8,eT,t,i))}}function iT(e,t){1&e&&ro(0,"span",14),2&e&&eo("ngClass",mo(3).$implicit.icon)}function nT(e,t){if(1&e&&(so(0),Ys(1,iT,1,1,"span",12),io(2,"span",13),Yo(3),no(),oo()),2&e){const e=mo(2).$implicit;Wn(1),eo("ngIf",e.icon),Wn(2),Ko(e.label)}}function rT(e,t){1&e&&ao(0)}const sT=function(){return{exact:!1}};function oT(e,t){if(1&e){const e=lo();io(0,"a",15),ho("click",(function(t){Qt(e);const i=mo().$implicit;return mo().itemClick(t,i)})),Ys(1,nT,4,2,"ng-container",10),Ys(2,rT,1,0,"ng-container",11),no()}if(2&e){const e=mo(),t=e.$implicit,i=e.index,n=mo();eo("routerLink",t.routerLink)("queryParams",t.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",t.routerLinkActiveOptions||ul(17,sT))("fragment",t.fragment)("queryParamsHandling",t.queryParamsHandling)("preserveFragment",t.preserveFragment)("skipLocationChange",t.skipLocationChange)("replaceUrl",t.replaceUrl)("state",t.state),Zs("tabindex",t.disabled?null:"0")("target",t.target)("title",t.title)("id",t.id),Wn(1),eo("ngIf",!n.itemTemplate),Wn(1),eo("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",hl(18,eT,t,i))}}const aT=function(e,t,i){return{"p-tabmenuitem":!0,"p-disabled":e,"p-highlight":t,"p-hidden":i}};function lT(e,t){if(1&e&&(io(0,"li",6),Ys(1,tT,3,11,"a",7),Ys(2,oT,3,21,"a",8),no()),2&e){const e=t.$implicit,i=mo();eo("ngClass",dl(5,aT,e.disabled,i.activeItem==e,!1===e.visible)),Zs("aria-selected",i.activeItem==e)("aria-expanded",i.activeItem==e),Wn(1),eo("ngIf",!e.routerLink),Wn(1),eo("ngIf",e.routerLink)}}let uT=(()=>{class e{ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template}})}ngAfterViewInit(){this.updateInkBar()}ngAfterViewChecked(){this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}itemClick(e,t){t.disabled?e.preventDefault():(t.command&&t.command({originalEvent:e,item:t}),this.activeItem=t,this.tabChanged=!0)}updateInkBar(){let e=Ug.findSingle(this.navbar.nativeElement,"li.p-highlight");e&&(this.inkbar.nativeElement.style.width=Ug.getWidth(e)+"px",this.inkbar.nativeElement.style.left=Ug.getOffset(e).left-Ug.getOffset(this.navbar.nativeElement).left+"px")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ct({type:e,selectors:[["p-tabMenu"]],contentQueries:function(e,t,i){var n;1&e&&Ll(i,Eg,!1),2&e&&Fl(n=Nl())&&(t.templates=n)},viewQuery:function(e,t){var i;1&e&&(Ml(XI,!0),Ml(YI,!0)),2&e&&(Fl(i=Nl())&&(t.navbar=i.first),Fl(i=Nl())&&(t.inkbar=i.first))},inputs:{activeItem:"activeItem",model:"model",popup:"popup",style:"style",styleClass:"styleClass"},decls:6,vars:5,consts:[[3,"ngClass","ngStyle"],["role","tablist",1,"p-tabmenu-nav","p-reset"],["navbar",""],["role","tab",3,"ngClass",4,"ngFor","ngForOf"],[1,"p-tabmenu-ink-bar"],["inkbar",""],["role","tab",3,"ngClass"],["class","p-menuitem-link","role","presentation","pRipple","",3,"click",4,"ngIf"],["role","presentation","class","p-menuitem-link","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],["role","presentation","pRipple","",1,"p-menuitem-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],[1,"p-menuitem-text"],[1,"p-menuitem-icon",3,"ngClass"],["role","presentation","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"]],template:function(e,t){1&e&&(io(0,"div",0),io(1,"ul",1,2),Ys(3,lT,3,9,"li",3),ro(4,"li",4,5),no(),no()),2&e&&(No(t.styleClass),eo("ngClass","p-tabmenu p-component")("ngStyle",t.style),Wn(3),eo("ngForOf",t.model))},directives:[jc,ih,Gc,$c,zg,nh,Jm,eg],styles:[".p-tabmenu-nav{display:-ms-flexbox;display:flex;margin:0;padding:0;list-style-type:none;-ms-flex-wrap:wrap;flex-wrap:wrap}.p-tabmenu-nav a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabmenu-nav a:focus{z-index:1}.p-tabmenu-nav .p-menuitem-text{line-height:1}.p-tabmenu-ink-bar{display:none;z-index:1}"],encapsulation:2,changeDetection:0}),e})(),cT=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh,hg,Dg,Vg],hg,Dg]}),e})();const hT=function(e){return{"p-hidden":e}};function dT(e,t){if(1&e&&ro(0,"li",4),2&e){const e=mo().$implicit;eo("ngClass",cl(1,hT,!1===e.visible))}}function pT(e,t){1&e&&ro(0,"span",14),2&e&&eo("ngClass",mo(3).$implicit.icon)}function fT(e,t){1&e&&ro(0,"span",15)}const mT=function(e){return{"p-disabled":e}};function gT(e,t){if(1&e){const e=lo();io(0,"a",10),ho("click",(function(t){Qt(e),mo();const i=Ks(1),n=mo().$implicit;return mo().itemClick(t,n,i)})),Ys(1,pT,1,1,"span",11),io(2,"span",12),Yo(3),no(),Ys(4,fT,1,0,"span",13),no()}if(2&e){const e=mo(2).$implicit;eo("ngClass",cl(9,mT,e.disabled)),Zs("href",e.url,Sn)("target",e.target)("title",e.title)("id",e.id)("tabindex",e.disabled?null:"0"),Wn(1),eo("ngIf",e.icon),Wn(2),Ko(e.label),Wn(1),eo("ngIf",e.items)}}function yT(e,t){1&e&&ro(0,"span",14),2&e&&eo("ngClass",mo(3).$implicit.icon)}function vT(e,t){1&e&&ro(0,"span",18)}const bT=function(){return{exact:!1}};function wT(e,t){if(1&e){const e=lo();io(0,"a",16),ho("click",(function(t){Qt(e),mo();const i=Ks(1),n=mo().$implicit;return mo().itemClick(t,n,i)})),Ys(1,yT,1,1,"span",11),io(2,"span",12),Yo(3),no(),Ys(4,vT,1,0,"span",17),no()}if(2&e){const e=mo(2).$implicit;eo("routerLink",e.routerLink)("queryParams",e.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",e.routerLinkActiveOptions||ul(19,bT))("href",e.url,Sn)("ngClass",cl(20,mT,e.disabled))("fragment",e.fragment)("queryParamsHandling",e.queryParamsHandling)("preserveFragment",e.preserveFragment)("skipLocationChange",e.skipLocationChange)("replaceUrl",e.replaceUrl)("state",e.state),Zs("target",e.target)("title",e.title)("id",e.id)("tabindex",e.disabled?null:"0"),Wn(1),eo("ngIf",e.icon),Wn(2),Ko(e.label),Wn(1),eo("ngIf",e.items)}}function xT(e,t){if(1&e&&ro(0,"p-slideMenuSub",19),2&e){const e=mo(2).$implicit,t=mo();eo("item",e)("index",t.index+1)("menuWidth",t.menuWidth)}}const CT=function(e,t){return{"p-menuitem":!0,"p-menuitem-active":e,"p-hidden":t}};function _T(e,t){if(1&e&&(io(0,"li",5,6),Ys(2,gT,5,11,"a",7),Ys(3,wT,5,22,"a",8),Ys(4,xT,1,3,"p-slideMenuSub",9),no()),2&e){const e=Ks(1),t=mo().$implicit,i=mo();No(t.styleClass),eo("ngClass",hl(7,CT,e==i.activeItem,!1===t.visible))("ngStyle",t.style),Wn(2),eo("ngIf",!t.routerLink),Wn(1),eo("ngIf",t.routerLink),Wn(1),eo("ngIf",t.items)}}function ST(e,t){if(1&e&&(Ys(0,dT,1,3,"li",2),Ys(1,_T,5,10,"li",3)),2&e){const e=t.$implicit;eo("ngIf",e.separator),Wn(1),eo("ngIf",!e.separator)}}const ET=function(e,t,i){return{"p-slidemenu-rootlist":e,"p-submenu-list":t,"p-active-submenu":i}},DT=["container"],kT=["backward"],IT=["slideMenuContent"],TT=function(e){return{"p-slidemenu p-component":!0,"p-slidemenu-overlay":e}},AT=function(e,t){return{showTransitionParams:e,hideTransitionParams:t}},OT=function(e){return{value:"visible",params:e}};function FT(e,t){if(1&e){const e=lo();io(0,"div",1,2),ho("click",(function(t){return Qt(e),mo().onClick(t)}))("@overlayAnimation.start",(function(t){return Qt(e),mo().onOverlayAnimationStart(t)})),io(2,"div",3),io(3,"div",4,5),ro(5,"p-slideMenuSub",6),no(),io(6,"div",7,8),ho("click",(function(){return Qt(e),mo().goBack()})),ro(8,"span",9),io(9,"span"),Yo(10),no(),no(),no(),no()}if(2&e){const e=mo();No(e.styleClass),eo("ngClass",cl(16,TT,e.popup))("ngStyle",e.style)("@overlayAnimation",cl(21,OT,hl(18,AT,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0!==e.popup),Wn(2),Bo("height",e.left?e.viewportHeight+"px":"auto"),Wn(3),eo("item",e.model)("index",0)("menuWidth",e.menuWidth)("effectDuration",e.effectDuration)("easing",e.easing),Wn(1),Bo("display",e.left?"block":"none"),Wn(4),Ko(e.backLabel)}}let BT=(()=>{class e{constructor(e){this.backLabel="Back",this.easing="ease-out",this.slideMenu=e}itemClick(e,t,i){t.disabled?e.preventDefault():(t.url||e.preventDefault(),t.command&&t.command({originalEvent:e,item:t}),t.items&&!this.slideMenu.animating&&(this.slideMenu.left-=this.slideMenu.menuWidth,this.activeItem=i,this.slideMenu.animating=!0,setTimeout(()=>this.slideMenu.animating=!1,this.effectDuration)),!t.items&&this.slideMenu.popup&&this.slideMenu.hide())}ngOnDestroy(){this.activeItem=null}}return e.\u0275fac=function(t){return new(t||e)(Js(we(()=>MT)))},e.\u0275cmp=ct({type:e,selectors:[["p-slideMenuSub"]],inputs:{backLabel:"backLabel",easing:"easing",item:"item",root:"root",menuWidth:"menuWidth",effectDuration:"effectDuration",index:"index"},decls:2,vars:16,consts:[[3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-menu-separator",3,"ngClass",4,"ngIf"],[3,"ngClass","class","ngStyle",4,"ngIf"],[1,"p-menu-separator",3,"ngClass"],[3,"ngClass","ngStyle"],["listitem",""],["class","p-menuitem-link",3,"ngClass","click",4,"ngIf"],["class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","href","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],["class","p-submenu",3,"item","index","menuWidth",4,"ngIf"],[1,"p-menuitem-link",3,"ngClass","click"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],[1,"p-menuitem-text"],["class","p-submenu-icon pi pi-fw pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass"],[1,"p-submenu-icon","pi","pi-fw","pi-angle-right"],[1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","href","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],["class","p-submenu-icon pi pi-fw pi-caret-right",4,"ngIf"],[1,"p-submenu-icon","pi","pi-fw","pi-caret-right"],[1,"p-submenu",3,"item","index","menuWidth"]],template:function(e,t){1&e&&(io(0,"ul",0),Ys(1,ST,2,2,"ng-template",1),no()),2&e&&(Bo("width",t.menuWidth,"px")("left",t.root?t.slideMenu.left:t.slideMenu.menuWidth,"px")("transition-property",t.root?"left":"none")("transition-duration",t.effectDuration+"ms")("transition-timing-function",t.easing),eo("ngClass",dl(12,ET,t.root,!t.root,0-t.slideMenu.left==t.index*t.menuWidth)),Wn(1),eo("ngForOf",t.root?t.item:t.item.items))},directives:[jc,Gc,$c,ih,Jm,eg,e],encapsulation:2}),e})(),MT=(()=>{class e{constructor(e,t,i){this.el=e,this.renderer=t,this.cd=i,this.menuWidth=190,this.viewportHeight=180,this.effectDuration=250,this.easing="ease-out",this.backLabel="Back",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new xl,this.onHide=new xl,this.left=0,this.animating=!1}ngAfterViewChecked(){this.viewportUpdated||this.popup||!this.containerViewChild||(this.updateViewPort(),this.viewportUpdated=!0)}set container(e){this.containerViewChild=e}set backward(e){this.backwardViewChild=e}set slideMenuContent(e){this.slideMenuContentViewChild=e}updateViewPort(){this.slideMenuContentViewChild.nativeElement.style.height=this.viewportHeight-Ug.getHiddenElementOuterHeight(this.backwardViewChild.nativeElement)+"px"}toggle(e){this.visible?this.hide():this.show(e),this.preventDocumentDefault=!0}show(e){this.target=e.currentTarget,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.updateViewPort(),this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),Ug.absolutePosition(this.containerViewChild.nativeElement,this.target),this.bindDocumentClickListener(),this.bindDocumentResizeListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):Ug.appendChild(this.containerViewChild.nativeElement,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement)}moveOnTop(){this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++Ug.zindex))}hide(){this.visible=!1,this.cd.markForCheck()}onWindowResize(){this.hide()}onClick(e){this.preventDocumentDefault=!0}goBack(){this.left+=this.menuWidth}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",()=>{this.preventDocumentDefault||(this.hide(),this.cd.detectChanges()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.preventDocumentDefault=!1,this.target=null,this.left=0}ngOnDestroy(){this.popup&&(this.restoreOverlayAppend(),this.onOverlayHide())}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(Ca),Js(ys))},e.\u0275cmp=ct({type:e,selectors:[["p-slideMenu"]],viewQuery:function(e,t){var i;1&e&&(Ml(DT,!0),Ml(kT,!0),Ml(IT,!0)),2&e&&(Fl(i=Nl())&&(t.container=i.first),Fl(i=Nl())&&(t.backward=i.first),Fl(i=Nl())&&(t.slideMenuContent=i.first))},inputs:{menuWidth:"menuWidth",viewportHeight:"viewportHeight",effectDuration:"effectDuration",easing:"easing",backLabel:"backLabel",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],[1,"p-slidemenu-wrapper"],[1,"p-slidemenu-content"],["slideMenuContent",""],["root","root",3,"item","index","menuWidth","effectDuration","easing"],[1,"p-slidemenu-backward",3,"click"],["backward",""],[1,"p-slidemenu-backward-icon","pi","pi-fw","pi-caret-left"]],template:function(e,t){1&e&&Ys(0,FT,11,23,"div",0),2&e&&eo("ngIf",!t.popup||t.visible)},directives:[$c,jc,ih,BT],styles:[".p-slidemenu{width:12.5rem}.p-slidemenu.p-slidemenu-overlay{position:absolute}.p-slidemenu ul{list-style:none;margin:0;padding:0}.p-slidemenu .p-slidemenu-rootlist{position:absolute;top:0}.p-slidemenu .p-submenu-list{display:none;position:absolute;top:0;width:12.5rem}.p-slidemenu .p-menuitem-link{cursor:pointer;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;text-decoration:none;overflow:hidden}.p-slidemenu .p-menuitem-icon,.p-slidemenu .p-menuitem-text{vertical-align:middle}.p-slidemenu .p-menuitem{position:relative}.p-slidemenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-slidemenu .p-slidemenu-wrapper{position:relative}.p-slidemenu .p-slidemenu-content{overflow-x:hidden;overflow-y:auto;position:relative}.p-slidemenu-backward{position:absolute;bottom:0;width:100%;cursor:pointer;display:none}.p-slidemenu-backward .p-slidemenu-backward-icon,.p-slidemenu-backward span{vertical-align:middle}.p-slidemenu .p-menuitem-active{position:static}.p-slidemenu .p-menuitem-active>.p-submenu>.p-submenu-list{display:block}.p-slidemenu .p-active-submenu>.p-menuitem-active>.p-submenu>.p-submenu-list,.p-slidemenu ul:not(.p-active-submenu)>.p-menuitem:not(.p-menuitem-active){display:none}.p-slidemenu .p-active-submenu>.p-menuitem-active~.p-menuitem{display:block}"],encapsulation:2,data:{animation:[Ay("overlayAnimation",[Py(":enter",[By({opacity:0,transform:"scaleY(0.8)"}),Oy("{{showTransitionParams}}")]),Py(":leave",[Oy("{{hideTransitionParams}}",By({opacity:0}))])])]},changeDetection:0}),e})(),PT=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh,hg],hg]}),e})();function LT(e,t){if(1&e&&(io(0,"span",9),Yo(1),no()),2&e){const e=mo();Wn(1),Jo(" ",e.header," ")}}function NT(e,t){1&e&&ao(0)}function RT(e,t){1&e&&vo(0,1,["*ngIf","hasHeaderFacet"])}function UT(e,t){1&e&&ao(0)}function zT(e,t){if(1&e&&(so(0),Ys(1,UT,1,0,"ng-container",5),oo()),2&e){const e=mo();Wn(1),eo("ngTemplateOutlet",e.contentTemplate)}}const VT=["*",[["p-header"]]],jT=function(e){return{"p-accordion-tab-active":e}},HT=function(e,t){return{"p-highlight":e,"p-disabled":t}},WT=function(e){return{transitionParams:e}},GT=function(e){return{value:"visible",params:e}},qT=function(e){return{value:"hidden",params:e}},$T=["*","p-header"],ZT=["*"];let XT=0,YT=(()=>{class e{constructor(e,t){this.changeDetector=t,this.cache=!0,this.selectedChange=new xl,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-accordiontab-"+XT++,this.accordion=e}get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||this.changeDetector.markForCheck()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"header":this.header=e.template;break;default:this.contentTemplate=e.template}})}toggle(e){if(this.disabled)return!1;let t=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:t});else{if(!this.accordion.multiple)for(var i=0;i<this.accordion.tabs.length;i++)this.accordion.tabs[i].selected=!1,this.accordion.tabs[i].selectedChange.emit(!1),this.accordion.tabs[i].changeDetector.markForCheck();this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:t})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),e.preventDefault()}findTabIndex(){let e=-1;for(var t=0;t<this.accordion.tabs.length;t++)if(this.accordion.tabs[t]==this){e=t;break}return e}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(e){32!==e.which&&13!==e.which||(this.toggle(e),e.preventDefault())}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}}return e.\u0275fac=function(t){return new(t||e)(Js(we(()=>KT)),Js(ys))},e.\u0275cmp=ct({type:e,selectors:[["p-accordionTab"]],contentQueries:function(e,t,i){var n;1&e&&(Ll(i,_g,!1),Ll(i,Eg,!1)),2&e&&(Fl(n=Nl())&&(t.headerFacet=n),Fl(n=Nl())&&(t.templates=n))},inputs:{cache:"cache",transitionOptions:"transitionOptions",selected:"selected",header:"header",disabled:"disabled"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:$T,decls:11,vars:28,consts:[[1,"p-accordion-tab",3,"ngClass"],[1,"p-accordion-header",3,"ngClass"],["role","tab",1,"p-accordion-header-link",3,"click","keydown"],[1,"p-accordion-toggle-icon",3,"ngClass"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content"],[1,"p-accordion-header-text"]],template:function(e,t){1&e&&(yo(VT),io(0,"div",0),io(1,"div",1),io(2,"a",2),ho("click",(function(e){return t.toggle(e)}))("keydown",(function(e){return t.onKeydown(e)})),ro(3,"span",3),Ys(4,LT,2,1,"span",4),Ys(5,NT,1,0,"ng-container",5),Ys(6,RT,1,0,"ng-content",6),no(),no(),io(7,"div",7),io(8,"div",8),vo(9),Ys(10,zT,2,1,"ng-container",6),no(),no(),no()),2&e&&(eo("ngClass",cl(15,jT,t.selected)),Wn(1),eo("ngClass",hl(17,HT,t.selected,t.disabled)),Wn(1),Zs("tabindex",t.disabled?null:0)("id",t.id)("aria-controls",t.id+"-content")("aria-expanded",t.selected),Wn(1),eo("ngClass",t.selected?t.accordion.collapseIcon:t.accordion.expandIcon),Wn(1),eo("ngIf",!t.hasHeaderFacet),Wn(1),eo("ngTemplateOutlet",t.headerTemplate),Wn(1),eo("ngIf",t.hasHeaderFacet),Wn(1),eo("@tabContent",t.selected?cl(22,GT,cl(20,WT,t.transitionOptions)):cl(26,qT,cl(24,WT,t.transitionOptions))),Zs("id",t.id+"-content")("aria-hidden",!t.selected)("aria-labelledby",t.id),Wn(3),eo("ngIf",t.contentTemplate&&(t.cache?t.loaded:t.selected)))},directives:[jc,$c,nh],styles:[".p-accordion-header-link{cursor:pointer;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}"],encapsulation:2,data:{animation:[Ay("tabContent",[My("hidden",By({height:"0",overflow:"hidden"})),My("visible",By({height:"*"})),Py("visible <=> hidden",[By({overflow:"hidden"}),Oy("{{transitionParams}}")]),Py("void => *",Oy(0))])]},changeDetection:0}),e})(),KT=(()=>{class e{constructor(e,t){this.el=e,this.changeDetector=t,this.onClose=new xl,this.onOpen=new xl,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.activeIndexChange=new xl,this.tabs=[]}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(e=>{this.initTabs(),this.changeDetector.markForCheck()})}initTabs(){this.tabs=this.tabList.toArray(),this.updateSelectionState()}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}updateSelectionState(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(let e=0;e<this.tabs.length;e++){let t=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;t!==this.tabs[e].selected&&(this.tabs[e].selected=t,this.tabs[e].selectedChange.emit(t))}}updateActiveIndex(){let e=this.multiple?[]:null;this.tabs.forEach((t,i)=>{if(t.selected){if(!this.multiple)return void(e=i);e.push(i)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(e)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(ys))},e.\u0275cmp=ct({type:e,selectors:[["p-accordion"]],contentQueries:function(e,t,i){var n;1&e&&Ll(i,YT,!1),2&e&&Fl(n=Nl())&&(t.tabList=n)},inputs:{expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex",multiple:"multiple",style:"style",styleClass:"styleClass"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:ZT,decls:2,vars:4,consts:[["role","tablist",3,"ngClass","ngStyle"]],template:function(e,t){1&e&&(yo(),io(0,"div",0),vo(1),no()),2&e&&(No(t.styleClass),eo("ngClass","p-accordion p-component")("ngStyle",t.style))},directives:[jc,ih],encapsulation:2,changeDetection:0}),e})(),JT=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh],Dg]}),e})();const QT=["colorSelector"],eA=["colorHandle"],tA=["hue"],iA=["hueHandle"],nA=["input"],rA=function(e){return{"p-disabled":e}};function sA(e,t){if(1&e){const e=lo();io(0,"input",3,4),ho("focus",(function(){return Qt(e),mo().onInputFocus()}))("click",(function(){return Qt(e),mo().onInputClick()}))("keydown",(function(t){return Qt(e),mo().onInputKeydown(t)})),no()}if(2&e){const e=mo();Bo("background-color",e.inputBgColor),eo("ngClass",cl(6,rA,e.disabled))("disabled",e.disabled),Zs("id",e.inputId)("tabindex",e.tabindex)}}const oA=function(e,t){return{"p-colorpicker-panel":!0,"p-colorpicker-overlay-panel":e,"p-disabled":t}},aA=function(e,t){return{showTransitionParams:e,hideTransitionParams:t}},lA=function(e){return{value:"visible",params:e}};function uA(e,t){if(1&e){const e=lo();io(0,"div",5),ho("click",(function(){return Qt(e),mo().onPanelClick()}))("@overlayAnimation.start",(function(t){return Qt(e),mo().onOverlayAnimationStart(t)})),io(1,"div",6),io(2,"div",7,8),ho("mousedown",(function(t){return Qt(e),mo().onColorMousedown(t)})),io(4,"div",9),ro(5,"div",10,11),no(),no(),io(7,"div",12,13),ho("mousedown",(function(t){return Qt(e),mo().onHueMousedown(t)})),ro(9,"div",14,15),no(),no(),no()}if(2&e){const e=mo();eo("ngClass",hl(3,oA,!e.inline,e.disabled))("@overlayAnimation",cl(9,lA,hl(6,aA,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0===e.inline)}}const cA=function(e,t){return{"p-colorpicker p-component":!0,"p-colorpicker-overlay":e,"p-colorpicker-dragging":t}},hA={provide:kv,useExisting:we(()=>dA),multi:!0};let dA=(()=>{class e{constructor(e,t,i){this.el=e,this.renderer=t,this.cd=i,this.format="hex",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onChange=new xl,this.defaultColor="ff0000",this.onModelChange=()=>{},this.onModelTouched=()=>{}}set colorSelector(e){this.colorSelectorViewChild=e}set colorHandle(e){this.colorHandleViewChild=e}set hue(e){this.hueViewChild=e}set hueHandle(e){this.hueHandleViewChild=e}onHueMousedown(e){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.hueDragging=!0,this.pickHue(e))}pickHue(e){let t=this.hueViewChild.nativeElement.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0);this.value=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,e.pageY-t)))/150),s:this.value.s,b:this.value.b}),this.updateColorSelector(),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:e,value:this.getValueToUpdate()})}onColorMousedown(e){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.colorDragging=!0,this.pickColor(e))}pickColor(e){let t=this.colorSelectorViewChild.nativeElement.getBoundingClientRect(),i=t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),n=t.left+document.body.scrollLeft,r=Math.floor(100*Math.max(0,Math.min(150,e.pageX-n))/150),s=Math.floor(100*(150-Math.max(0,Math.min(150,e.pageY-i)))/150);this.value=this.validateHSB({h:this.value.h,s:r,b:s}),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:e,value:this.getValueToUpdate()})}getValueToUpdate(){let e;switch(this.format){case"hex":e="#"+this.HSBtoHEX(this.value);break;case"rgb":e=this.HSBtoRGB(this.value);break;case"hsb":e=this.value}return e}updateModel(){this.onModelChange(this.getValueToUpdate())}writeValue(e){if(e)switch(this.format){case"hex":this.value=this.HEXtoHSB(e);break;case"rgb":this.value=this.RGBtoHSB(e);break;case"hsb":this.value=e}else this.value=this.HEXtoHSB(this.defaultColor);this.updateColorSelector(),this.updateUI(),this.cd.markForCheck()}updateColorSelector(){if(this.colorSelectorViewChild){const e={s:100,b:100};e.h=this.value.h,this.colorSelectorViewChild.nativeElement.style.backgroundColor="#"+this.HSBtoHEX(e)}}updateUI(){this.colorHandleViewChild&&this.hueHandleViewChild.nativeElement&&(this.colorHandleViewChild.nativeElement.style.left=Math.floor(150*this.value.s/100)+"px",this.colorHandleViewChild.nativeElement.style.top=Math.floor(150*(100-this.value.b)/100)+"px",this.hueHandleViewChild.nativeElement.style.top=Math.floor(150-150*this.value.h/360)+"px"),this.inputBgColor="#"+this.HSBtoHEX(this.value)}onInputFocus(){this.onModelTouched()}show(){this.overlayVisible=!0}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.inline||(this.overlay=e.element,this.appendOverlay(),this.autoZIndex&&(this.overlay.style.zIndex=String(this.baseZIndex+ ++Ug.zindex)),this.alignOverlay(),this.bindDocumentClickListener(),this.updateColorSelector(),this.updateUI());break;case"void":this.onOverlayHide()}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Ug.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?Ug.absolutePosition(this.overlay,this.inputViewChild.nativeElement):Ug.relativePosition(this.overlay,this.inputViewChild.nativeElement)}hide(){this.overlayVisible=!1}onInputClick(){this.selfClick=!0,this.togglePanel()}togglePanel(){this.overlayVisible?this.hide():this.show()}onInputKeydown(e){switch(e.which){case 32:this.togglePanel(),e.preventDefault();break;case 27:case 9:this.hide()}}onPanelClick(){this.selfClick=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",()=>{this.selfClick||(this.overlayVisible=!1,this.unbindDocumentClickListener()),this.selfClick=!1,this.cd.markForCheck()}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentMousemoveListener(){this.documentMousemoveListener||(this.documentMousemoveListener=this.renderer.listen("document","mousemove",e=>{this.colorDragging&&this.pickColor(e),this.hueDragging&&this.pickHue(e)}))}unbindDocumentMousemoveListener(){this.documentMousemoveListener&&(this.documentMousemoveListener(),this.documentMousemoveListener=null)}bindDocumentMouseupListener(){this.documentMouseupListener||(this.documentMouseupListener=this.renderer.listen("document","mouseup",()=>{this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}))}unbindDocumentMouseupListener(){this.documentMouseupListener&&(this.documentMouseupListener(),this.documentMouseupListener=null)}validateHSB(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}}validateRGB(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}}validateHEX(e){var t=6-e.length;if(t>0){for(var i=[],n=0;n<t;n++)i.push("0");i.push(e),e=i.join("")}return e}HEXtoRGB(e){let t=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return{r:t>>16,g:(65280&t)>>8,b:255&t}}HEXtoHSB(e){return this.RGBtoHSB(this.HEXtoRGB(e))}RGBtoHSB(e){var t={h:0,s:0,b:0},i=Math.min(e.r,e.g,e.b),n=Math.max(e.r,e.g,e.b),r=n-i;return t.b=n,t.s=0!=n?255*r/n:0,t.h=0!=t.s?e.r==n?(e.g-e.b)/r:e.g==n?2+(e.b-e.r)/r:4+(e.r-e.g)/r:-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}HSBtoRGB(e){var t={r:null,g:null,b:null};let i=e.h,n=255*e.s/100,r=255*e.b/100;if(0==n)t={r,g:r,b:r};else{let e=r,s=(255-n)*r/255,o=i%60*(e-s)/60;360==i&&(i=0),i<60?(t.r=e,t.b=s,t.g=s+o):i<120?(t.g=e,t.b=s,t.r=e-o):i<180?(t.g=e,t.r=s,t.b=s+o):i<240?(t.b=e,t.r=s,t.g=e-o):i<300?(t.b=e,t.g=s,t.r=s+o):i<360?(t.r=e,t.g=s,t.b=e-o):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}RGBtoHEX(e){var t=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];for(var i in t)1==t[i].length&&(t[i]="0"+t[i]);return t.join("")}HSBtoHEX(e){return this.RGBtoHEX(this.HSBtoRGB(e))}onOverlayHide(){this.unbindDocumentClickListener(),this.overlay=null}ngOnDestroy(){this.restoreOverlayAppend(),this.onOverlayHide()}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(Ca),Js(ys))},e.\u0275cmp=ct({type:e,selectors:[["p-colorPicker"]],viewQuery:function(e,t){var i;1&e&&(Ml(QT,!0),Ml(eA,!0),Ml(tA,!0),Ml(iA,!0),Ml(nA,!0)),2&e&&(Fl(i=Nl())&&(t.colorSelector=i.first),Fl(i=Nl())&&(t.colorHandle=i.first),Fl(i=Nl())&&(t.hue=i.first),Fl(i=Nl())&&(t.hueHandle=i.first),Fl(i=Nl())&&(t.inputViewChild=i.first))},inputs:{format:"format",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",disabled:"disabled",style:"style",styleClass:"styleClass",inline:"inline",appendTo:"appendTo",tabindex:"tabindex",inputId:"inputId"},outputs:{onChange:"onChange"},features:[fa([hA])],decls:3,vars:9,consts:[[3,"ngStyle","ngClass"],["type","text","class","p-colorpicker-preview p-inputtext","readonly","readonly",3,"ngClass","disabled","backgroundColor","focus","click","keydown",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["type","text","readonly","readonly",1,"p-colorpicker-preview","p-inputtext",3,"ngClass","disabled","focus","click","keydown"],["input",""],[3,"ngClass","click"],[1,"p-colorpicker-content"],[1,"p-colorpicker-color-selector",3,"mousedown"],["colorSelector",""],[1,"p-colorpicker-color"],[1,"p-colorpicker-color-handle"],["colorHandle",""],[1,"p-colorpicker-hue",3,"mousedown"],["hue",""],[1,"p-colorpicker-hue-handle"],["hueHandle",""]],template:function(e,t){1&e&&(io(0,"div",0),Ys(1,sA,2,8,"input",1),Ys(2,uA,11,11,"div",2),no()),2&e&&(No(t.styleClass),eo("ngStyle",t.style)("ngClass",hl(6,cA,!t.inline,t.colorDragging||t.hueDragging)),Wn(1),eo("ngIf",!t.inline),Wn(1),eo("ngIf",t.inline||t.overlayVisible))},directives:[ih,jc,$c],styles:[".p-colorpicker{display:inline-block}.p-colorpicker-dragging{cursor:pointer}.p-colorpicker-overlay{position:relative}.p-colorpicker-panel{position:relative;width:193px;height:166px}.p-colorpicker-overlay-panel{position:absolute}.p-colorpicker-preview{cursor:pointer}.p-colorpicker-panel .p-colorpicker-content{position:relative}.p-colorpicker-panel .p-colorpicker-color-selector{width:150px;height:150px;top:8px;left:8px;position:absolute}.p-colorpicker-panel .p-colorpicker-color{width:150px;height:150px}.p-colorpicker-panel .p-colorpicker-color-handle{position:absolute;top:0;left:150px;border-radius:100%;width:10px;height:10px;border-width:1px;border-style:solid;margin:-5px 0 0 -5px;cursor:pointer;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue{width:17px;height:150px;top:8px;left:167px;position:absolute;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue-handle{position:absolute;top:150px;left:0;width:21px;margin-left:-2px;margin-top:-5px;height:10px;border-width:2px;border-style:solid;opacity:.85;cursor:pointer}"],encapsulation:2,data:{animation:[Ay("overlayAnimation",[Py(":enter",[By({opacity:0,transform:"scaleY(0.8)"}),Oy("{{showTransitionParams}}")]),Py(":leave",[Oy("{{hideTransitionParams}}",By({opacity:0}))])])]},changeDetection:0}),e})(),pA=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh]]}),e})();function fA(e,t){if(1&e&&(io(0,"span",10),Yo(1),no()),2&e){const e=mo(2);Zs("id",e.id+"_header"),Wn(1),Ko(e.header)}}function mA(e,t){1&e&&ao(0)}function gA(e,t){}function yA(e,t){1&e&&Ys(0,gA,0,0,"ng-template")}function vA(e,t){if(1&e){const e=lo();io(0,"button",11),ho("click",(function(t){return Qt(e),mo(2).onIconClick(t)}))("keydown.enter",(function(t){return Qt(e),mo(2).onIconClick(t)})),ro(1,"span"),no()}if(2&e){const e=mo(2);Zs("id",e.id+"-label")("aria-controls",e.id+"-content")("aria-expanded",!e.collapsed),Wn(1),No(e.collapsed?e.expandIcon:e.collapseIcon)}}function bA(e,t){if(1&e){const e=lo();io(0,"div",6),ho("click",(function(t){return Qt(e),mo().onHeaderClick(t)})),Ys(1,fA,2,2,"span",7),vo(2,1),Ys(3,mA,1,0,"ng-container",4),io(4,"div",8),Ys(5,yA,1,0,void 0,4),Ys(6,vA,2,5,"button",9),no(),no()}if(2&e){const e=mo();Zs("id",e.id+"-titlebar"),Wn(1),eo("ngIf",e.header),Wn(2),eo("ngTemplateOutlet",e.headerTemplate),Wn(2),eo("ngTemplateOutlet",e.iconTemplate),Wn(1),eo("ngIf",e.toggleable)}}function wA(e,t){1&e&&ao(0)}function xA(e,t){1&e&&ao(0)}function CA(e,t){if(1&e&&(io(0,"div",12),vo(1,2),Ys(2,xA,1,0,"ng-container",4),no()),2&e){const e=mo();Wn(2),eo("ngTemplateOutlet",e.footerTemplate)}}const _A=["*",[["p-header"]],[["p-footer"]]],SA=function(e){return{"p-panel p-component":!0,"p-panel-toggleable":e}},EA=function(e){return{transitionParams:e,height:"0",opacity:"0"}},DA=function(e){return{value:"hidden",params:e}},kA=function(e){return{transitionParams:e,height:"*",opacity:"1"}},IA=function(e){return{value:"visible",params:e}},TA=["*","p-header","p-footer"];let AA=0,OA=(()=>{class e{constructor(e){this.el=e,this.collapsed=!1,this.expandIcon="pi pi-plus",this.collapseIcon="pi pi-minus",this.showHeader=!0,this.toggler="icon",this.collapsedChange=new xl,this.onBeforeToggle=new xl,this.onAfterToggle=new xl,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-panel-"+AA++}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"icons":this.iconTemplate=e.template;break;default:this.contentTemplate=e.template}})}onHeaderClick(e){"header"===this.toggler&&this.toggle(e)}onIconClick(e){"icon"===this.toggler&&this.toggle(e)}toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand(e):this.collapse(e)),e.preventDefault()}expand(e){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(e){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(e){this.animating=!1,this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed})}}return e.\u0275fac=function(t){return new(t||e)(Js(va))},e.\u0275cmp=ct({type:e,selectors:[["p-panel"]],contentQueries:function(e,t,i){var n;1&e&&(Ll(i,Sg,!0),Ll(i,Eg,!1)),2&e&&(Fl(n=Nl())&&(t.footerFacet=n.first),Fl(n=Nl())&&(t.templates=n))},inputs:{collapsed:"collapsed",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:"showHeader",toggler:"toggler",transitionOptions:"transitionOptions",toggleable:"toggleable",header:"header",style:"style",styleClass:"styleClass"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:TA,decls:7,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],[1,"p-panel-icons"],["type","button","class","p-panel-header-icon p-panel-toggler p-link","pRipple","","role","tab",3,"click","keydown.enter",4,"ngIf"],[1,"p-panel-title"],["type","button","pRipple","","role","tab",1,"p-panel-header-icon","p-panel-toggler","p-link",3,"click","keydown.enter"],[1,"p-panel-footer"]],template:function(e,t){1&e&&(yo(_A),io(0,"div",0),Ys(1,bA,7,5,"div",1),io(2,"div",2),ho("@panelContent.done",(function(e){return t.onToggleDone(e)})),io(3,"div",3),vo(4),Ys(5,wA,1,0,"ng-container",4),no(),Ys(6,CA,3,1,"div",5),no(),no()),2&e&&(No(t.styleClass),eo("ngClass",cl(12,SA,t.toggleable))("ngStyle",t.style),Zs("id",t.id),Wn(1),eo("ngIf",t.showHeader),Wn(1),eo("@panelContent",t.collapsed?cl(16,DA,cl(14,EA,t.animating?t.transitionOptions:"0ms")):cl(20,IA,cl(18,kA,t.animating?t.transitionOptions:"0ms"))),Zs("id",t.id+"-content")("aria-hidden",t.collapsed)("aria-labelledby",t.id+"-titlebar"),Wn(3),eo("ngTemplateOutlet",t.contentTemplate),Wn(1),eo("ngIf",t.footerFacet||t.footerTemplate))},directives:[jc,ih,$c,nh,zg],styles:[".p-panel-header{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}.p-panel-title{line-height:1}.p-panel-header-icon{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}"],encapsulation:2,data:{animation:[Ay("panelContent",[My("hidden",By({height:"0",overflow:"hidden"})),My("void",By({height:"{{height}}"}),{params:{height:"0"}}),My("visible",By({height:"*"})),Py("visible <=> hidden",[By({overflow:"hidden"}),Oy("{{transitionParams}}")]),Py("void => hidden",Oy("{{transitionParams}}")),Py("void => visible",Oy("{{transitionParams}}"))])]},changeDetection:0}),e})(),FA=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh,Dg,Vg],Dg]}),e})();const BA=function(e,t,i){return{"p-inputswitch p-component":!0,"p-inputswitch-checked":e,"p-disabled":t,"p-focus":i}},MA={provide:kv,useExisting:we(()=>PA),multi:!0};let PA=(()=>{class e{constructor(e){this.cd=e,this.onChange=new xl,this.checked=!1,this.focused=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(e,t){this.disabled||this.readonly||(e.preventDefault(),this.toggle(e),t.focus())}onInputChange(e){this.readonly||this.updateModel(e,e.target.checked)}toggle(e){this.updateModel(e,!this.checked)}updateModel(e,t){this.checked=t,this.onModelChange(this.checked),this.onChange.emit({originalEvent:e,checked:this.checked})}onFocus(e){this.focused=!0}onBlur(e){this.focused=!1,this.onModelTouched()}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return e.\u0275fac=function(t){return new(t||e)(Js(ys))},e.\u0275cmp=ct({type:e,selectors:[["p-inputSwitch"]],inputs:{disabled:"disabled",style:"style",styleClass:"styleClass",tabindex:"tabindex",inputId:"inputId",name:"name",readonly:"readonly",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange"},features:[fa([MA])],decls:5,vars:15,consts:[[3,"ngClass","ngStyle","click"],[1,"p-hidden-accessible"],["type","checkbox","role","switch",3,"checked","disabled","change","focus","blur"],["cb",""],[1,"p-inputswitch-slider"]],template:function(e,t){if(1&e){const e=lo();io(0,"div",0),ho("click",(function(i){Qt(e);const n=Ks(3);return t.onClick(i,n)})),io(1,"div",1),io(2,"input",2,3),ho("change",(function(e){return t.onInputChange(e)}))("focus",(function(e){return t.onFocus(e)}))("blur",(function(e){return t.onBlur(e)})),no(),no(),ro(4,"span",4),no()}2&e&&(No(t.styleClass),eo("ngClass",dl(11,BA,t.checked,t.disabled,t.focused))("ngStyle",t.style),Wn(2),eo("checked",t.checked)("disabled",t.disabled),Zs("id",t.inputId)("name",t.name)("tabindex",t.tabindex)("aria-checked",t.checked)("aria-labelledby",t.ariaLabelledBy))},directives:[jc,ih],styles:['.p-inputswitch{position:relative;display:inline-block}.p-inputswitch-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}'],encapsulation:2,changeDetection:0}),e})(),LA=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh]]}),e})();const NA=function(e,t){return{"pi-minus":e,"pi-plus":t}};function RA(e,t){if(1&e&&ro(0,"span",9),2&e){const e=mo(2);eo("ngClass",hl(1,NA,!e.collapsed,e.collapsed))}}function UA(e,t){1&e&&ao(0)}function zA(e,t){if(1&e){const e=lo();so(0),io(1,"a",7),ho("click",(function(t){return Qt(e),mo().toggle(t)}))("keydown.enter",(function(t){return Qt(e),mo().toggle(t)})),Ys(2,RA,1,4,"span",8),Ys(3,UA,1,0,"ng-container",6),no(),oo()}if(2&e){const e=mo(),t=Ks(4);Wn(1),Zs("aria-controls",e.id+"-content")("aria-expanded",!e.collapsed),Wn(1),eo("ngIf",e.toggleable),Wn(1),eo("ngTemplateOutlet",t)}}function VA(e,t){1&e&&ao(0)}function jA(e,t){if(1&e&&(io(0,"span",10),Yo(1),no(),vo(2,1),Ys(3,VA,1,0,"ng-container",6)),2&e){const e=mo();Wn(1),Ko(e.legend),Wn(2),eo("ngTemplateOutlet",e.headerTemplate)}}function HA(e,t){1&e&&ao(0)}const WA=["*",[["p-header"]]],GA=function(e){return{"p-fieldset p-component":!0,"p-fieldset-toggleable":e}},qA=function(e){return{transitionParams:e,height:"0"}},$A=function(e){return{value:"hidden",params:e}},ZA=function(e){return{transitionParams:e,height:"*"}},XA=function(e){return{value:"visible",params:e}},YA=["*","p-header"];let KA=0,JA=(()=>{class e{constructor(e){this.el=e,this.collapsed=!1,this.collapsedChange=new xl,this.onBeforeToggle=new xl,this.onAfterToggle=new xl,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-fieldset-"+KA++}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template}})}toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.collapsed?this.expand(e):this.collapse(e),this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed}),e.preventDefault()}expand(e){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(e){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(e){this.animating=!1}}return e.\u0275fac=function(t){return new(t||e)(Js(va))},e.\u0275cmp=ct({type:e,selectors:[["p-fieldset"]],contentQueries:function(e,t,i){var n;1&e&&Ll(i,Eg,!1),2&e&&Fl(n=Nl())&&(t.templates=n)},inputs:{collapsed:"collapsed",transitionOptions:"transitionOptions",legend:"legend",toggleable:"toggleable",style:"style",styleClass:"styleClass"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:YA,decls:9,vars:22,consts:[[3,"ngClass","ngStyle"],[1,"p-fieldset-legend"],[4,"ngIf","ngIfElse"],["legendContent",""],["role","region",1,"p-toggleable-content"],[1,"p-fieldset-content"],[4,"ngTemplateOutlet"],["tabindex","0","pRipple","",3,"click","keydown.enter"],["class","p-fieldset-toggler pi",3,"ngClass",4,"ngIf"],[1,"p-fieldset-toggler","pi",3,"ngClass"],[1,"p-fieldset-legend-text"]],template:function(e,t){if(1&e&&(yo(WA),io(0,"fieldset",0),io(1,"legend",1),Ys(2,zA,4,4,"ng-container",2),Ys(3,jA,4,2,"ng-template",null,3,Vl),no(),io(5,"div",4),ho("@fieldsetContent.done",(function(e){return t.onToggleDone(e)})),io(6,"div",5),vo(7),Ys(8,HA,1,0,"ng-container",6),no(),no(),no()),2&e){const e=Ks(4);No(t.styleClass),eo("ngClass",cl(12,GA,t.toggleable))("ngStyle",t.style),Zs("id",t.id),Wn(2),eo("ngIf",t.toggleable)("ngIfElse",e),Wn(3),eo("@fieldsetContent",t.collapsed?cl(16,$A,cl(14,qA,t.transitionOptions)):cl(20,XA,cl(18,ZA,t.animating?t.transitionOptions:"0ms"))),Zs("id",t.id+"-content")("aria-labelledby",t.id)("aria-hidden",t.collapsed),Wn(3),eo("ngTemplateOutlet",t.contentTemplate)}},directives:[jc,ih,$c,nh,zg],styles:[".p-fieldset-legend>a,.p-fieldset-legend>span{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.p-fieldset-toggleable .p-fieldset-legend a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;position:relative}.p-fieldset-legend-text{line-height:1}"],encapsulation:2,data:{animation:[Ay("fieldsetContent",[My("hidden",By({height:"0",overflow:"hidden"})),My("void",By({height:"{{height}}"}),{params:{height:"0"}}),My("visible",By({height:"*"})),Py("visible <=> hidden",[By({overflow:"hidden"}),Oy("{{transitionParams}}")]),Py("void => hidden",Oy("{{transitionParams}}")),Py("void => visible",Oy("{{transitionParams}}"))])]},changeDetection:0}),e})(),QA=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh,Vg],Dg]}),e})();function eO(e,t){1&e&&ao(0)}function tO(e,t){if(1&e&&(io(0,"div",9),vo(1),Ys(2,eO,1,0,"ng-container",10),no()),2&e){const e=mo();Wn(2),eo("ngTemplateOutlet",e.headerTemplate)}}function iO(e,t){1&e&&ao(0)}const nO=function(e){return{height:e}},rO=function(e,t,i,n,r,s,o){return{$implicit:e,index:t,count:i,first:n,last:r,even:s,odd:o}};function sO(e,t){if(1&e&&(so(0),io(1,"div",11),Ys(2,iO,1,0,"ng-container",12),no(),oo()),2&e){const e=t.$implicit,i=t.index,n=t.count,r=t.first,s=t.last,o=t.even,a=t.odd,l=mo();Wn(1),eo("ngStyle",cl(3,nO,l.itemSize+"px")),Wn(1),eo("ngTemplateOutlet",e?l.itemTemplate:l.loadingItemTemplate)("ngTemplateOutletContext",function(e,t,i,n,r,s,o,a,l,u){const c=oi()+5,h=Kt();let d=$s(h,c,i,n,r,s);return qs(h,c+4,o,a,l)||d?js(h,c+7,t(i,n,r,s,o,a,l)):Hs(h,c+7)}(0,rO,e,i,n,r,s,o,a))}}function oO(e,t){1&e&&ao(0)}function aO(e,t){if(1&e&&(io(0,"div",13),vo(1,1),Ys(2,oO,1,0,"ng-container",10),no()),2&e){const e=mo();Wn(2),eo("ngTemplateOutlet",e.footerTemplate)}}const lO=[[["p-header"]],[["p-footer"]]],uO=["p-header","p-footer"];let cO=(()=>{class e{constructor(e){this.el=e,this.trackBy=(e,t)=>t,this.onLazyLoad=new xl,this._totalRecords=0,this.page=0,this._first=0,this.loadedPages=[]}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,console.log("totalRecords is deprecated, provide a value with the length of virtual items instead.")}get first(){return this._first}set first(e){this._first=e,console.log("first property is deprecated, use scrollToIndex function to scroll a specific item.")}get cache(){return this._cache}set cache(e){this._cache=e,console.log("cache is deprecated as it is always on.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"loadingItem":this.loadingItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.itemTemplate=e.template}})}onScrollIndexChange(e){this.lazy&&this.createPageRange(Math.floor(e/this.rows)).forEach(e=>this.loadPage(e))}createPageRange(e){let t=[];return 0!==e&&t.push(e-1),t.push(e),e!==Math.ceil(this.value.length/this.rows)-1&&t.push(e+1),t}loadPage(e){this.loadedPages.includes(e)||(this.onLazyLoad.emit({first:this.rows*e,rows:this.rows}),this.loadedPages.push(e))}getBlockableElement(){return this.el.nativeElement.children[0]}scrollTo(e,t){this.scrollToIndex(e,t)}scrollToIndex(e,t){this.viewport&&this.viewport.scrollToIndex(e,t)}clearCache(){this.loadedPages=[]}ngOnChanges(e){e.value&&(this.lazy||this.clearCache())}}return e.\u0275fac=function(t){return new(t||e)(Js(va))},e.\u0275cmp=ct({type:e,selectors:[["p-virtualScroller"]],contentQueries:function(e,t,i){var n;1&e&&(Ll(i,_g,!0),Ll(i,Sg,!0),Ll(i,Eg,!1)),2&e&&(Fl(n=Nl())&&(t.header=n.first),Fl(n=Nl())&&(t.footer=n.first),Fl(n=Nl())&&(t.templates=n))},viewQuery:function(e,t){var i;1&e&&Ml(DS,!0),2&e&&Fl(i=Nl())&&(t.viewport=i.first)},inputs:{trackBy:"trackBy",totalRecords:"totalRecords",first:"first",cache:"cache",value:"value",itemSize:"itemSize",style:"style",styleClass:"styleClass",scrollHeight:"scrollHeight",lazy:"lazy",rows:"rows",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},outputs:{onLazyLoad:"onLazyLoad"},features:[Tt],ngContentSelectors:uO,decls:9,vars:14,consts:[[3,"ngClass","ngStyle"],["class","p-virtualscroller-header",4,"ngIf"],[1,"p-virtualscroller-content"],["content",""],[1,"p-virtualscroller-list"],[3,"ngStyle","itemSize","minBufferPx","maxBufferPx","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["class","p-virtualscroller-footer",4,"ngIf"],[1,"p-virtualscroller-header"],[4,"ngTemplateOutlet"],[1,"p-virtualscroller-item",3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-virtualscroller-footer"]],template:function(e,t){1&e&&(yo(lO),io(0,"div",0),Ys(1,tO,3,1,"div",1),io(2,"div",2,3),io(4,"div",4),io(5,"cdk-virtual-scroll-viewport",5,6),ho("scrolledIndexChange",(function(e){return t.onScrollIndexChange(e)})),Ys(7,sO,3,13,"ng-container",7),no(),no(),no(),Ys(8,aO,3,1,"div",8),no()),2&e&&(No(t.styleClass),eo("ngClass","p-virtualscroller p-component")("ngStyle",t.style),Wn(1),eo("ngIf",t.header||t.headerTemplate),Wn(4),eo("ngStyle",cl(12,nO,t.scrollHeight))("itemSize",t.itemSize)("minBufferPx",t.minBufferPx)("maxBufferPx",t.maxBufferPx),Wn(2),eo("cdkVirtualForOf",t.value)("cdkVirtualForTrackBy",t.trackBy),Wn(1),eo("ngIf",t.footer||t.footerTemplate))},directives:[jc,ih,$c,DS,CS,IS,nh],encapsulation:2}),e})(),hO=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh,TS],Dg,TS]}),e})();const dO=function(e,t){return{"p-button-icon":!0,"p-button-icon-left":e,"p-button-icon-right":t}};function pO(e,t){if(1&e&&ro(0,"span",3),2&e){const e=mo();No(e.checked?e.onIcon:e.offIcon),eo("ngClass",hl(3,dO,"left"===e.iconPos,"right"===e.iconPos))}}const fO=function(e,t,i){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":e,"p-highlight":t,"p-disabled":i}},mO={provide:kv,useExisting:we(()=>gO),multi:!0};let gO=(()=>{class e{constructor(e){this.cd=e,this.iconPos="left",this.onChange=new xl,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}toggle(e){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:e,checked:this.checked}),this.cd.markForCheck())}onBlur(){this.onModelTouched()}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}}return e.\u0275fac=function(t){return new(t||e)(Js(ys))},e.\u0275cmp=ct({type:e,selectors:[["p-toggleButton"]],inputs:{iconPos:"iconPos",disabled:"disabled",onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabelledBy:"ariaLabelledBy",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex"},outputs:{onChange:"onChange"},features:[fa([mO])],decls:4,vars:12,consts:[["role","checkbox","pRipple","",3,"ngClass","ngStyle","click","keydown.enter"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(e,t){1&e&&(io(0,"div",0),ho("click",(function(e){return t.toggle(e)}))("keydown.enter",(function(e){return t.toggle(e)})),Ys(1,pO,1,6,"span",1),io(2,"span",2),Yo(3),no(),no()),2&e&&(No(t.styleClass),eo("ngClass",dl(8,fO,t.onIcon&&t.offIcon&&!t.hasOnLabel&&!t.hasOffLabel,t.checked,t.disabled))("ngStyle",t.style),Zs("tabindex",t.disabled?null:"0")("aria-checked",t.checked),Wn(1),eo("ngIf",t.onIcon||t.offIcon),Wn(2),Ko(t.checked?t.hasOnLabel?t.onLabel:"":t.hasOffLabel?t.offLabel:""))},directives:[zg,jc,ih,$c],styles:[".p-button[_ngcontent-%COMP%]{margin:0;display:-ms-inline-flexbox;display:inline-flex;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-align:center;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{-ms-flex:1 1 auto;flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{-ms-flex-order:1;order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default}.p-button-icon-only[_ngcontent-%COMP%]{-ms-flex-pack:center;justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]   .p-button-label[_ngcontent-%COMP%]{visibility:hidden;width:0;-ms-flex:0 0 auto;flex:0 0 auto}.p-button-vertical[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{-ms-flex-order:2;order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}"],changeDetection:0}),e})(),yO=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh,Vg]]}),e})();const vO=["container"];function bO(e,t){if(1&e){const e=lo();io(0,"button",5),ho("click",(function(t){return Qt(e),mo().close(t)}))("keydown.enter",(function(t){return Qt(e),mo().close(t)})),ro(1,"span",6),no()}2&e&&Zs("aria-label",mo().ariaCloseLabel)}function wO(e,t){1&e&&ao(0)}const xO=function(e,t,i,n,r,s){return{"p-sidebar":!0,"p-sidebar-active":e,"p-sidebar-left":t,"p-sidebar-right":i,"p-sidebar-top":n,"p-sidebar-bottom":r,"p-sidebar-full":s}},CO=["*"];let _O=(()=>{class e{constructor(e,t){this.el=e,this.renderer=t,this.position="left",this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.modal=!0,this.dismissible=!0,this.showCloseIcon=!0,this.closeOnEscape=!0,this.onShow=new xl,this.onHide=new xl,this.visibleChange=new xl}ngAfterViewInit(){this.initialized=!0,this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):Ug.appendChild(this.containerViewChild.nativeElement,this.appendTo)),this.visible&&this.show()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template}})}get visible(){return this._visible}set visible(e){this._visible=e,this.initialized&&this.containerViewChild&&this.containerViewChild.nativeElement&&(this._visible?this.show():this.preventVisibleChangePropagation?this.preventVisibleChangePropagation=!1:this.hide())}ngAfterViewChecked(){this.executePostDisplayActions&&(this.onShow.emit({}),this.executePostDisplayActions=!1)}show(){this.executePostDisplayActions=!0,this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++Ug.zindex)),this.modal&&this.enableModality()}hide(){this.onHide.emit({}),this.modal&&this.disableModality()}close(e){this.preventVisibleChangePropagation=!0,this.hide(),this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.containerViewChild.nativeElement.style.zIndex)-1),Ug.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",e=>{this.dismissible&&this.close(e)})),document.body.appendChild(this.mask),this.blockScroll&&Ug.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(this.unbindMaskClickListener(),document.body.removeChild(this.mask),this.blockScroll&&Ug.removeClass(document.body,"p-overflow-hidden"),this.mask=null)}onAnimationStart(e){switch(e.toState){case"visible":this.closeOnEscape&&this.bindDocumentEscapeListener();break;case"hidden":this.unbindGlobalListeners()}}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen("document","keydown",e=>{27==e.which&&parseInt(this.containerViewChild.nativeElement.style.zIndex)===Ug.zindex+this.baseZIndex&&this.close(e)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}ngOnDestroy(){this.initialized=!1,this.visible&&this.hide(),this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement),this.unbindGlobalListeners()}}return e.\u0275fac=function(t){return new(t||e)(Js(va),Js(Ca))},e.\u0275cmp=ct({type:e,selectors:[["p-sidebar"]],contentQueries:function(e,t,i){var n;1&e&&Ll(i,Eg,!1),2&e&&Fl(n=Nl())&&(t.templates=n)},viewQuery:function(e,t){var i;1&e&&Ml(vO,!0),2&e&&Fl(i=Nl())&&(t.containerViewChild=i.first)},inputs:{position:"position",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",modal:"modal",dismissible:"dismissible",showCloseIcon:"showCloseIcon",closeOnEscape:"closeOnEscape",visible:"visible",fullScreen:"fullScreen",appendTo:"appendTo",style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},ngContentSelectors:CO,decls:6,vars:15,consts:[["role","complementary",3,"ngClass","ngStyle"],["container",""],[1,"p-sidebar-content"],["type","button","class","p-sidebar-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[4,"ngTemplateOutlet"],["type","button","pRipple","",1,"p-sidebar-close","p-link",3,"click","keydown.enter"],[1,"p-sidebar-close-icon","pi","pi-times"]],template:function(e,t){1&e&&(yo(),io(0,"div",0,1),ho("@panelState.start",(function(e){return t.onAnimationStart(e)})),io(2,"div",2),Ys(3,bO,2,1,"button",3),vo(4),Ys(5,wO,1,0,"ng-container",4),no(),no()),2&e&&(No(t.styleClass),eo("ngClass",function(e,t,i,n,r,s,o,a,l){const u=oi()+8,c=Kt(),h=$s(c,u,i,n,r,s);return Gs(c,u+4,o,a)||h?js(c,u+6,t(i,n,r,s,o,a)):Hs(c,u+6)}(0,xO,t.visible,"left"===t.position,"right"===t.position,"top"===t.position,"bottom"===t.position,t.fullScreen))("@panelState",t.visible?"visible":"hidden")("ngStyle",t.style),Zs("aria-modal",t.modal),Wn(3),eo("ngIf",t.showCloseIcon),Wn(2),eo("ngTemplateOutlet",t.contentTemplate))},directives:[jc,ih,$c,nh,zg],styles:[".p-sidebar{position:fixed;transition:transform .3s}.p-sidebar-content{position:relative}.p-sidebar-close{position:absolute;top:0;right:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;overflow:hidden}.p-sidebar-mask{background-color:transparent;transition-property:background-color}.p-sidebar-mask-leave.p-component-overlay{background-color:transparent}.p-sidebar-left{top:0;left:0;width:20rem;height:100%;-ms-transform:translateX(-100%);transform:translateX(-100%)}.p-sidebar-left.p-sidebar-active{-ms-transform:translateX(0);transform:translateX(0)}.p-sidebar-right{top:0;right:0;width:20rem;height:100%;-ms-transform:translateX(100%);transform:translateX(100%)}.p-sidebar-right.p-sidebar-active{-ms-transform:translateX(0);transform:translateX(0)}.p-sidebar-top{top:0;left:0;width:100%;height:10rem;-ms-transform:translateY(-100%);transform:translateY(-100%)}.p-sidebar-top.p-sidebar-active{-ms-transform:translateY(0);transform:translateY(0)}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem;-ms-transform:translateY(100%);transform:translateY(100%)}.p-sidebar-bottom.p-sidebar-active{-ms-transform:translateY(0);transform:translateY(0)}.p-sidebar-full{width:100%;height:100%;top:0;left:0;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-bottom.p-sidebar-sm,.p-sidebar-top.p-sidebar-sm{height:10rem}.p-sidebar-bottom.p-sidebar-md,.p-sidebar-top.p-sidebar-md{height:20rem}.p-sidebar-bottom.p-sidebar-lg,.p-sidebar-top.p-sidebar-lg{height:30rem}@media screen and (max-width:64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}"],encapsulation:2,data:{animation:[Ay("panelState",[My("hidden",By({opacity:0})),My("visible",By({opacity:1})),Py("visible => hidden",Oy("300ms ease-in")),Py("hidden => visible",Oy("300ms ease-out"))])]},changeDetection:0}),e})(),SO=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh,Vg]]}),e})();const EO=["rb"],DO=function(e,t,i){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":e,"p-disabled":t,"p-radiobutton-label-focus":i}};function kO(e,t){if(1&e){const e=lo();io(0,"label",7),ho("click",(function(t){return Qt(e),mo().select(t)})),Yo(1),no()}if(2&e){const e=mo(),t=Ks(3);No(e.labelStyleClass),eo("ngClass",dl(5,DO,t.checked,e.disabled,e.focused)),Zs("for",e.inputId),Wn(1),Ko(e.label)}}const IO=function(e,t,i){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":e,"p-radiobutton-disabled":t,"p-radiobutton-focused":i}},TO=function(e,t,i){return{"p-radiobutton-box":!0,"p-highlight":e,"p-disabled":t,"p-focus":i}},AO={provide:kv,useExisting:we(()=>OO),multi:!0};let OO=(()=>{class e{constructor(e){this.cd=e,this.onClick=new xl,this.onFocus=new xl,this.onBlur=new xl,this.onModelChange=()=>{},this.onModelTouched=()=>{}}handleClick(e,t,i){e.preventDefault(),this.disabled||(this.select(e),i&&t.focus())}select(e){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.onClick.emit(e))}writeValue(e){this.checked=e==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)}onChange(e){this.select(e)}focus(){this.inputViewChild.nativeElement.focus()}}return e.\u0275fac=function(t){return new(t||e)(Js(ys))},e.\u0275cmp=ct({type:e,selectors:[["p-radioButton"]],viewQuery:function(e,t){var i;1&e&&Ml(EO,!0),2&e&&Fl(i=Nl())&&(t.inputViewChild=i.first)},inputs:{disabled:"disabled",value:"value",name:"name",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[fa([AO])],decls:7,vars:22,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],["role","radio",3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(e,t){if(1&e){const e=lo();io(0,"div",0),io(1,"div",1),io(2,"input",2,3),ho("change",(function(e){return t.onChange(e)}))("focus",(function(e){return t.onInputFocus(e)}))("blur",(function(e){return t.onInputBlur(e)})),no(),no(),io(4,"div",4),ho("click",(function(i){Qt(e);const n=Ks(3);return t.handleClick(i,n,!0)})),ro(5,"span",5),no(),no(),Ys(6,kO,2,9,"label",6)}2&e&&(No(t.styleClass),eo("ngStyle",t.style)("ngClass",dl(14,IO,t.checked,t.disabled,t.focused)),Wn(2),eo("checked",t.checked)("disabled",t.disabled),Zs("id",t.inputId)("name",t.name)("value",t.value)("tabindex",t.tabindex)("aria-labelledby",t.ariaLabelledBy),Wn(2),eo("ngClass",dl(18,TO,t.checked,t.disabled,t.focused)),Zs("aria-checked",t.checked),Wn(2),eo("ngIf",t.label))},directives:[ih,jc,$c],encapsulation:2,changeDetection:0}),e})(),FO=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},imports:[[kh]]}),e})();const BO=["focusElement"];function MO(e,t){1&e&&ro(0,"img",11),2&e&&eo("src",mo().itemCollection.oniItem.iconUrl,Sn)}function PO(e,t){1&e&&ro(0,"app-ui-screen-container",12),2&e&&eo("blueprintItem",mo().itemCollection.items[0])}let LO=(()=>{class e{constructor(e,t){this.blueprintService=e,this.toolService=t}get debug(){return JSON.stringify({connections:this.itemCollection.items[0].connections})}get isGasLiquid(){return this.itemCollection.items[0].buildableElements[0].hasTag("Gas")||this.itemCollection.items[0].buildableElements[0].hasTag("Liquid")}ngOnInit(){this.nbItems=this.itemCollection.items.length+" item"+(this.itemCollection.items.length>1?"s":"")+" selected",this.itemCollection.subscribeSelected(this)}buildingsDestroy(){this.toolService.selectTool.buildingsDestroy(this.itemCollection)}buildingsCopy(){this.toolService.changeTool(Ig.build);let e=kg.BlueprintHelpers.cloneBlueprintItem(this.itemCollection.items[0]);this.toolService.buildTool.changeItem(e)}selectEvery(){this.toolService.selectTool.selectAllLike(this.itemCollection.items[0])}selected(){this.focusElement.nativeElement.focus()}changeElement(e){this.itemCollection.items.map(t=>{t.setElement(e.newElement.id,e.index)}),this.itemCollection.updateNbElements(),this.blueprintService.blueprint.emitBlueprintChanged()}changeTemperature(e){this.itemCollection.items.map(t=>{t.temperature=e}),this.itemCollection.updateTemperatureWarning()}}return e.\u0275fac=function(t){return new(t||e)(Js(Og),Js(Rg))},e.\u0275cmp=ct({type:e,selectors:[["app-item-collection-info"]],viewQuery:function(e,t){var i;1&e&&Bl(BO,!0),2&e&&Fl(i=Nl())&&(t.focusElement=i.first)},inputs:{itemCollection:"itemCollection"},decls:13,vars:10,consts:[["tabindex","0"],["focusElement",""],[1,"icon-nb-items"],["height","70px",3,"src",4,"ngIf"],[1,"text-nb-items"],[3,"currentElement","buildableElementsArray","nbElements","isGasLiquid","changeElement"],[3,"blueprintItem","temperatureWarning","changeTemperature"],[3,"blueprintItem",4,"ngIf"],["pButton","","type","button","icon","pi pi-clone","pTooltip","Build this type of building",1,"ui-button","buttonspace",3,"click"],["pButton","","type","button","icon","pi pi-search-plus",1,"ui-button","buttonspace",3,"pTooltip","click"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Destroy these buildings (Delete key)",1,"ui-button","buttonspace",3,"click"],["height","70px",3,"src"],[3,"blueprintItem"]],template:function(e,t){1&e&&(ro(0,"div",0,1),io(2,"div",2),Ys(3,MO,1,1,"img",3),io(4,"div",4),Yo(5),no(),no(),io(6,"app-buildable-element-picker",5),ho("changeElement",(function(e){return t.changeElement(e)})),no(),io(7,"app-temperature-picker",6),ho("changeTemperature",(function(e){return t.changeTemperature(e)})),no(),Ys(8,PO,1,1,"app-ui-screen-container",7),ro(9,"br"),io(10,"button",8),ho("click",(function(){return t.buildingsCopy()})),no(),io(11,"button",9),ho("click",(function(){return t.selectEvery()})),no(),io(12,"button",10),ho("click",(function(){return t.buildingsDestroy()})),no()),2&e&&(Wn(3),eo("ngIf",null!=t.itemCollection.oniItem.iconUrl),Wn(2),Ko(t.nbItems),Wn(1),eo("currentElement",t.itemCollection.items[0].buildableElements)("buildableElementsArray",t.itemCollection.oniItem.buildableElementsArray)("nbElements",t.itemCollection.nbElements)("isGasLiquid",t.isGasLiquid),Wn(1),eo("blueprintItem",t.itemCollection.items[0])("temperatureWarning",t.itemCollection.temperatureWarning),Wn(1),eo("ngIf",1==t.itemCollection.items.length),Wn(3),wo("pTooltip","Select every ",t.itemCollection.oniItem.name,""))},directives:[$c,jw,hx,wy,_y,wx],styles:[".buttonspace[_ngcontent-%COMP%]{margin-left:5px}.icon-nb-items[_ngcontent-%COMP%]{display:flex;flex-flow:row;align-items:center;justify-content:space-between}.text-nb-items[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}"]}),e})();function NO(e,t){if(1&e){const e=lo();io(0,"button",4),ho("click",(function(){return Qt(e),mo().like()})),no()}2&e&&eo("disabled",mo().disabled)}function RO(e,t){if(1&e){const e=lo();io(0,"button",5),ho("click",(function(){return Qt(e),mo().like()})),no()}2&e&&eo("disabled",mo().disabled)}let UO=(()=>{class e{constructor(e){this.blueprintService=e,this.nbLikes=0}get nbLikesString(){return"like"+(1!=this.nbLikes?"s":"")}ngOnInit(){}like(){this.likedByMe=!this.likedByMe,this.nbLikes+=this.likedByMe?1:-1,this.blueprintService.likeBlueprint(this.blueprintId,this.likedByMe)}}return e.\u0275fac=function(t){return new(t||e)(Js(Og))},e.\u0275cmp=ct({type:e,selectors:[["app-like-widget"]],inputs:{blueprintId:"blueprintId",nbLikes:"nbLikes",likedByMe:"likedByMe",disabled:"disabled"},decls:5,vars:4,consts:[[1,"p-inputgroup"],[1,"p-inputgroup-addon"],["pButton","","type","button","icon","pi thumbs-up","class","p-button-danger",3,"disabled","click",4,"ngIf"],["pButton","","type","button","icon","pi thumbs-up","class","p-button-warning",3,"disabled","click",4,"ngIf"],["pButton","","type","button","icon","pi thumbs-up",1,"p-button-danger",3,"disabled","click"],["pButton","","type","button","icon","pi thumbs-up",1,"p-button-warning",3,"disabled","click"]],template:function(e,t){1&e&&(io(0,"div",0),io(1,"span",1),Yo(2),no(),Ys(3,NO,1,1,"button",2),Ys(4,RO,1,1,"button",3),no()),2&e&&(Wn(2),Qo("",t.nbLikes,"\xa0",t.nbLikesString,""),Wn(1),eo("ngIf",!t.likedByMe),Wn(1),eo("ngIf",t.likedByMe))},directives:[$c,wy],styles:[""]}),e})(),zO=(()=>{class e{}return e.\u0275mod=ft({type:e}),e.\u0275inj=le({factory:function(t){return new(t||e)},providers:[WC,Ag,Og,Rg,Pg,Lg,Ng,fh,{provide:_C,useValue:"6LdS0b8UAAAAAGb8P_L33ypsdiS41Nu8q3CwRg_M"}],imports:[[kh,Vd,_w,Sw,kC,pA,Dw,lx,Cy,zI,ZI,wv,py,cT,PT,uC,vE,JT,ev,Sy,FA,LA,Mw,QA,zE,hO,yO,SO,FO,EC,kI]]}),e})();!function(e,t,i){const n=e.\u0275cmp;n.directiveDefs=()=>t.map(ht),n.pipeDefs=()=>i.map(dt)}(dv,[jc,Hc,Gc,$c,nh,ih,Kc,Jc,Qc,eh,th,Xb,db,gb,Fv,Qv,rb,Tv,hb,mb,ib,Uv,zv,cw,gw,vw,ww,hw,fw,Zb,Gb,zb,Jb,ew,aw,iw,rw,DC,dA,Ew,ax,wy,xy,UI,_g,Sg,Eg,$I,bv,dy,tg,Km,Jm,eg,Nm,uT,MT,lC,yE,fS,CS,SS,IS,DS,KT,YT,Qy,_y,OA,PA,Bw,JA,UE,cO,gO,_O,OO,wC,Bx,lv,rv,nv,sv,ky,fD,bC,Ox,dv,h_,s_,PC,p_,LO,I_,HE,UO,jw,KE,wx,dx,px,fx,Fx,hx,QE,Ev,Lw],[uh,ph,ch,vh,Dh,xh,Ch,dh,_h,fh,gh,yh,bh,WE,GE,qE,$E]);let VO=(()=>{class e extends Rh{constructor(e,t){super(e,t),this.zone=t}addEventListener(e,t,i){return t.endsWith("out-zone")?(t=t.split(".")[0],this.zone.runOutsideAngular(()=>super.addEventListener(e,t,i))):super.addEventListener(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(Ge(Nh),Ge(uu))},e.\u0275prov=ae({token:e,factory:e.\u0275fac}),e})(),jO=(()=>{class e{}return e.\u0275mod=ft({type:e,bootstrap:[yD]}),e.\u0275inj=le({factory:function(t){return new(t||e)},providers:[{provide:Rh,useClass:VO}],imports:[[rd,zO,Vd,gD]]}),e})();(function(){if(bn)throw new Error("Cannot enable prod mode after platform setup.");vn=!1})(),id().bootstrapModule(jO).catch(e=>console.error(e))},zdsv:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("qyOZ");class r{constructor(e){this.spriteInfoName="",this.tags=[],this.rotation=0,this.scale=new n.a,this.translation=new n.a,this.spriteModifierId=e,this.cleanUp()}importFrom(e){if(this.spriteInfoName=e.spriteInfoName,this.translation=e.translation,this.scale=e.scale,this.rotation=e.rotation,this.tags=[],null!=e.tags&&e.tags.length>0)for(let t of e.tags)this.tags.push(t)}cleanUp(){null==this.rotation&&(this.rotation=0),null==this.scale&&(this.scale=n.a.one()),null==this.translation&&(this.translation=n.a.zero()),null==this.tags&&(this.tags=[])}hasTag(e){return-1!=this.tags.indexOf(e)}static AddSpriteModifier(e){}static get spriteModifiers(){return Array.from(r.spriteModifiersMap.values())}static init(){r.spriteModifiersMap=new Map}static load(e){for(let t of e){let e=new r(t.name);e.cleanUp(),e.importFrom(t),r.spriteModifiersMap.set(e.spriteModifierId,e)}}static getSpriteModifer(e){let t=r.spriteModifiersMap.get(e);if(null!=t)return t;throw new Error("SpriteModifier.getSpriteModifer : Sprite Modifier not found : "+e)}}},zn8P:function(e,t){function i(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id="zn8P"}},[[0,0]]]);